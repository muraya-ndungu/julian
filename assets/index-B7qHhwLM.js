function F_(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const o=Object.getOwnPropertyDescriptor(r,i);o&&Object.defineProperty(t,i,o.get?o:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const s of o.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&r(s)}).observe(document,{childList:!0,subtree:!0});function n(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(i){if(i.ep)return;i.ep=!0;const o=n(i);fetch(i.href,o)}})();var Jm=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function rh(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Zm={exports:{}},fl={},eg={exports:{}},le={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ps=Symbol.for("react.element"),U_=Symbol.for("react.portal"),B_=Symbol.for("react.fragment"),z_=Symbol.for("react.strict_mode"),$_=Symbol.for("react.profiler"),q_=Symbol.for("react.provider"),W_=Symbol.for("react.context"),H_=Symbol.for("react.forward_ref"),G_=Symbol.for("react.suspense"),Q_=Symbol.for("react.memo"),K_=Symbol.for("react.lazy"),Rd=Symbol.iterator;function Y_(t){return t===null||typeof t!="object"?null:(t=Rd&&t[Rd]||t["@@iterator"],typeof t=="function"?t:null)}var tg={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},ng=Object.assign,rg={};function ji(t,e,n){this.props=t,this.context=e,this.refs=rg,this.updater=n||tg}ji.prototype.isReactComponent={};ji.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};ji.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function ig(){}ig.prototype=ji.prototype;function ih(t,e,n){this.props=t,this.context=e,this.refs=rg,this.updater=n||tg}var oh=ih.prototype=new ig;oh.constructor=ih;ng(oh,ji.prototype);oh.isPureReactComponent=!0;var kd=Array.isArray,og=Object.prototype.hasOwnProperty,sh={current:null},sg={key:!0,ref:!0,__self:!0,__source:!0};function ag(t,e,n){var r,i={},o=null,s=null;if(e!=null)for(r in e.ref!==void 0&&(s=e.ref),e.key!==void 0&&(o=""+e.key),e)og.call(e,r)&&!sg.hasOwnProperty(r)&&(i[r]=e[r]);var l=arguments.length-2;if(l===1)i.children=n;else if(1<l){for(var u=Array(l),c=0;c<l;c++)u[c]=arguments[c+2];i.children=u}if(t&&t.defaultProps)for(r in l=t.defaultProps,l)i[r]===void 0&&(i[r]=l[r]);return{$$typeof:ps,type:t,key:o,ref:s,props:i,_owner:sh.current}}function X_(t,e){return{$$typeof:ps,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function ah(t){return typeof t=="object"&&t!==null&&t.$$typeof===ps}function J_(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var Nd=/\/+/g;function ou(t,e){return typeof t=="object"&&t!==null&&t.key!=null?J_(""+t.key):e.toString(36)}function sa(t,e,n,r,i){var o=typeof t;(o==="undefined"||o==="boolean")&&(t=null);var s=!1;if(t===null)s=!0;else switch(o){case"string":case"number":s=!0;break;case"object":switch(t.$$typeof){case ps:case U_:s=!0}}if(s)return s=t,i=i(s),t=r===""?"."+ou(s,0):r,kd(i)?(n="",t!=null&&(n=t.replace(Nd,"$&/")+"/"),sa(i,e,n,"",function(c){return c})):i!=null&&(ah(i)&&(i=X_(i,n+(!i.key||s&&s.key===i.key?"":(""+i.key).replace(Nd,"$&/")+"/")+t)),e.push(i)),1;if(s=0,r=r===""?".":r+":",kd(t))for(var l=0;l<t.length;l++){o=t[l];var u=r+ou(o,l);s+=sa(o,e,n,u,i)}else if(u=Y_(t),typeof u=="function")for(t=u.call(t),l=0;!(o=t.next()).done;)o=o.value,u=r+ou(o,l++),s+=sa(o,e,n,u,i);else if(o==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return s}function Fs(t,e,n){if(t==null)return t;var r=[],i=0;return sa(t,r,"","",function(o){return e.call(n,o,i++)}),r}function Z_(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var _t={current:null},aa={transition:null},ew={ReactCurrentDispatcher:_t,ReactCurrentBatchConfig:aa,ReactCurrentOwner:sh};function lg(){throw Error("act(...) is not supported in production builds of React.")}le.Children={map:Fs,forEach:function(t,e,n){Fs(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return Fs(t,function(){e++}),e},toArray:function(t){return Fs(t,function(e){return e})||[]},only:function(t){if(!ah(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};le.Component=ji;le.Fragment=B_;le.Profiler=$_;le.PureComponent=ih;le.StrictMode=z_;le.Suspense=G_;le.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ew;le.act=lg;le.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=ng({},t.props),i=t.key,o=t.ref,s=t._owner;if(e!=null){if(e.ref!==void 0&&(o=e.ref,s=sh.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var l=t.type.defaultProps;for(u in e)og.call(e,u)&&!sg.hasOwnProperty(u)&&(r[u]=e[u]===void 0&&l!==void 0?l[u]:e[u])}var u=arguments.length-2;if(u===1)r.children=n;else if(1<u){l=Array(u);for(var c=0;c<u;c++)l[c]=arguments[c+2];r.children=l}return{$$typeof:ps,type:t.type,key:i,ref:o,props:r,_owner:s}};le.createContext=function(t){return t={$$typeof:W_,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:q_,_context:t},t.Consumer=t};le.createElement=ag;le.createFactory=function(t){var e=ag.bind(null,t);return e.type=t,e};le.createRef=function(){return{current:null}};le.forwardRef=function(t){return{$$typeof:H_,render:t}};le.isValidElement=ah;le.lazy=function(t){return{$$typeof:K_,_payload:{_status:-1,_result:t},_init:Z_}};le.memo=function(t,e){return{$$typeof:Q_,type:t,compare:e===void 0?null:e}};le.startTransition=function(t){var e=aa.transition;aa.transition={};try{t()}finally{aa.transition=e}};le.unstable_act=lg;le.useCallback=function(t,e){return _t.current.useCallback(t,e)};le.useContext=function(t){return _t.current.useContext(t)};le.useDebugValue=function(){};le.useDeferredValue=function(t){return _t.current.useDeferredValue(t)};le.useEffect=function(t,e){return _t.current.useEffect(t,e)};le.useId=function(){return _t.current.useId()};le.useImperativeHandle=function(t,e,n){return _t.current.useImperativeHandle(t,e,n)};le.useInsertionEffect=function(t,e){return _t.current.useInsertionEffect(t,e)};le.useLayoutEffect=function(t,e){return _t.current.useLayoutEffect(t,e)};le.useMemo=function(t,e){return _t.current.useMemo(t,e)};le.useReducer=function(t,e,n){return _t.current.useReducer(t,e,n)};le.useRef=function(t){return _t.current.useRef(t)};le.useState=function(t){return _t.current.useState(t)};le.useSyncExternalStore=function(t,e,n){return _t.current.useSyncExternalStore(t,e,n)};le.useTransition=function(){return _t.current.useTransition()};le.version="18.3.1";eg.exports=le;var q=eg.exports;const zn=rh(q),tw=F_({__proto__:null,default:zn},[q]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var nw=q,rw=Symbol.for("react.element"),iw=Symbol.for("react.fragment"),ow=Object.prototype.hasOwnProperty,sw=nw.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,aw={key:!0,ref:!0,__self:!0,__source:!0};function ug(t,e,n){var r,i={},o=null,s=null;n!==void 0&&(o=""+n),e.key!==void 0&&(o=""+e.key),e.ref!==void 0&&(s=e.ref);for(r in e)ow.call(e,r)&&!aw.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:rw,type:t,key:o,ref:s,props:i,_owner:sw.current}}fl.Fragment=iw;fl.jsx=ug;fl.jsxs=ug;Zm.exports=fl;var O=Zm.exports,cg={exports:{}},Lt={},hg={exports:{}},fg={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(Q,ne){var re=Q.length;Q.push(ne);e:for(;0<re;){var _e=re-1>>>1,pe=Q[_e];if(0<i(pe,ne))Q[_e]=ne,Q[re]=pe,re=_e;else break e}}function n(Q){return Q.length===0?null:Q[0]}function r(Q){if(Q.length===0)return null;var ne=Q[0],re=Q.pop();if(re!==ne){Q[0]=re;e:for(var _e=0,pe=Q.length,ye=pe>>>1;_e<ye;){var St=2*(_e+1)-1,Pe=Q[St],pt=St+1,M=Q[pt];if(0>i(Pe,re))pt<pe&&0>i(M,Pe)?(Q[_e]=M,Q[pt]=re,_e=pt):(Q[_e]=Pe,Q[St]=re,_e=St);else if(pt<pe&&0>i(M,re))Q[_e]=M,Q[pt]=re,_e=pt;else break e}}return ne}function i(Q,ne){var re=Q.sortIndex-ne.sortIndex;return re!==0?re:Q.id-ne.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;t.unstable_now=function(){return o.now()}}else{var s=Date,l=s.now();t.unstable_now=function(){return s.now()-l}}var u=[],c=[],f=1,p=null,m=3,_=!1,v=!1,I=!1,P=typeof setTimeout=="function"?setTimeout:null,w=typeof clearTimeout=="function"?clearTimeout:null,E=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function x(Q){for(var ne=n(c);ne!==null;){if(ne.callback===null)r(c);else if(ne.startTime<=Q)r(c),ne.sortIndex=ne.expirationTime,e(u,ne);else break;ne=n(c)}}function b(Q){if(I=!1,x(Q),!v)if(n(u)!==null)v=!0,Ft(z);else{var ne=n(c);ne!==null&&Tt(b,ne.startTime-Q)}}function z(Q,ne){v=!1,I&&(I=!1,w(y),y=-1),_=!0;var re=m;try{for(x(ne),p=n(u);p!==null&&(!(p.expirationTime>ne)||Q&&!R());){var _e=p.callback;if(typeof _e=="function"){p.callback=null,m=p.priorityLevel;var pe=_e(p.expirationTime<=ne);ne=t.unstable_now(),typeof pe=="function"?p.callback=pe:p===n(u)&&r(u),x(ne)}else r(u);p=n(u)}if(p!==null)var ye=!0;else{var St=n(c);St!==null&&Tt(b,St.startTime-ne),ye=!1}return ye}finally{p=null,m=re,_=!1}}var $=!1,S=null,y=-1,T=5,A=-1;function R(){return!(t.unstable_now()-A<T)}function N(){if(S!==null){var Q=t.unstable_now();A=Q;var ne=!0;try{ne=S(!0,Q)}finally{ne?C():($=!1,S=null)}}else $=!1}var C;if(typeof E=="function")C=function(){E(N)};else if(typeof MessageChannel<"u"){var ze=new MessageChannel,Et=ze.port2;ze.port1.onmessage=N,C=function(){Et.postMessage(null)}}else C=function(){P(N,0)};function Ft(Q){S=Q,$||($=!0,C())}function Tt(Q,ne){y=P(function(){Q(t.unstable_now())},ne)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(Q){Q.callback=null},t.unstable_continueExecution=function(){v||_||(v=!0,Ft(z))},t.unstable_forceFrameRate=function(Q){0>Q||125<Q?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):T=0<Q?Math.floor(1e3/Q):5},t.unstable_getCurrentPriorityLevel=function(){return m},t.unstable_getFirstCallbackNode=function(){return n(u)},t.unstable_next=function(Q){switch(m){case 1:case 2:case 3:var ne=3;break;default:ne=m}var re=m;m=ne;try{return Q()}finally{m=re}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(Q,ne){switch(Q){case 1:case 2:case 3:case 4:case 5:break;default:Q=3}var re=m;m=Q;try{return ne()}finally{m=re}},t.unstable_scheduleCallback=function(Q,ne,re){var _e=t.unstable_now();switch(typeof re=="object"&&re!==null?(re=re.delay,re=typeof re=="number"&&0<re?_e+re:_e):re=_e,Q){case 1:var pe=-1;break;case 2:pe=250;break;case 5:pe=1073741823;break;case 4:pe=1e4;break;default:pe=5e3}return pe=re+pe,Q={id:f++,callback:ne,priorityLevel:Q,startTime:re,expirationTime:pe,sortIndex:-1},re>_e?(Q.sortIndex=re,e(c,Q),n(u)===null&&Q===n(c)&&(I?(w(y),y=-1):I=!0,Tt(b,re-_e))):(Q.sortIndex=pe,e(u,Q),v||_||(v=!0,Ft(z))),Q},t.unstable_shouldYield=R,t.unstable_wrapCallback=function(Q){var ne=m;return function(){var re=m;m=ne;try{return Q.apply(this,arguments)}finally{m=re}}}})(fg);hg.exports=fg;var lw=hg.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var uw=q,Mt=lw;function W(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var dg=new Set,Fo={};function jr(t,e){Ii(t,e),Ii(t+"Capture",e)}function Ii(t,e){for(Fo[t]=e,t=0;t<e.length;t++)dg.add(e[t])}var wn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Uu=Object.prototype.hasOwnProperty,cw=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Vd={},Dd={};function hw(t){return Uu.call(Dd,t)?!0:Uu.call(Vd,t)?!1:cw.test(t)?Dd[t]=!0:(Vd[t]=!0,!1)}function fw(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function dw(t,e,n,r){if(e===null||typeof e>"u"||fw(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function wt(t,e,n,r,i,o,s){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=o,this.removeEmptyString=s}var rt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){rt[t]=new wt(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];rt[e]=new wt(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){rt[t]=new wt(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){rt[t]=new wt(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){rt[t]=new wt(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){rt[t]=new wt(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){rt[t]=new wt(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){rt[t]=new wt(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){rt[t]=new wt(t,5,!1,t.toLowerCase(),null,!1,!1)});var lh=/[\-:]([a-z])/g;function uh(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(lh,uh);rt[e]=new wt(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(lh,uh);rt[e]=new wt(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(lh,uh);rt[e]=new wt(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){rt[t]=new wt(t,1,!1,t.toLowerCase(),null,!1,!1)});rt.xlinkHref=new wt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){rt[t]=new wt(t,1,!1,t.toLowerCase(),null,!0,!0)});function ch(t,e,n,r){var i=rt.hasOwnProperty(e)?rt[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(dw(e,n,i,r)&&(n=null),r||i===null?hw(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var Cn=uw.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Us=Symbol.for("react.element"),ii=Symbol.for("react.portal"),oi=Symbol.for("react.fragment"),hh=Symbol.for("react.strict_mode"),Bu=Symbol.for("react.profiler"),pg=Symbol.for("react.provider"),mg=Symbol.for("react.context"),fh=Symbol.for("react.forward_ref"),zu=Symbol.for("react.suspense"),$u=Symbol.for("react.suspense_list"),dh=Symbol.for("react.memo"),On=Symbol.for("react.lazy"),gg=Symbol.for("react.offscreen"),Od=Symbol.iterator;function uo(t){return t===null||typeof t!="object"?null:(t=Od&&t[Od]||t["@@iterator"],typeof t=="function"?t:null)}var Ne=Object.assign,su;function vo(t){if(su===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);su=e&&e[1]||""}return`
`+su+t}var au=!1;function lu(t,e){if(!t||au)return"";au=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var r=c}Reflect.construct(t,[],e)}else{try{e.call()}catch(c){r=c}t.call(e.prototype)}else{try{throw Error()}catch(c){r=c}t()}}catch(c){if(c&&r&&typeof c.stack=="string"){for(var i=c.stack.split(`
`),o=r.stack.split(`
`),s=i.length-1,l=o.length-1;1<=s&&0<=l&&i[s]!==o[l];)l--;for(;1<=s&&0<=l;s--,l--)if(i[s]!==o[l]){if(s!==1||l!==1)do if(s--,l--,0>l||i[s]!==o[l]){var u=`
`+i[s].replace(" at new "," at ");return t.displayName&&u.includes("<anonymous>")&&(u=u.replace("<anonymous>",t.displayName)),u}while(1<=s&&0<=l);break}}}finally{au=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?vo(t):""}function pw(t){switch(t.tag){case 5:return vo(t.type);case 16:return vo("Lazy");case 13:return vo("Suspense");case 19:return vo("SuspenseList");case 0:case 2:case 15:return t=lu(t.type,!1),t;case 11:return t=lu(t.type.render,!1),t;case 1:return t=lu(t.type,!0),t;default:return""}}function qu(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case oi:return"Fragment";case ii:return"Portal";case Bu:return"Profiler";case hh:return"StrictMode";case zu:return"Suspense";case $u:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case mg:return(t.displayName||"Context")+".Consumer";case pg:return(t._context.displayName||"Context")+".Provider";case fh:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case dh:return e=t.displayName||null,e!==null?e:qu(t.type)||"Memo";case On:e=t._payload,t=t._init;try{return qu(t(e))}catch{}}return null}function mw(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return qu(e);case 8:return e===hh?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function nr(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function yg(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function gw(t){var e=yg(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,o=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(s){r=""+s,o.call(this,s)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(s){r=""+s},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Bs(t){t._valueTracker||(t._valueTracker=gw(t))}function vg(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=yg(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function Ia(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Wu(t,e){var n=e.checked;return Ne({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function bd(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=nr(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function _g(t,e){e=e.checked,e!=null&&ch(t,"checked",e,!1)}function Hu(t,e){_g(t,e);var n=nr(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?Gu(t,e.type,n):e.hasOwnProperty("defaultValue")&&Gu(t,e.type,nr(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function Md(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function Gu(t,e,n){(e!=="number"||Ia(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var _o=Array.isArray;function gi(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+nr(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function Qu(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(W(91));return Ne({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function Ld(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(W(92));if(_o(n)){if(1<n.length)throw Error(W(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:nr(n)}}function wg(t,e){var n=nr(e.value),r=nr(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function jd(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function Eg(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Ku(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?Eg(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var zs,Tg=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(zs=zs||document.createElement("div"),zs.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=zs.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Uo(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var Ao={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},yw=["Webkit","ms","Moz","O"];Object.keys(Ao).forEach(function(t){yw.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Ao[e]=Ao[t]})});function Sg(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||Ao.hasOwnProperty(t)&&Ao[t]?(""+e).trim():e+"px"}function Ig(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=Sg(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var vw=Ne({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Yu(t,e){if(e){if(vw[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(W(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(W(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(W(61))}if(e.style!=null&&typeof e.style!="object")throw Error(W(62))}}function Xu(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ju=null;function ph(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Zu=null,yi=null,vi=null;function Fd(t){if(t=ys(t)){if(typeof Zu!="function")throw Error(W(280));var e=t.stateNode;e&&(e=yl(e),Zu(t.stateNode,t.type,e))}}function xg(t){yi?vi?vi.push(t):vi=[t]:yi=t}function Ag(){if(yi){var t=yi,e=vi;if(vi=yi=null,Fd(t),e)for(t=0;t<e.length;t++)Fd(e[t])}}function Cg(t,e){return t(e)}function Pg(){}var uu=!1;function Rg(t,e,n){if(uu)return t(e,n);uu=!0;try{return Cg(t,e,n)}finally{uu=!1,(yi!==null||vi!==null)&&(Pg(),Ag())}}function Bo(t,e){var n=t.stateNode;if(n===null)return null;var r=yl(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(W(231,e,typeof n));return n}var ec=!1;if(wn)try{var co={};Object.defineProperty(co,"passive",{get:function(){ec=!0}}),window.addEventListener("test",co,co),window.removeEventListener("test",co,co)}catch{ec=!1}function _w(t,e,n,r,i,o,s,l,u){var c=Array.prototype.slice.call(arguments,3);try{e.apply(n,c)}catch(f){this.onError(f)}}var Co=!1,xa=null,Aa=!1,tc=null,ww={onError:function(t){Co=!0,xa=t}};function Ew(t,e,n,r,i,o,s,l,u){Co=!1,xa=null,_w.apply(ww,arguments)}function Tw(t,e,n,r,i,o,s,l,u){if(Ew.apply(this,arguments),Co){if(Co){var c=xa;Co=!1,xa=null}else throw Error(W(198));Aa||(Aa=!0,tc=c)}}function Fr(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function kg(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function Ud(t){if(Fr(t)!==t)throw Error(W(188))}function Sw(t){var e=t.alternate;if(!e){if(e=Fr(t),e===null)throw Error(W(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var o=i.alternate;if(o===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return Ud(i),t;if(o===r)return Ud(i),e;o=o.sibling}throw Error(W(188))}if(n.return!==r.return)n=i,r=o;else{for(var s=!1,l=i.child;l;){if(l===n){s=!0,n=i,r=o;break}if(l===r){s=!0,r=i,n=o;break}l=l.sibling}if(!s){for(l=o.child;l;){if(l===n){s=!0,n=o,r=i;break}if(l===r){s=!0,r=o,n=i;break}l=l.sibling}if(!s)throw Error(W(189))}}if(n.alternate!==r)throw Error(W(190))}if(n.tag!==3)throw Error(W(188));return n.stateNode.current===n?t:e}function Ng(t){return t=Sw(t),t!==null?Vg(t):null}function Vg(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=Vg(t);if(e!==null)return e;t=t.sibling}return null}var Dg=Mt.unstable_scheduleCallback,Bd=Mt.unstable_cancelCallback,Iw=Mt.unstable_shouldYield,xw=Mt.unstable_requestPaint,Me=Mt.unstable_now,Aw=Mt.unstable_getCurrentPriorityLevel,mh=Mt.unstable_ImmediatePriority,Og=Mt.unstable_UserBlockingPriority,Ca=Mt.unstable_NormalPriority,Cw=Mt.unstable_LowPriority,bg=Mt.unstable_IdlePriority,dl=null,an=null;function Pw(t){if(an&&typeof an.onCommitFiberRoot=="function")try{an.onCommitFiberRoot(dl,t,void 0,(t.current.flags&128)===128)}catch{}}var Zt=Math.clz32?Math.clz32:Nw,Rw=Math.log,kw=Math.LN2;function Nw(t){return t>>>=0,t===0?32:31-(Rw(t)/kw|0)|0}var $s=64,qs=4194304;function wo(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Pa(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,o=t.pingedLanes,s=n&268435455;if(s!==0){var l=s&~i;l!==0?r=wo(l):(o&=s,o!==0&&(r=wo(o)))}else s=n&~i,s!==0?r=wo(s):o!==0&&(r=wo(o));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,o=e&-e,i>=o||i===16&&(o&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-Zt(e),i=1<<n,r|=t[n],e&=~i;return r}function Vw(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Dw(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,o=t.pendingLanes;0<o;){var s=31-Zt(o),l=1<<s,u=i[s];u===-1?(!(l&n)||l&r)&&(i[s]=Vw(l,e)):u<=e&&(t.expiredLanes|=l),o&=~l}}function nc(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function Mg(){var t=$s;return $s<<=1,!($s&4194240)&&($s=64),t}function cu(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function ms(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Zt(e),t[e]=n}function Ow(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-Zt(n),o=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~o}}function gh(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-Zt(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var we=0;function Lg(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var jg,yh,Fg,Ug,Bg,rc=!1,Ws=[],$n=null,qn=null,Wn=null,zo=new Map,$o=new Map,Mn=[],bw="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function zd(t,e){switch(t){case"focusin":case"focusout":$n=null;break;case"dragenter":case"dragleave":qn=null;break;case"mouseover":case"mouseout":Wn=null;break;case"pointerover":case"pointerout":zo.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":$o.delete(e.pointerId)}}function ho(t,e,n,r,i,o){return t===null||t.nativeEvent!==o?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:o,targetContainers:[i]},e!==null&&(e=ys(e),e!==null&&yh(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function Mw(t,e,n,r,i){switch(e){case"focusin":return $n=ho($n,t,e,n,r,i),!0;case"dragenter":return qn=ho(qn,t,e,n,r,i),!0;case"mouseover":return Wn=ho(Wn,t,e,n,r,i),!0;case"pointerover":var o=i.pointerId;return zo.set(o,ho(zo.get(o)||null,t,e,n,r,i)),!0;case"gotpointercapture":return o=i.pointerId,$o.set(o,ho($o.get(o)||null,t,e,n,r,i)),!0}return!1}function zg(t){var e=Sr(t.target);if(e!==null){var n=Fr(e);if(n!==null){if(e=n.tag,e===13){if(e=kg(n),e!==null){t.blockedOn=e,Bg(t.priority,function(){Fg(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function la(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=ic(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);Ju=r,n.target.dispatchEvent(r),Ju=null}else return e=ys(n),e!==null&&yh(e),t.blockedOn=n,!1;e.shift()}return!0}function $d(t,e,n){la(t)&&n.delete(e)}function Lw(){rc=!1,$n!==null&&la($n)&&($n=null),qn!==null&&la(qn)&&(qn=null),Wn!==null&&la(Wn)&&(Wn=null),zo.forEach($d),$o.forEach($d)}function fo(t,e){t.blockedOn===e&&(t.blockedOn=null,rc||(rc=!0,Mt.unstable_scheduleCallback(Mt.unstable_NormalPriority,Lw)))}function qo(t){function e(i){return fo(i,t)}if(0<Ws.length){fo(Ws[0],t);for(var n=1;n<Ws.length;n++){var r=Ws[n];r.blockedOn===t&&(r.blockedOn=null)}}for($n!==null&&fo($n,t),qn!==null&&fo(qn,t),Wn!==null&&fo(Wn,t),zo.forEach(e),$o.forEach(e),n=0;n<Mn.length;n++)r=Mn[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<Mn.length&&(n=Mn[0],n.blockedOn===null);)zg(n),n.blockedOn===null&&Mn.shift()}var _i=Cn.ReactCurrentBatchConfig,Ra=!0;function jw(t,e,n,r){var i=we,o=_i.transition;_i.transition=null;try{we=1,vh(t,e,n,r)}finally{we=i,_i.transition=o}}function Fw(t,e,n,r){var i=we,o=_i.transition;_i.transition=null;try{we=4,vh(t,e,n,r)}finally{we=i,_i.transition=o}}function vh(t,e,n,r){if(Ra){var i=ic(t,e,n,r);if(i===null)wu(t,e,r,ka,n),zd(t,r);else if(Mw(i,t,e,n,r))r.stopPropagation();else if(zd(t,r),e&4&&-1<bw.indexOf(t)){for(;i!==null;){var o=ys(i);if(o!==null&&jg(o),o=ic(t,e,n,r),o===null&&wu(t,e,r,ka,n),o===i)break;i=o}i!==null&&r.stopPropagation()}else wu(t,e,r,null,n)}}var ka=null;function ic(t,e,n,r){if(ka=null,t=ph(r),t=Sr(t),t!==null)if(e=Fr(t),e===null)t=null;else if(n=e.tag,n===13){if(t=kg(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return ka=t,null}function $g(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Aw()){case mh:return 1;case Og:return 4;case Ca:case Cw:return 16;case bg:return 536870912;default:return 16}default:return 16}}var jn=null,_h=null,ua=null;function qg(){if(ua)return ua;var t,e=_h,n=e.length,r,i="value"in jn?jn.value:jn.textContent,o=i.length;for(t=0;t<n&&e[t]===i[t];t++);var s=n-t;for(r=1;r<=s&&e[n-r]===i[o-r];r++);return ua=i.slice(t,1<r?1-r:void 0)}function ca(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Hs(){return!0}function qd(){return!1}function jt(t){function e(n,r,i,o,s){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=o,this.target=s,this.currentTarget=null;for(var l in t)t.hasOwnProperty(l)&&(n=t[l],this[l]=n?n(o):o[l]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?Hs:qd,this.isPropagationStopped=qd,this}return Ne(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Hs)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Hs)},persist:function(){},isPersistent:Hs}),e}var Fi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},wh=jt(Fi),gs=Ne({},Fi,{view:0,detail:0}),Uw=jt(gs),hu,fu,po,pl=Ne({},gs,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Eh,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==po&&(po&&t.type==="mousemove"?(hu=t.screenX-po.screenX,fu=t.screenY-po.screenY):fu=hu=0,po=t),hu)},movementY:function(t){return"movementY"in t?t.movementY:fu}}),Wd=jt(pl),Bw=Ne({},pl,{dataTransfer:0}),zw=jt(Bw),$w=Ne({},gs,{relatedTarget:0}),du=jt($w),qw=Ne({},Fi,{animationName:0,elapsedTime:0,pseudoElement:0}),Ww=jt(qw),Hw=Ne({},Fi,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Gw=jt(Hw),Qw=Ne({},Fi,{data:0}),Hd=jt(Qw),Kw={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Yw={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Xw={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Jw(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=Xw[t])?!!e[t]:!1}function Eh(){return Jw}var Zw=Ne({},gs,{key:function(t){if(t.key){var e=Kw[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=ca(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Yw[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Eh,charCode:function(t){return t.type==="keypress"?ca(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?ca(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),e1=jt(Zw),t1=Ne({},pl,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Gd=jt(t1),n1=Ne({},gs,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Eh}),r1=jt(n1),i1=Ne({},Fi,{propertyName:0,elapsedTime:0,pseudoElement:0}),o1=jt(i1),s1=Ne({},pl,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),a1=jt(s1),l1=[9,13,27,32],Th=wn&&"CompositionEvent"in window,Po=null;wn&&"documentMode"in document&&(Po=document.documentMode);var u1=wn&&"TextEvent"in window&&!Po,Wg=wn&&(!Th||Po&&8<Po&&11>=Po),Qd=" ",Kd=!1;function Hg(t,e){switch(t){case"keyup":return l1.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Gg(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var si=!1;function c1(t,e){switch(t){case"compositionend":return Gg(e);case"keypress":return e.which!==32?null:(Kd=!0,Qd);case"textInput":return t=e.data,t===Qd&&Kd?null:t;default:return null}}function h1(t,e){if(si)return t==="compositionend"||!Th&&Hg(t,e)?(t=qg(),ua=_h=jn=null,si=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return Wg&&e.locale!=="ko"?null:e.data;default:return null}}var f1={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Yd(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!f1[t.type]:e==="textarea"}function Qg(t,e,n,r){xg(r),e=Na(e,"onChange"),0<e.length&&(n=new wh("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var Ro=null,Wo=null;function d1(t){oy(t,0)}function ml(t){var e=ui(t);if(vg(e))return t}function p1(t,e){if(t==="change")return e}var Kg=!1;if(wn){var pu;if(wn){var mu="oninput"in document;if(!mu){var Xd=document.createElement("div");Xd.setAttribute("oninput","return;"),mu=typeof Xd.oninput=="function"}pu=mu}else pu=!1;Kg=pu&&(!document.documentMode||9<document.documentMode)}function Jd(){Ro&&(Ro.detachEvent("onpropertychange",Yg),Wo=Ro=null)}function Yg(t){if(t.propertyName==="value"&&ml(Wo)){var e=[];Qg(e,Wo,t,ph(t)),Rg(d1,e)}}function m1(t,e,n){t==="focusin"?(Jd(),Ro=e,Wo=n,Ro.attachEvent("onpropertychange",Yg)):t==="focusout"&&Jd()}function g1(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return ml(Wo)}function y1(t,e){if(t==="click")return ml(e)}function v1(t,e){if(t==="input"||t==="change")return ml(e)}function _1(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var tn=typeof Object.is=="function"?Object.is:_1;function Ho(t,e){if(tn(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!Uu.call(e,i)||!tn(t[i],e[i]))return!1}return!0}function Zd(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function ep(t,e){var n=Zd(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Zd(n)}}function Xg(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?Xg(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function Jg(){for(var t=window,e=Ia();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=Ia(t.document)}return e}function Sh(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function w1(t){var e=Jg(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&Xg(n.ownerDocument.documentElement,n)){if(r!==null&&Sh(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,o=Math.min(r.start,i);r=r.end===void 0?o:Math.min(r.end,i),!t.extend&&o>r&&(i=r,r=o,o=i),i=ep(n,o);var s=ep(n,r);i&&s&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==s.node||t.focusOffset!==s.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),o>r?(t.addRange(e),t.extend(s.node,s.offset)):(e.setEnd(s.node,s.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var E1=wn&&"documentMode"in document&&11>=document.documentMode,ai=null,oc=null,ko=null,sc=!1;function tp(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;sc||ai==null||ai!==Ia(r)||(r=ai,"selectionStart"in r&&Sh(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),ko&&Ho(ko,r)||(ko=r,r=Na(oc,"onSelect"),0<r.length&&(e=new wh("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=ai)))}function Gs(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var li={animationend:Gs("Animation","AnimationEnd"),animationiteration:Gs("Animation","AnimationIteration"),animationstart:Gs("Animation","AnimationStart"),transitionend:Gs("Transition","TransitionEnd")},gu={},Zg={};wn&&(Zg=document.createElement("div").style,"AnimationEvent"in window||(delete li.animationend.animation,delete li.animationiteration.animation,delete li.animationstart.animation),"TransitionEvent"in window||delete li.transitionend.transition);function gl(t){if(gu[t])return gu[t];if(!li[t])return t;var e=li[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in Zg)return gu[t]=e[n];return t}var ey=gl("animationend"),ty=gl("animationiteration"),ny=gl("animationstart"),ry=gl("transitionend"),iy=new Map,np="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ur(t,e){iy.set(t,e),jr(e,[t])}for(var yu=0;yu<np.length;yu++){var vu=np[yu],T1=vu.toLowerCase(),S1=vu[0].toUpperCase()+vu.slice(1);ur(T1,"on"+S1)}ur(ey,"onAnimationEnd");ur(ty,"onAnimationIteration");ur(ny,"onAnimationStart");ur("dblclick","onDoubleClick");ur("focusin","onFocus");ur("focusout","onBlur");ur(ry,"onTransitionEnd");Ii("onMouseEnter",["mouseout","mouseover"]);Ii("onMouseLeave",["mouseout","mouseover"]);Ii("onPointerEnter",["pointerout","pointerover"]);Ii("onPointerLeave",["pointerout","pointerover"]);jr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));jr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));jr("onBeforeInput",["compositionend","keypress","textInput","paste"]);jr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));jr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));jr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Eo="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),I1=new Set("cancel close invalid load scroll toggle".split(" ").concat(Eo));function rp(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,Tw(r,e,void 0,t),t.currentTarget=null}function oy(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var o=void 0;if(e)for(var s=r.length-1;0<=s;s--){var l=r[s],u=l.instance,c=l.currentTarget;if(l=l.listener,u!==o&&i.isPropagationStopped())break e;rp(i,l,c),o=u}else for(s=0;s<r.length;s++){if(l=r[s],u=l.instance,c=l.currentTarget,l=l.listener,u!==o&&i.isPropagationStopped())break e;rp(i,l,c),o=u}}}if(Aa)throw t=tc,Aa=!1,tc=null,t}function Ie(t,e){var n=e[hc];n===void 0&&(n=e[hc]=new Set);var r=t+"__bubble";n.has(r)||(sy(e,t,2,!1),n.add(r))}function _u(t,e,n){var r=0;e&&(r|=4),sy(n,t,r,e)}var Qs="_reactListening"+Math.random().toString(36).slice(2);function Go(t){if(!t[Qs]){t[Qs]=!0,dg.forEach(function(n){n!=="selectionchange"&&(I1.has(n)||_u(n,!1,t),_u(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Qs]||(e[Qs]=!0,_u("selectionchange",!1,e))}}function sy(t,e,n,r){switch($g(e)){case 1:var i=jw;break;case 4:i=Fw;break;default:i=vh}n=i.bind(null,e,n,t),i=void 0,!ec||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function wu(t,e,n,r,i){var o=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var s=r.tag;if(s===3||s===4){var l=r.stateNode.containerInfo;if(l===i||l.nodeType===8&&l.parentNode===i)break;if(s===4)for(s=r.return;s!==null;){var u=s.tag;if((u===3||u===4)&&(u=s.stateNode.containerInfo,u===i||u.nodeType===8&&u.parentNode===i))return;s=s.return}for(;l!==null;){if(s=Sr(l),s===null)return;if(u=s.tag,u===5||u===6){r=o=s;continue e}l=l.parentNode}}r=r.return}Rg(function(){var c=o,f=ph(n),p=[];e:{var m=iy.get(t);if(m!==void 0){var _=wh,v=t;switch(t){case"keypress":if(ca(n)===0)break e;case"keydown":case"keyup":_=e1;break;case"focusin":v="focus",_=du;break;case"focusout":v="blur",_=du;break;case"beforeblur":case"afterblur":_=du;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":_=Wd;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":_=zw;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":_=r1;break;case ey:case ty:case ny:_=Ww;break;case ry:_=o1;break;case"scroll":_=Uw;break;case"wheel":_=a1;break;case"copy":case"cut":case"paste":_=Gw;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":_=Gd}var I=(e&4)!==0,P=!I&&t==="scroll",w=I?m!==null?m+"Capture":null:m;I=[];for(var E=c,x;E!==null;){x=E;var b=x.stateNode;if(x.tag===5&&b!==null&&(x=b,w!==null&&(b=Bo(E,w),b!=null&&I.push(Qo(E,b,x)))),P)break;E=E.return}0<I.length&&(m=new _(m,v,null,n,f),p.push({event:m,listeners:I}))}}if(!(e&7)){e:{if(m=t==="mouseover"||t==="pointerover",_=t==="mouseout"||t==="pointerout",m&&n!==Ju&&(v=n.relatedTarget||n.fromElement)&&(Sr(v)||v[En]))break e;if((_||m)&&(m=f.window===f?f:(m=f.ownerDocument)?m.defaultView||m.parentWindow:window,_?(v=n.relatedTarget||n.toElement,_=c,v=v?Sr(v):null,v!==null&&(P=Fr(v),v!==P||v.tag!==5&&v.tag!==6)&&(v=null)):(_=null,v=c),_!==v)){if(I=Wd,b="onMouseLeave",w="onMouseEnter",E="mouse",(t==="pointerout"||t==="pointerover")&&(I=Gd,b="onPointerLeave",w="onPointerEnter",E="pointer"),P=_==null?m:ui(_),x=v==null?m:ui(v),m=new I(b,E+"leave",_,n,f),m.target=P,m.relatedTarget=x,b=null,Sr(f)===c&&(I=new I(w,E+"enter",v,n,f),I.target=x,I.relatedTarget=P,b=I),P=b,_&&v)t:{for(I=_,w=v,E=0,x=I;x;x=Jr(x))E++;for(x=0,b=w;b;b=Jr(b))x++;for(;0<E-x;)I=Jr(I),E--;for(;0<x-E;)w=Jr(w),x--;for(;E--;){if(I===w||w!==null&&I===w.alternate)break t;I=Jr(I),w=Jr(w)}I=null}else I=null;_!==null&&ip(p,m,_,I,!1),v!==null&&P!==null&&ip(p,P,v,I,!0)}}e:{if(m=c?ui(c):window,_=m.nodeName&&m.nodeName.toLowerCase(),_==="select"||_==="input"&&m.type==="file")var z=p1;else if(Yd(m))if(Kg)z=v1;else{z=g1;var $=m1}else(_=m.nodeName)&&_.toLowerCase()==="input"&&(m.type==="checkbox"||m.type==="radio")&&(z=y1);if(z&&(z=z(t,c))){Qg(p,z,n,f);break e}$&&$(t,m,c),t==="focusout"&&($=m._wrapperState)&&$.controlled&&m.type==="number"&&Gu(m,"number",m.value)}switch($=c?ui(c):window,t){case"focusin":(Yd($)||$.contentEditable==="true")&&(ai=$,oc=c,ko=null);break;case"focusout":ko=oc=ai=null;break;case"mousedown":sc=!0;break;case"contextmenu":case"mouseup":case"dragend":sc=!1,tp(p,n,f);break;case"selectionchange":if(E1)break;case"keydown":case"keyup":tp(p,n,f)}var S;if(Th)e:{switch(t){case"compositionstart":var y="onCompositionStart";break e;case"compositionend":y="onCompositionEnd";break e;case"compositionupdate":y="onCompositionUpdate";break e}y=void 0}else si?Hg(t,n)&&(y="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(y="onCompositionStart");y&&(Wg&&n.locale!=="ko"&&(si||y!=="onCompositionStart"?y==="onCompositionEnd"&&si&&(S=qg()):(jn=f,_h="value"in jn?jn.value:jn.textContent,si=!0)),$=Na(c,y),0<$.length&&(y=new Hd(y,t,null,n,f),p.push({event:y,listeners:$}),S?y.data=S:(S=Gg(n),S!==null&&(y.data=S)))),(S=u1?c1(t,n):h1(t,n))&&(c=Na(c,"onBeforeInput"),0<c.length&&(f=new Hd("onBeforeInput","beforeinput",null,n,f),p.push({event:f,listeners:c}),f.data=S))}oy(p,e)})}function Qo(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Na(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,o=i.stateNode;i.tag===5&&o!==null&&(i=o,o=Bo(t,n),o!=null&&r.unshift(Qo(t,o,i)),o=Bo(t,e),o!=null&&r.push(Qo(t,o,i))),t=t.return}return r}function Jr(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function ip(t,e,n,r,i){for(var o=e._reactName,s=[];n!==null&&n!==r;){var l=n,u=l.alternate,c=l.stateNode;if(u!==null&&u===r)break;l.tag===5&&c!==null&&(l=c,i?(u=Bo(n,o),u!=null&&s.unshift(Qo(n,u,l))):i||(u=Bo(n,o),u!=null&&s.push(Qo(n,u,l)))),n=n.return}s.length!==0&&t.push({event:e,listeners:s})}var x1=/\r\n?/g,A1=/\u0000|\uFFFD/g;function op(t){return(typeof t=="string"?t:""+t).replace(x1,`
`).replace(A1,"")}function Ks(t,e,n){if(e=op(e),op(t)!==e&&n)throw Error(W(425))}function Va(){}var ac=null,lc=null;function uc(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var cc=typeof setTimeout=="function"?setTimeout:void 0,C1=typeof clearTimeout=="function"?clearTimeout:void 0,sp=typeof Promise=="function"?Promise:void 0,P1=typeof queueMicrotask=="function"?queueMicrotask:typeof sp<"u"?function(t){return sp.resolve(null).then(t).catch(R1)}:cc;function R1(t){setTimeout(function(){throw t})}function Eu(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),qo(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);qo(e)}function Hn(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function ap(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var Ui=Math.random().toString(36).slice(2),sn="__reactFiber$"+Ui,Ko="__reactProps$"+Ui,En="__reactContainer$"+Ui,hc="__reactEvents$"+Ui,k1="__reactListeners$"+Ui,N1="__reactHandles$"+Ui;function Sr(t){var e=t[sn];if(e)return e;for(var n=t.parentNode;n;){if(e=n[En]||n[sn]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=ap(t);t!==null;){if(n=t[sn])return n;t=ap(t)}return e}t=n,n=t.parentNode}return null}function ys(t){return t=t[sn]||t[En],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function ui(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(W(33))}function yl(t){return t[Ko]||null}var fc=[],ci=-1;function cr(t){return{current:t}}function Ae(t){0>ci||(t.current=fc[ci],fc[ci]=null,ci--)}function Te(t,e){ci++,fc[ci]=t.current,t.current=e}var rr={},dt=cr(rr),Pt=cr(!1),Nr=rr;function xi(t,e){var n=t.type.contextTypes;if(!n)return rr;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},o;for(o in n)i[o]=e[o];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function Rt(t){return t=t.childContextTypes,t!=null}function Da(){Ae(Pt),Ae(dt)}function lp(t,e,n){if(dt.current!==rr)throw Error(W(168));Te(dt,e),Te(Pt,n)}function ay(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(W(108,mw(t)||"Unknown",i));return Ne({},n,r)}function Oa(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||rr,Nr=dt.current,Te(dt,t),Te(Pt,Pt.current),!0}function up(t,e,n){var r=t.stateNode;if(!r)throw Error(W(169));n?(t=ay(t,e,Nr),r.__reactInternalMemoizedMergedChildContext=t,Ae(Pt),Ae(dt),Te(dt,t)):Ae(Pt),Te(Pt,n)}var mn=null,vl=!1,Tu=!1;function ly(t){mn===null?mn=[t]:mn.push(t)}function V1(t){vl=!0,ly(t)}function hr(){if(!Tu&&mn!==null){Tu=!0;var t=0,e=we;try{var n=mn;for(we=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}mn=null,vl=!1}catch(i){throw mn!==null&&(mn=mn.slice(t+1)),Dg(mh,hr),i}finally{we=e,Tu=!1}}return null}var hi=[],fi=0,ba=null,Ma=0,Ut=[],Bt=0,Vr=null,gn=1,yn="";function wr(t,e){hi[fi++]=Ma,hi[fi++]=ba,ba=t,Ma=e}function uy(t,e,n){Ut[Bt++]=gn,Ut[Bt++]=yn,Ut[Bt++]=Vr,Vr=t;var r=gn;t=yn;var i=32-Zt(r)-1;r&=~(1<<i),n+=1;var o=32-Zt(e)+i;if(30<o){var s=i-i%5;o=(r&(1<<s)-1).toString(32),r>>=s,i-=s,gn=1<<32-Zt(e)+i|n<<i|r,yn=o+t}else gn=1<<o|n<<i|r,yn=t}function Ih(t){t.return!==null&&(wr(t,1),uy(t,1,0))}function xh(t){for(;t===ba;)ba=hi[--fi],hi[fi]=null,Ma=hi[--fi],hi[fi]=null;for(;t===Vr;)Vr=Ut[--Bt],Ut[Bt]=null,yn=Ut[--Bt],Ut[Bt]=null,gn=Ut[--Bt],Ut[Bt]=null}var Ot=null,Dt=null,Ce=!1,Xt=null;function cy(t,e){var n=$t(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function cp(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Ot=t,Dt=Hn(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Ot=t,Dt=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=Vr!==null?{id:gn,overflow:yn}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=$t(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,Ot=t,Dt=null,!0):!1;default:return!1}}function dc(t){return(t.mode&1)!==0&&(t.flags&128)===0}function pc(t){if(Ce){var e=Dt;if(e){var n=e;if(!cp(t,e)){if(dc(t))throw Error(W(418));e=Hn(n.nextSibling);var r=Ot;e&&cp(t,e)?cy(r,n):(t.flags=t.flags&-4097|2,Ce=!1,Ot=t)}}else{if(dc(t))throw Error(W(418));t.flags=t.flags&-4097|2,Ce=!1,Ot=t}}}function hp(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Ot=t}function Ys(t){if(t!==Ot)return!1;if(!Ce)return hp(t),Ce=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!uc(t.type,t.memoizedProps)),e&&(e=Dt)){if(dc(t))throw hy(),Error(W(418));for(;e;)cy(t,e),e=Hn(e.nextSibling)}if(hp(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(W(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){Dt=Hn(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}Dt=null}}else Dt=Ot?Hn(t.stateNode.nextSibling):null;return!0}function hy(){for(var t=Dt;t;)t=Hn(t.nextSibling)}function Ai(){Dt=Ot=null,Ce=!1}function Ah(t){Xt===null?Xt=[t]:Xt.push(t)}var D1=Cn.ReactCurrentBatchConfig;function mo(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(W(309));var r=n.stateNode}if(!r)throw Error(W(147,t));var i=r,o=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===o?e.ref:(e=function(s){var l=i.refs;s===null?delete l[o]:l[o]=s},e._stringRef=o,e)}if(typeof t!="string")throw Error(W(284));if(!n._owner)throw Error(W(290,t))}return t}function Xs(t,e){throw t=Object.prototype.toString.call(e),Error(W(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function fp(t){var e=t._init;return e(t._payload)}function fy(t){function e(w,E){if(t){var x=w.deletions;x===null?(w.deletions=[E],w.flags|=16):x.push(E)}}function n(w,E){if(!t)return null;for(;E!==null;)e(w,E),E=E.sibling;return null}function r(w,E){for(w=new Map;E!==null;)E.key!==null?w.set(E.key,E):w.set(E.index,E),E=E.sibling;return w}function i(w,E){return w=Yn(w,E),w.index=0,w.sibling=null,w}function o(w,E,x){return w.index=x,t?(x=w.alternate,x!==null?(x=x.index,x<E?(w.flags|=2,E):x):(w.flags|=2,E)):(w.flags|=1048576,E)}function s(w){return t&&w.alternate===null&&(w.flags|=2),w}function l(w,E,x,b){return E===null||E.tag!==6?(E=Ru(x,w.mode,b),E.return=w,E):(E=i(E,x),E.return=w,E)}function u(w,E,x,b){var z=x.type;return z===oi?f(w,E,x.props.children,b,x.key):E!==null&&(E.elementType===z||typeof z=="object"&&z!==null&&z.$$typeof===On&&fp(z)===E.type)?(b=i(E,x.props),b.ref=mo(w,E,x),b.return=w,b):(b=ya(x.type,x.key,x.props,null,w.mode,b),b.ref=mo(w,E,x),b.return=w,b)}function c(w,E,x,b){return E===null||E.tag!==4||E.stateNode.containerInfo!==x.containerInfo||E.stateNode.implementation!==x.implementation?(E=ku(x,w.mode,b),E.return=w,E):(E=i(E,x.children||[]),E.return=w,E)}function f(w,E,x,b,z){return E===null||E.tag!==7?(E=Pr(x,w.mode,b,z),E.return=w,E):(E=i(E,x),E.return=w,E)}function p(w,E,x){if(typeof E=="string"&&E!==""||typeof E=="number")return E=Ru(""+E,w.mode,x),E.return=w,E;if(typeof E=="object"&&E!==null){switch(E.$$typeof){case Us:return x=ya(E.type,E.key,E.props,null,w.mode,x),x.ref=mo(w,null,E),x.return=w,x;case ii:return E=ku(E,w.mode,x),E.return=w,E;case On:var b=E._init;return p(w,b(E._payload),x)}if(_o(E)||uo(E))return E=Pr(E,w.mode,x,null),E.return=w,E;Xs(w,E)}return null}function m(w,E,x,b){var z=E!==null?E.key:null;if(typeof x=="string"&&x!==""||typeof x=="number")return z!==null?null:l(w,E,""+x,b);if(typeof x=="object"&&x!==null){switch(x.$$typeof){case Us:return x.key===z?u(w,E,x,b):null;case ii:return x.key===z?c(w,E,x,b):null;case On:return z=x._init,m(w,E,z(x._payload),b)}if(_o(x)||uo(x))return z!==null?null:f(w,E,x,b,null);Xs(w,x)}return null}function _(w,E,x,b,z){if(typeof b=="string"&&b!==""||typeof b=="number")return w=w.get(x)||null,l(E,w,""+b,z);if(typeof b=="object"&&b!==null){switch(b.$$typeof){case Us:return w=w.get(b.key===null?x:b.key)||null,u(E,w,b,z);case ii:return w=w.get(b.key===null?x:b.key)||null,c(E,w,b,z);case On:var $=b._init;return _(w,E,x,$(b._payload),z)}if(_o(b)||uo(b))return w=w.get(x)||null,f(E,w,b,z,null);Xs(E,b)}return null}function v(w,E,x,b){for(var z=null,$=null,S=E,y=E=0,T=null;S!==null&&y<x.length;y++){S.index>y?(T=S,S=null):T=S.sibling;var A=m(w,S,x[y],b);if(A===null){S===null&&(S=T);break}t&&S&&A.alternate===null&&e(w,S),E=o(A,E,y),$===null?z=A:$.sibling=A,$=A,S=T}if(y===x.length)return n(w,S),Ce&&wr(w,y),z;if(S===null){for(;y<x.length;y++)S=p(w,x[y],b),S!==null&&(E=o(S,E,y),$===null?z=S:$.sibling=S,$=S);return Ce&&wr(w,y),z}for(S=r(w,S);y<x.length;y++)T=_(S,w,y,x[y],b),T!==null&&(t&&T.alternate!==null&&S.delete(T.key===null?y:T.key),E=o(T,E,y),$===null?z=T:$.sibling=T,$=T);return t&&S.forEach(function(R){return e(w,R)}),Ce&&wr(w,y),z}function I(w,E,x,b){var z=uo(x);if(typeof z!="function")throw Error(W(150));if(x=z.call(x),x==null)throw Error(W(151));for(var $=z=null,S=E,y=E=0,T=null,A=x.next();S!==null&&!A.done;y++,A=x.next()){S.index>y?(T=S,S=null):T=S.sibling;var R=m(w,S,A.value,b);if(R===null){S===null&&(S=T);break}t&&S&&R.alternate===null&&e(w,S),E=o(R,E,y),$===null?z=R:$.sibling=R,$=R,S=T}if(A.done)return n(w,S),Ce&&wr(w,y),z;if(S===null){for(;!A.done;y++,A=x.next())A=p(w,A.value,b),A!==null&&(E=o(A,E,y),$===null?z=A:$.sibling=A,$=A);return Ce&&wr(w,y),z}for(S=r(w,S);!A.done;y++,A=x.next())A=_(S,w,y,A.value,b),A!==null&&(t&&A.alternate!==null&&S.delete(A.key===null?y:A.key),E=o(A,E,y),$===null?z=A:$.sibling=A,$=A);return t&&S.forEach(function(N){return e(w,N)}),Ce&&wr(w,y),z}function P(w,E,x,b){if(typeof x=="object"&&x!==null&&x.type===oi&&x.key===null&&(x=x.props.children),typeof x=="object"&&x!==null){switch(x.$$typeof){case Us:e:{for(var z=x.key,$=E;$!==null;){if($.key===z){if(z=x.type,z===oi){if($.tag===7){n(w,$.sibling),E=i($,x.props.children),E.return=w,w=E;break e}}else if($.elementType===z||typeof z=="object"&&z!==null&&z.$$typeof===On&&fp(z)===$.type){n(w,$.sibling),E=i($,x.props),E.ref=mo(w,$,x),E.return=w,w=E;break e}n(w,$);break}else e(w,$);$=$.sibling}x.type===oi?(E=Pr(x.props.children,w.mode,b,x.key),E.return=w,w=E):(b=ya(x.type,x.key,x.props,null,w.mode,b),b.ref=mo(w,E,x),b.return=w,w=b)}return s(w);case ii:e:{for($=x.key;E!==null;){if(E.key===$)if(E.tag===4&&E.stateNode.containerInfo===x.containerInfo&&E.stateNode.implementation===x.implementation){n(w,E.sibling),E=i(E,x.children||[]),E.return=w,w=E;break e}else{n(w,E);break}else e(w,E);E=E.sibling}E=ku(x,w.mode,b),E.return=w,w=E}return s(w);case On:return $=x._init,P(w,E,$(x._payload),b)}if(_o(x))return v(w,E,x,b);if(uo(x))return I(w,E,x,b);Xs(w,x)}return typeof x=="string"&&x!==""||typeof x=="number"?(x=""+x,E!==null&&E.tag===6?(n(w,E.sibling),E=i(E,x),E.return=w,w=E):(n(w,E),E=Ru(x,w.mode,b),E.return=w,w=E),s(w)):n(w,E)}return P}var Ci=fy(!0),dy=fy(!1),La=cr(null),ja=null,di=null,Ch=null;function Ph(){Ch=di=ja=null}function Rh(t){var e=La.current;Ae(La),t._currentValue=e}function mc(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function wi(t,e){ja=t,Ch=di=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Ct=!0),t.firstContext=null)}function Wt(t){var e=t._currentValue;if(Ch!==t)if(t={context:t,memoizedValue:e,next:null},di===null){if(ja===null)throw Error(W(308));di=t,ja.dependencies={lanes:0,firstContext:t}}else di=di.next=t;return e}var Ir=null;function kh(t){Ir===null?Ir=[t]:Ir.push(t)}function py(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,kh(e)):(n.next=i.next,i.next=n),e.interleaved=n,Tn(t,r)}function Tn(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var bn=!1;function Nh(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function my(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function vn(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Gn(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,me&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,Tn(t,n)}return i=r.interleaved,i===null?(e.next=e,kh(r)):(e.next=i.next,i.next=e),r.interleaved=e,Tn(t,n)}function ha(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,gh(t,n)}}function dp(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,o=null;if(n=n.firstBaseUpdate,n!==null){do{var s={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};o===null?i=o=s:o=o.next=s,n=n.next}while(n!==null);o===null?i=o=e:o=o.next=e}else i=o=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function Fa(t,e,n,r){var i=t.updateQueue;bn=!1;var o=i.firstBaseUpdate,s=i.lastBaseUpdate,l=i.shared.pending;if(l!==null){i.shared.pending=null;var u=l,c=u.next;u.next=null,s===null?o=c:s.next=c,s=u;var f=t.alternate;f!==null&&(f=f.updateQueue,l=f.lastBaseUpdate,l!==s&&(l===null?f.firstBaseUpdate=c:l.next=c,f.lastBaseUpdate=u))}if(o!==null){var p=i.baseState;s=0,f=c=u=null,l=o;do{var m=l.lane,_=l.eventTime;if((r&m)===m){f!==null&&(f=f.next={eventTime:_,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var v=t,I=l;switch(m=e,_=n,I.tag){case 1:if(v=I.payload,typeof v=="function"){p=v.call(_,p,m);break e}p=v;break e;case 3:v.flags=v.flags&-65537|128;case 0:if(v=I.payload,m=typeof v=="function"?v.call(_,p,m):v,m==null)break e;p=Ne({},p,m);break e;case 2:bn=!0}}l.callback!==null&&l.lane!==0&&(t.flags|=64,m=i.effects,m===null?i.effects=[l]:m.push(l))}else _={eventTime:_,lane:m,tag:l.tag,payload:l.payload,callback:l.callback,next:null},f===null?(c=f=_,u=p):f=f.next=_,s|=m;if(l=l.next,l===null){if(l=i.shared.pending,l===null)break;m=l,l=m.next,m.next=null,i.lastBaseUpdate=m,i.shared.pending=null}}while(!0);if(f===null&&(u=p),i.baseState=u,i.firstBaseUpdate=c,i.lastBaseUpdate=f,e=i.shared.interleaved,e!==null){i=e;do s|=i.lane,i=i.next;while(i!==e)}else o===null&&(i.shared.lanes=0);Or|=s,t.lanes=s,t.memoizedState=p}}function pp(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(W(191,i));i.call(r)}}}var vs={},ln=cr(vs),Yo=cr(vs),Xo=cr(vs);function xr(t){if(t===vs)throw Error(W(174));return t}function Vh(t,e){switch(Te(Xo,e),Te(Yo,t),Te(ln,vs),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Ku(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=Ku(e,t)}Ae(ln),Te(ln,e)}function Pi(){Ae(ln),Ae(Yo),Ae(Xo)}function gy(t){xr(Xo.current);var e=xr(ln.current),n=Ku(e,t.type);e!==n&&(Te(Yo,t),Te(ln,n))}function Dh(t){Yo.current===t&&(Ae(ln),Ae(Yo))}var Re=cr(0);function Ua(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Su=[];function Oh(){for(var t=0;t<Su.length;t++)Su[t]._workInProgressVersionPrimary=null;Su.length=0}var fa=Cn.ReactCurrentDispatcher,Iu=Cn.ReactCurrentBatchConfig,Dr=0,ke=null,qe=null,Ke=null,Ba=!1,No=!1,Jo=0,O1=0;function at(){throw Error(W(321))}function bh(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!tn(t[n],e[n]))return!1;return!0}function Mh(t,e,n,r,i,o){if(Dr=o,ke=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,fa.current=t===null||t.memoizedState===null?j1:F1,t=n(r,i),No){o=0;do{if(No=!1,Jo=0,25<=o)throw Error(W(301));o+=1,Ke=qe=null,e.updateQueue=null,fa.current=U1,t=n(r,i)}while(No)}if(fa.current=za,e=qe!==null&&qe.next!==null,Dr=0,Ke=qe=ke=null,Ba=!1,e)throw Error(W(300));return t}function Lh(){var t=Jo!==0;return Jo=0,t}function on(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ke===null?ke.memoizedState=Ke=t:Ke=Ke.next=t,Ke}function Ht(){if(qe===null){var t=ke.alternate;t=t!==null?t.memoizedState:null}else t=qe.next;var e=Ke===null?ke.memoizedState:Ke.next;if(e!==null)Ke=e,qe=t;else{if(t===null)throw Error(W(310));qe=t,t={memoizedState:qe.memoizedState,baseState:qe.baseState,baseQueue:qe.baseQueue,queue:qe.queue,next:null},Ke===null?ke.memoizedState=Ke=t:Ke=Ke.next=t}return Ke}function Zo(t,e){return typeof e=="function"?e(t):e}function xu(t){var e=Ht(),n=e.queue;if(n===null)throw Error(W(311));n.lastRenderedReducer=t;var r=qe,i=r.baseQueue,o=n.pending;if(o!==null){if(i!==null){var s=i.next;i.next=o.next,o.next=s}r.baseQueue=i=o,n.pending=null}if(i!==null){o=i.next,r=r.baseState;var l=s=null,u=null,c=o;do{var f=c.lane;if((Dr&f)===f)u!==null&&(u=u.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:t(r,c.action);else{var p={lane:f,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};u===null?(l=u=p,s=r):u=u.next=p,ke.lanes|=f,Or|=f}c=c.next}while(c!==null&&c!==o);u===null?s=r:u.next=l,tn(r,e.memoizedState)||(Ct=!0),e.memoizedState=r,e.baseState=s,e.baseQueue=u,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do o=i.lane,ke.lanes|=o,Or|=o,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function Au(t){var e=Ht(),n=e.queue;if(n===null)throw Error(W(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,o=e.memoizedState;if(i!==null){n.pending=null;var s=i=i.next;do o=t(o,s.action),s=s.next;while(s!==i);tn(o,e.memoizedState)||(Ct=!0),e.memoizedState=o,e.baseQueue===null&&(e.baseState=o),n.lastRenderedState=o}return[o,r]}function yy(){}function vy(t,e){var n=ke,r=Ht(),i=e(),o=!tn(r.memoizedState,i);if(o&&(r.memoizedState=i,Ct=!0),r=r.queue,jh(Ey.bind(null,n,r,t),[t]),r.getSnapshot!==e||o||Ke!==null&&Ke.memoizedState.tag&1){if(n.flags|=2048,es(9,wy.bind(null,n,r,i,e),void 0,null),Ye===null)throw Error(W(349));Dr&30||_y(n,e,i)}return i}function _y(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=ke.updateQueue,e===null?(e={lastEffect:null,stores:null},ke.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function wy(t,e,n,r){e.value=n,e.getSnapshot=r,Ty(e)&&Sy(t)}function Ey(t,e,n){return n(function(){Ty(e)&&Sy(t)})}function Ty(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!tn(t,n)}catch{return!0}}function Sy(t){var e=Tn(t,1);e!==null&&en(e,t,1,-1)}function mp(t){var e=on();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Zo,lastRenderedState:t},e.queue=t,t=t.dispatch=L1.bind(null,ke,t),[e.memoizedState,t]}function es(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=ke.updateQueue,e===null?(e={lastEffect:null,stores:null},ke.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function Iy(){return Ht().memoizedState}function da(t,e,n,r){var i=on();ke.flags|=t,i.memoizedState=es(1|e,n,void 0,r===void 0?null:r)}function _l(t,e,n,r){var i=Ht();r=r===void 0?null:r;var o=void 0;if(qe!==null){var s=qe.memoizedState;if(o=s.destroy,r!==null&&bh(r,s.deps)){i.memoizedState=es(e,n,o,r);return}}ke.flags|=t,i.memoizedState=es(1|e,n,o,r)}function gp(t,e){return da(8390656,8,t,e)}function jh(t,e){return _l(2048,8,t,e)}function xy(t,e){return _l(4,2,t,e)}function Ay(t,e){return _l(4,4,t,e)}function Cy(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function Py(t,e,n){return n=n!=null?n.concat([t]):null,_l(4,4,Cy.bind(null,e,t),n)}function Fh(){}function Ry(t,e){var n=Ht();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&bh(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function ky(t,e){var n=Ht();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&bh(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function Ny(t,e,n){return Dr&21?(tn(n,e)||(n=Mg(),ke.lanes|=n,Or|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,Ct=!0),t.memoizedState=n)}function b1(t,e){var n=we;we=n!==0&&4>n?n:4,t(!0);var r=Iu.transition;Iu.transition={};try{t(!1),e()}finally{we=n,Iu.transition=r}}function Vy(){return Ht().memoizedState}function M1(t,e,n){var r=Kn(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},Dy(t))Oy(e,n);else if(n=py(t,e,n,r),n!==null){var i=vt();en(n,t,r,i),by(n,e,r)}}function L1(t,e,n){var r=Kn(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(Dy(t))Oy(e,i);else{var o=t.alternate;if(t.lanes===0&&(o===null||o.lanes===0)&&(o=e.lastRenderedReducer,o!==null))try{var s=e.lastRenderedState,l=o(s,n);if(i.hasEagerState=!0,i.eagerState=l,tn(l,s)){var u=e.interleaved;u===null?(i.next=i,kh(e)):(i.next=u.next,u.next=i),e.interleaved=i;return}}catch{}finally{}n=py(t,e,i,r),n!==null&&(i=vt(),en(n,t,r,i),by(n,e,r))}}function Dy(t){var e=t.alternate;return t===ke||e!==null&&e===ke}function Oy(t,e){No=Ba=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function by(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,gh(t,n)}}var za={readContext:Wt,useCallback:at,useContext:at,useEffect:at,useImperativeHandle:at,useInsertionEffect:at,useLayoutEffect:at,useMemo:at,useReducer:at,useRef:at,useState:at,useDebugValue:at,useDeferredValue:at,useTransition:at,useMutableSource:at,useSyncExternalStore:at,useId:at,unstable_isNewReconciler:!1},j1={readContext:Wt,useCallback:function(t,e){return on().memoizedState=[t,e===void 0?null:e],t},useContext:Wt,useEffect:gp,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,da(4194308,4,Cy.bind(null,e,t),n)},useLayoutEffect:function(t,e){return da(4194308,4,t,e)},useInsertionEffect:function(t,e){return da(4,2,t,e)},useMemo:function(t,e){var n=on();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=on();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=M1.bind(null,ke,t),[r.memoizedState,t]},useRef:function(t){var e=on();return t={current:t},e.memoizedState=t},useState:mp,useDebugValue:Fh,useDeferredValue:function(t){return on().memoizedState=t},useTransition:function(){var t=mp(!1),e=t[0];return t=b1.bind(null,t[1]),on().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=ke,i=on();if(Ce){if(n===void 0)throw Error(W(407));n=n()}else{if(n=e(),Ye===null)throw Error(W(349));Dr&30||_y(r,e,n)}i.memoizedState=n;var o={value:n,getSnapshot:e};return i.queue=o,gp(Ey.bind(null,r,o,t),[t]),r.flags|=2048,es(9,wy.bind(null,r,o,n,e),void 0,null),n},useId:function(){var t=on(),e=Ye.identifierPrefix;if(Ce){var n=yn,r=gn;n=(r&~(1<<32-Zt(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=Jo++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=O1++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},F1={readContext:Wt,useCallback:Ry,useContext:Wt,useEffect:jh,useImperativeHandle:Py,useInsertionEffect:xy,useLayoutEffect:Ay,useMemo:ky,useReducer:xu,useRef:Iy,useState:function(){return xu(Zo)},useDebugValue:Fh,useDeferredValue:function(t){var e=Ht();return Ny(e,qe.memoizedState,t)},useTransition:function(){var t=xu(Zo)[0],e=Ht().memoizedState;return[t,e]},useMutableSource:yy,useSyncExternalStore:vy,useId:Vy,unstable_isNewReconciler:!1},U1={readContext:Wt,useCallback:Ry,useContext:Wt,useEffect:jh,useImperativeHandle:Py,useInsertionEffect:xy,useLayoutEffect:Ay,useMemo:ky,useReducer:Au,useRef:Iy,useState:function(){return Au(Zo)},useDebugValue:Fh,useDeferredValue:function(t){var e=Ht();return qe===null?e.memoizedState=t:Ny(e,qe.memoizedState,t)},useTransition:function(){var t=Au(Zo)[0],e=Ht().memoizedState;return[t,e]},useMutableSource:yy,useSyncExternalStore:vy,useId:Vy,unstable_isNewReconciler:!1};function Kt(t,e){if(t&&t.defaultProps){e=Ne({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function gc(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:Ne({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var wl={isMounted:function(t){return(t=t._reactInternals)?Fr(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=vt(),i=Kn(t),o=vn(r,i);o.payload=e,n!=null&&(o.callback=n),e=Gn(t,o,i),e!==null&&(en(e,t,i,r),ha(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=vt(),i=Kn(t),o=vn(r,i);o.tag=1,o.payload=e,n!=null&&(o.callback=n),e=Gn(t,o,i),e!==null&&(en(e,t,i,r),ha(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=vt(),r=Kn(t),i=vn(n,r);i.tag=2,e!=null&&(i.callback=e),e=Gn(t,i,r),e!==null&&(en(e,t,r,n),ha(e,t,r))}};function yp(t,e,n,r,i,o,s){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,o,s):e.prototype&&e.prototype.isPureReactComponent?!Ho(n,r)||!Ho(i,o):!0}function My(t,e,n){var r=!1,i=rr,o=e.contextType;return typeof o=="object"&&o!==null?o=Wt(o):(i=Rt(e)?Nr:dt.current,r=e.contextTypes,o=(r=r!=null)?xi(t,i):rr),e=new e(n,o),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=wl,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=o),e}function vp(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&wl.enqueueReplaceState(e,e.state,null)}function yc(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs={},Nh(t);var o=e.contextType;typeof o=="object"&&o!==null?i.context=Wt(o):(o=Rt(e)?Nr:dt.current,i.context=xi(t,o)),i.state=t.memoizedState,o=e.getDerivedStateFromProps,typeof o=="function"&&(gc(t,e,o,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&wl.enqueueReplaceState(i,i.state,null),Fa(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function Ri(t,e){try{var n="",r=e;do n+=pw(r),r=r.return;while(r);var i=n}catch(o){i=`
Error generating stack: `+o.message+`
`+o.stack}return{value:t,source:e,stack:i,digest:null}}function Cu(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function vc(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var B1=typeof WeakMap=="function"?WeakMap:Map;function Ly(t,e,n){n=vn(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){qa||(qa=!0,Pc=r),vc(t,e)},n}function jy(t,e,n){n=vn(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){vc(t,e)}}var o=t.stateNode;return o!==null&&typeof o.componentDidCatch=="function"&&(n.callback=function(){vc(t,e),typeof r!="function"&&(Qn===null?Qn=new Set([this]):Qn.add(this));var s=e.stack;this.componentDidCatch(e.value,{componentStack:s!==null?s:""})}),n}function _p(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new B1;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=tE.bind(null,t,e,n),e.then(t,t))}function wp(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function Ep(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=vn(-1,1),e.tag=2,Gn(n,e,1))),n.lanes|=1),t)}var z1=Cn.ReactCurrentOwner,Ct=!1;function yt(t,e,n,r){e.child=t===null?dy(e,null,n,r):Ci(e,t.child,n,r)}function Tp(t,e,n,r,i){n=n.render;var o=e.ref;return wi(e,i),r=Mh(t,e,n,r,o,i),n=Lh(),t!==null&&!Ct?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Sn(t,e,i)):(Ce&&n&&Ih(e),e.flags|=1,yt(t,e,r,i),e.child)}function Sp(t,e,n,r,i){if(t===null){var o=n.type;return typeof o=="function"&&!Gh(o)&&o.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=o,Fy(t,e,o,r,i)):(t=ya(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(o=t.child,!(t.lanes&i)){var s=o.memoizedProps;if(n=n.compare,n=n!==null?n:Ho,n(s,r)&&t.ref===e.ref)return Sn(t,e,i)}return e.flags|=1,t=Yn(o,r),t.ref=e.ref,t.return=e,e.child=t}function Fy(t,e,n,r,i){if(t!==null){var o=t.memoizedProps;if(Ho(o,r)&&t.ref===e.ref)if(Ct=!1,e.pendingProps=r=o,(t.lanes&i)!==0)t.flags&131072&&(Ct=!0);else return e.lanes=t.lanes,Sn(t,e,i)}return _c(t,e,n,r,i)}function Uy(t,e,n){var r=e.pendingProps,i=r.children,o=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Te(mi,Vt),Vt|=n;else{if(!(n&1073741824))return t=o!==null?o.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Te(mi,Vt),Vt|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=o!==null?o.baseLanes:n,Te(mi,Vt),Vt|=r}else o!==null?(r=o.baseLanes|n,e.memoizedState=null):r=n,Te(mi,Vt),Vt|=r;return yt(t,e,i,n),e.child}function By(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function _c(t,e,n,r,i){var o=Rt(n)?Nr:dt.current;return o=xi(e,o),wi(e,i),n=Mh(t,e,n,r,o,i),r=Lh(),t!==null&&!Ct?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Sn(t,e,i)):(Ce&&r&&Ih(e),e.flags|=1,yt(t,e,n,i),e.child)}function Ip(t,e,n,r,i){if(Rt(n)){var o=!0;Oa(e)}else o=!1;if(wi(e,i),e.stateNode===null)pa(t,e),My(e,n,r),yc(e,n,r,i),r=!0;else if(t===null){var s=e.stateNode,l=e.memoizedProps;s.props=l;var u=s.context,c=n.contextType;typeof c=="object"&&c!==null?c=Wt(c):(c=Rt(n)?Nr:dt.current,c=xi(e,c));var f=n.getDerivedStateFromProps,p=typeof f=="function"||typeof s.getSnapshotBeforeUpdate=="function";p||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(l!==r||u!==c)&&vp(e,s,r,c),bn=!1;var m=e.memoizedState;s.state=m,Fa(e,r,s,i),u=e.memoizedState,l!==r||m!==u||Pt.current||bn?(typeof f=="function"&&(gc(e,n,f,r),u=e.memoizedState),(l=bn||yp(e,n,l,r,m,u,c))?(p||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount()),typeof s.componentDidMount=="function"&&(e.flags|=4194308)):(typeof s.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=u),s.props=r,s.state=u,s.context=c,r=l):(typeof s.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{s=e.stateNode,my(t,e),l=e.memoizedProps,c=e.type===e.elementType?l:Kt(e.type,l),s.props=c,p=e.pendingProps,m=s.context,u=n.contextType,typeof u=="object"&&u!==null?u=Wt(u):(u=Rt(n)?Nr:dt.current,u=xi(e,u));var _=n.getDerivedStateFromProps;(f=typeof _=="function"||typeof s.getSnapshotBeforeUpdate=="function")||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(l!==p||m!==u)&&vp(e,s,r,u),bn=!1,m=e.memoizedState,s.state=m,Fa(e,r,s,i);var v=e.memoizedState;l!==p||m!==v||Pt.current||bn?(typeof _=="function"&&(gc(e,n,_,r),v=e.memoizedState),(c=bn||yp(e,n,c,r,m,v,u)||!1)?(f||typeof s.UNSAFE_componentWillUpdate!="function"&&typeof s.componentWillUpdate!="function"||(typeof s.componentWillUpdate=="function"&&s.componentWillUpdate(r,v,u),typeof s.UNSAFE_componentWillUpdate=="function"&&s.UNSAFE_componentWillUpdate(r,v,u)),typeof s.componentDidUpdate=="function"&&(e.flags|=4),typeof s.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof s.componentDidUpdate!="function"||l===t.memoizedProps&&m===t.memoizedState||(e.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&m===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=v),s.props=r,s.state=v,s.context=u,r=c):(typeof s.componentDidUpdate!="function"||l===t.memoizedProps&&m===t.memoizedState||(e.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&m===t.memoizedState||(e.flags|=1024),r=!1)}return wc(t,e,n,r,o,i)}function wc(t,e,n,r,i,o){By(t,e);var s=(e.flags&128)!==0;if(!r&&!s)return i&&up(e,n,!1),Sn(t,e,o);r=e.stateNode,z1.current=e;var l=s&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&s?(e.child=Ci(e,t.child,null,o),e.child=Ci(e,null,l,o)):yt(t,e,l,o),e.memoizedState=r.state,i&&up(e,n,!0),e.child}function zy(t){var e=t.stateNode;e.pendingContext?lp(t,e.pendingContext,e.pendingContext!==e.context):e.context&&lp(t,e.context,!1),Vh(t,e.containerInfo)}function xp(t,e,n,r,i){return Ai(),Ah(i),e.flags|=256,yt(t,e,n,r),e.child}var Ec={dehydrated:null,treeContext:null,retryLane:0};function Tc(t){return{baseLanes:t,cachePool:null,transitions:null}}function $y(t,e,n){var r=e.pendingProps,i=Re.current,o=!1,s=(e.flags&128)!==0,l;if((l=s)||(l=t!==null&&t.memoizedState===null?!1:(i&2)!==0),l?(o=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),Te(Re,i&1),t===null)return pc(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(s=r.children,t=r.fallback,o?(r=e.mode,o=e.child,s={mode:"hidden",children:s},!(r&1)&&o!==null?(o.childLanes=0,o.pendingProps=s):o=Sl(s,r,0,null),t=Pr(t,r,n,null),o.return=e,t.return=e,o.sibling=t,e.child=o,e.child.memoizedState=Tc(n),e.memoizedState=Ec,t):Uh(e,s));if(i=t.memoizedState,i!==null&&(l=i.dehydrated,l!==null))return $1(t,e,s,r,l,i,n);if(o){o=r.fallback,s=e.mode,i=t.child,l=i.sibling;var u={mode:"hidden",children:r.children};return!(s&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=u,e.deletions=null):(r=Yn(i,u),r.subtreeFlags=i.subtreeFlags&14680064),l!==null?o=Yn(l,o):(o=Pr(o,s,n,null),o.flags|=2),o.return=e,r.return=e,r.sibling=o,e.child=r,r=o,o=e.child,s=t.child.memoizedState,s=s===null?Tc(n):{baseLanes:s.baseLanes|n,cachePool:null,transitions:s.transitions},o.memoizedState=s,o.childLanes=t.childLanes&~n,e.memoizedState=Ec,r}return o=t.child,t=o.sibling,r=Yn(o,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function Uh(t,e){return e=Sl({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Js(t,e,n,r){return r!==null&&Ah(r),Ci(e,t.child,null,n),t=Uh(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function $1(t,e,n,r,i,o,s){if(n)return e.flags&256?(e.flags&=-257,r=Cu(Error(W(422))),Js(t,e,s,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(o=r.fallback,i=e.mode,r=Sl({mode:"visible",children:r.children},i,0,null),o=Pr(o,i,s,null),o.flags|=2,r.return=e,o.return=e,r.sibling=o,e.child=r,e.mode&1&&Ci(e,t.child,null,s),e.child.memoizedState=Tc(s),e.memoizedState=Ec,o);if(!(e.mode&1))return Js(t,e,s,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var l=r.dgst;return r=l,o=Error(W(419)),r=Cu(o,r,void 0),Js(t,e,s,r)}if(l=(s&t.childLanes)!==0,Ct||l){if(r=Ye,r!==null){switch(s&-s){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|s)?0:i,i!==0&&i!==o.retryLane&&(o.retryLane=i,Tn(t,i),en(r,t,i,-1))}return Hh(),r=Cu(Error(W(421))),Js(t,e,s,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=nE.bind(null,t),i._reactRetry=e,null):(t=o.treeContext,Dt=Hn(i.nextSibling),Ot=e,Ce=!0,Xt=null,t!==null&&(Ut[Bt++]=gn,Ut[Bt++]=yn,Ut[Bt++]=Vr,gn=t.id,yn=t.overflow,Vr=e),e=Uh(e,r.children),e.flags|=4096,e)}function Ap(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),mc(t.return,e,n)}function Pu(t,e,n,r,i){var o=t.memoizedState;o===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(o.isBackwards=e,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=i)}function qy(t,e,n){var r=e.pendingProps,i=r.revealOrder,o=r.tail;if(yt(t,e,r.children,n),r=Re.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Ap(t,n,e);else if(t.tag===19)Ap(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(Te(Re,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&Ua(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),Pu(e,!1,i,n,o);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&Ua(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}Pu(e,!0,n,null,o);break;case"together":Pu(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function pa(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Sn(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),Or|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(W(153));if(e.child!==null){for(t=e.child,n=Yn(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Yn(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function q1(t,e,n){switch(e.tag){case 3:zy(e),Ai();break;case 5:gy(e);break;case 1:Rt(e.type)&&Oa(e);break;case 4:Vh(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;Te(La,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(Te(Re,Re.current&1),e.flags|=128,null):n&e.child.childLanes?$y(t,e,n):(Te(Re,Re.current&1),t=Sn(t,e,n),t!==null?t.sibling:null);Te(Re,Re.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return qy(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Te(Re,Re.current),r)break;return null;case 22:case 23:return e.lanes=0,Uy(t,e,n)}return Sn(t,e,n)}var Wy,Sc,Hy,Gy;Wy=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Sc=function(){};Hy=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,xr(ln.current);var o=null;switch(n){case"input":i=Wu(t,i),r=Wu(t,r),o=[];break;case"select":i=Ne({},i,{value:void 0}),r=Ne({},r,{value:void 0}),o=[];break;case"textarea":i=Qu(t,i),r=Qu(t,r),o=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=Va)}Yu(n,r);var s;n=null;for(c in i)if(!r.hasOwnProperty(c)&&i.hasOwnProperty(c)&&i[c]!=null)if(c==="style"){var l=i[c];for(s in l)l.hasOwnProperty(s)&&(n||(n={}),n[s]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(Fo.hasOwnProperty(c)?o||(o=[]):(o=o||[]).push(c,null));for(c in r){var u=r[c];if(l=i!=null?i[c]:void 0,r.hasOwnProperty(c)&&u!==l&&(u!=null||l!=null))if(c==="style")if(l){for(s in l)!l.hasOwnProperty(s)||u&&u.hasOwnProperty(s)||(n||(n={}),n[s]="");for(s in u)u.hasOwnProperty(s)&&l[s]!==u[s]&&(n||(n={}),n[s]=u[s])}else n||(o||(o=[]),o.push(c,n)),n=u;else c==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,l=l?l.__html:void 0,u!=null&&l!==u&&(o=o||[]).push(c,u)):c==="children"?typeof u!="string"&&typeof u!="number"||(o=o||[]).push(c,""+u):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(Fo.hasOwnProperty(c)?(u!=null&&c==="onScroll"&&Ie("scroll",t),o||l===u||(o=[])):(o=o||[]).push(c,u))}n&&(o=o||[]).push("style",n);var c=o;(e.updateQueue=c)&&(e.flags|=4)}};Gy=function(t,e,n,r){n!==r&&(e.flags|=4)};function go(t,e){if(!Ce)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function lt(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function W1(t,e,n){var r=e.pendingProps;switch(xh(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return lt(e),null;case 1:return Rt(e.type)&&Da(),lt(e),null;case 3:return r=e.stateNode,Pi(),Ae(Pt),Ae(dt),Oh(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(Ys(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Xt!==null&&(Nc(Xt),Xt=null))),Sc(t,e),lt(e),null;case 5:Dh(e);var i=xr(Xo.current);if(n=e.type,t!==null&&e.stateNode!=null)Hy(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(W(166));return lt(e),null}if(t=xr(ln.current),Ys(e)){r=e.stateNode,n=e.type;var o=e.memoizedProps;switch(r[sn]=e,r[Ko]=o,t=(e.mode&1)!==0,n){case"dialog":Ie("cancel",r),Ie("close",r);break;case"iframe":case"object":case"embed":Ie("load",r);break;case"video":case"audio":for(i=0;i<Eo.length;i++)Ie(Eo[i],r);break;case"source":Ie("error",r);break;case"img":case"image":case"link":Ie("error",r),Ie("load",r);break;case"details":Ie("toggle",r);break;case"input":bd(r,o),Ie("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},Ie("invalid",r);break;case"textarea":Ld(r,o),Ie("invalid",r)}Yu(n,o),i=null;for(var s in o)if(o.hasOwnProperty(s)){var l=o[s];s==="children"?typeof l=="string"?r.textContent!==l&&(o.suppressHydrationWarning!==!0&&Ks(r.textContent,l,t),i=["children",l]):typeof l=="number"&&r.textContent!==""+l&&(o.suppressHydrationWarning!==!0&&Ks(r.textContent,l,t),i=["children",""+l]):Fo.hasOwnProperty(s)&&l!=null&&s==="onScroll"&&Ie("scroll",r)}switch(n){case"input":Bs(r),Md(r,o,!0);break;case"textarea":Bs(r),jd(r);break;case"select":case"option":break;default:typeof o.onClick=="function"&&(r.onclick=Va)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{s=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=Eg(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=s.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=s.createElement(n,{is:r.is}):(t=s.createElement(n),n==="select"&&(s=t,r.multiple?s.multiple=!0:r.size&&(s.size=r.size))):t=s.createElementNS(t,n),t[sn]=e,t[Ko]=r,Wy(t,e,!1,!1),e.stateNode=t;e:{switch(s=Xu(n,r),n){case"dialog":Ie("cancel",t),Ie("close",t),i=r;break;case"iframe":case"object":case"embed":Ie("load",t),i=r;break;case"video":case"audio":for(i=0;i<Eo.length;i++)Ie(Eo[i],t);i=r;break;case"source":Ie("error",t),i=r;break;case"img":case"image":case"link":Ie("error",t),Ie("load",t),i=r;break;case"details":Ie("toggle",t),i=r;break;case"input":bd(t,r),i=Wu(t,r),Ie("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=Ne({},r,{value:void 0}),Ie("invalid",t);break;case"textarea":Ld(t,r),i=Qu(t,r),Ie("invalid",t);break;default:i=r}Yu(n,i),l=i;for(o in l)if(l.hasOwnProperty(o)){var u=l[o];o==="style"?Ig(t,u):o==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,u!=null&&Tg(t,u)):o==="children"?typeof u=="string"?(n!=="textarea"||u!=="")&&Uo(t,u):typeof u=="number"&&Uo(t,""+u):o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&o!=="autoFocus"&&(Fo.hasOwnProperty(o)?u!=null&&o==="onScroll"&&Ie("scroll",t):u!=null&&ch(t,o,u,s))}switch(n){case"input":Bs(t),Md(t,r,!1);break;case"textarea":Bs(t),jd(t);break;case"option":r.value!=null&&t.setAttribute("value",""+nr(r.value));break;case"select":t.multiple=!!r.multiple,o=r.value,o!=null?gi(t,!!r.multiple,o,!1):r.defaultValue!=null&&gi(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=Va)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return lt(e),null;case 6:if(t&&e.stateNode!=null)Gy(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(W(166));if(n=xr(Xo.current),xr(ln.current),Ys(e)){if(r=e.stateNode,n=e.memoizedProps,r[sn]=e,(o=r.nodeValue!==n)&&(t=Ot,t!==null))switch(t.tag){case 3:Ks(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Ks(r.nodeValue,n,(t.mode&1)!==0)}o&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[sn]=e,e.stateNode=r}return lt(e),null;case 13:if(Ae(Re),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Ce&&Dt!==null&&e.mode&1&&!(e.flags&128))hy(),Ai(),e.flags|=98560,o=!1;else if(o=Ys(e),r!==null&&r.dehydrated!==null){if(t===null){if(!o)throw Error(W(318));if(o=e.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(W(317));o[sn]=e}else Ai(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;lt(e),o=!1}else Xt!==null&&(Nc(Xt),Xt=null),o=!0;if(!o)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||Re.current&1?We===0&&(We=3):Hh())),e.updateQueue!==null&&(e.flags|=4),lt(e),null);case 4:return Pi(),Sc(t,e),t===null&&Go(e.stateNode.containerInfo),lt(e),null;case 10:return Rh(e.type._context),lt(e),null;case 17:return Rt(e.type)&&Da(),lt(e),null;case 19:if(Ae(Re),o=e.memoizedState,o===null)return lt(e),null;if(r=(e.flags&128)!==0,s=o.rendering,s===null)if(r)go(o,!1);else{if(We!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(s=Ua(t),s!==null){for(e.flags|=128,go(o,!1),r=s.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)o=n,t=r,o.flags&=14680066,s=o.alternate,s===null?(o.childLanes=0,o.lanes=t,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=s.childLanes,o.lanes=s.lanes,o.child=s.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=s.memoizedProps,o.memoizedState=s.memoizedState,o.updateQueue=s.updateQueue,o.type=s.type,t=s.dependencies,o.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return Te(Re,Re.current&1|2),e.child}t=t.sibling}o.tail!==null&&Me()>ki&&(e.flags|=128,r=!0,go(o,!1),e.lanes=4194304)}else{if(!r)if(t=Ua(s),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),go(o,!0),o.tail===null&&o.tailMode==="hidden"&&!s.alternate&&!Ce)return lt(e),null}else 2*Me()-o.renderingStartTime>ki&&n!==1073741824&&(e.flags|=128,r=!0,go(o,!1),e.lanes=4194304);o.isBackwards?(s.sibling=e.child,e.child=s):(n=o.last,n!==null?n.sibling=s:e.child=s,o.last=s)}return o.tail!==null?(e=o.tail,o.rendering=e,o.tail=e.sibling,o.renderingStartTime=Me(),e.sibling=null,n=Re.current,Te(Re,r?n&1|2:n&1),e):(lt(e),null);case 22:case 23:return Wh(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?Vt&1073741824&&(lt(e),e.subtreeFlags&6&&(e.flags|=8192)):lt(e),null;case 24:return null;case 25:return null}throw Error(W(156,e.tag))}function H1(t,e){switch(xh(e),e.tag){case 1:return Rt(e.type)&&Da(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Pi(),Ae(Pt),Ae(dt),Oh(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return Dh(e),null;case 13:if(Ae(Re),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(W(340));Ai()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Ae(Re),null;case 4:return Pi(),null;case 10:return Rh(e.type._context),null;case 22:case 23:return Wh(),null;case 24:return null;default:return null}}var Zs=!1,ht=!1,G1=typeof WeakSet=="function"?WeakSet:Set,Y=null;function pi(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Oe(t,e,r)}else n.current=null}function Ic(t,e,n){try{n()}catch(r){Oe(t,e,r)}}var Cp=!1;function Q1(t,e){if(ac=Ra,t=Jg(),Sh(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch{n=null;break e}var s=0,l=-1,u=-1,c=0,f=0,p=t,m=null;t:for(;;){for(var _;p!==n||i!==0&&p.nodeType!==3||(l=s+i),p!==o||r!==0&&p.nodeType!==3||(u=s+r),p.nodeType===3&&(s+=p.nodeValue.length),(_=p.firstChild)!==null;)m=p,p=_;for(;;){if(p===t)break t;if(m===n&&++c===i&&(l=s),m===o&&++f===r&&(u=s),(_=p.nextSibling)!==null)break;p=m,m=p.parentNode}p=_}n=l===-1||u===-1?null:{start:l,end:u}}else n=null}n=n||{start:0,end:0}}else n=null;for(lc={focusedElem:t,selectionRange:n},Ra=!1,Y=e;Y!==null;)if(e=Y,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,Y=t;else for(;Y!==null;){e=Y;try{var v=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(v!==null){var I=v.memoizedProps,P=v.memoizedState,w=e.stateNode,E=w.getSnapshotBeforeUpdate(e.elementType===e.type?I:Kt(e.type,I),P);w.__reactInternalSnapshotBeforeUpdate=E}break;case 3:var x=e.stateNode.containerInfo;x.nodeType===1?x.textContent="":x.nodeType===9&&x.documentElement&&x.removeChild(x.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(W(163))}}catch(b){Oe(e,e.return,b)}if(t=e.sibling,t!==null){t.return=e.return,Y=t;break}Y=e.return}return v=Cp,Cp=!1,v}function Vo(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var o=i.destroy;i.destroy=void 0,o!==void 0&&Ic(e,n,o)}i=i.next}while(i!==r)}}function El(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function xc(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function Qy(t){var e=t.alternate;e!==null&&(t.alternate=null,Qy(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[sn],delete e[Ko],delete e[hc],delete e[k1],delete e[N1])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function Ky(t){return t.tag===5||t.tag===3||t.tag===4}function Pp(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||Ky(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Ac(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=Va));else if(r!==4&&(t=t.child,t!==null))for(Ac(t,e,n),t=t.sibling;t!==null;)Ac(t,e,n),t=t.sibling}function Cc(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(Cc(t,e,n),t=t.sibling;t!==null;)Cc(t,e,n),t=t.sibling}var Ze=null,Yt=!1;function Dn(t,e,n){for(n=n.child;n!==null;)Yy(t,e,n),n=n.sibling}function Yy(t,e,n){if(an&&typeof an.onCommitFiberUnmount=="function")try{an.onCommitFiberUnmount(dl,n)}catch{}switch(n.tag){case 5:ht||pi(n,e);case 6:var r=Ze,i=Yt;Ze=null,Dn(t,e,n),Ze=r,Yt=i,Ze!==null&&(Yt?(t=Ze,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):Ze.removeChild(n.stateNode));break;case 18:Ze!==null&&(Yt?(t=Ze,n=n.stateNode,t.nodeType===8?Eu(t.parentNode,n):t.nodeType===1&&Eu(t,n),qo(t)):Eu(Ze,n.stateNode));break;case 4:r=Ze,i=Yt,Ze=n.stateNode.containerInfo,Yt=!0,Dn(t,e,n),Ze=r,Yt=i;break;case 0:case 11:case 14:case 15:if(!ht&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var o=i,s=o.destroy;o=o.tag,s!==void 0&&(o&2||o&4)&&Ic(n,e,s),i=i.next}while(i!==r)}Dn(t,e,n);break;case 1:if(!ht&&(pi(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(l){Oe(n,e,l)}Dn(t,e,n);break;case 21:Dn(t,e,n);break;case 22:n.mode&1?(ht=(r=ht)||n.memoizedState!==null,Dn(t,e,n),ht=r):Dn(t,e,n);break;default:Dn(t,e,n)}}function Rp(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new G1),e.forEach(function(r){var i=rE.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function Qt(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var o=t,s=e,l=s;e:for(;l!==null;){switch(l.tag){case 5:Ze=l.stateNode,Yt=!1;break e;case 3:Ze=l.stateNode.containerInfo,Yt=!0;break e;case 4:Ze=l.stateNode.containerInfo,Yt=!0;break e}l=l.return}if(Ze===null)throw Error(W(160));Yy(o,s,i),Ze=null,Yt=!1;var u=i.alternate;u!==null&&(u.return=null),i.return=null}catch(c){Oe(i,e,c)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)Xy(e,t),e=e.sibling}function Xy(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Qt(e,t),rn(t),r&4){try{Vo(3,t,t.return),El(3,t)}catch(I){Oe(t,t.return,I)}try{Vo(5,t,t.return)}catch(I){Oe(t,t.return,I)}}break;case 1:Qt(e,t),rn(t),r&512&&n!==null&&pi(n,n.return);break;case 5:if(Qt(e,t),rn(t),r&512&&n!==null&&pi(n,n.return),t.flags&32){var i=t.stateNode;try{Uo(i,"")}catch(I){Oe(t,t.return,I)}}if(r&4&&(i=t.stateNode,i!=null)){var o=t.memoizedProps,s=n!==null?n.memoizedProps:o,l=t.type,u=t.updateQueue;if(t.updateQueue=null,u!==null)try{l==="input"&&o.type==="radio"&&o.name!=null&&_g(i,o),Xu(l,s);var c=Xu(l,o);for(s=0;s<u.length;s+=2){var f=u[s],p=u[s+1];f==="style"?Ig(i,p):f==="dangerouslySetInnerHTML"?Tg(i,p):f==="children"?Uo(i,p):ch(i,f,p,c)}switch(l){case"input":Hu(i,o);break;case"textarea":wg(i,o);break;case"select":var m=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!o.multiple;var _=o.value;_!=null?gi(i,!!o.multiple,_,!1):m!==!!o.multiple&&(o.defaultValue!=null?gi(i,!!o.multiple,o.defaultValue,!0):gi(i,!!o.multiple,o.multiple?[]:"",!1))}i[Ko]=o}catch(I){Oe(t,t.return,I)}}break;case 6:if(Qt(e,t),rn(t),r&4){if(t.stateNode===null)throw Error(W(162));i=t.stateNode,o=t.memoizedProps;try{i.nodeValue=o}catch(I){Oe(t,t.return,I)}}break;case 3:if(Qt(e,t),rn(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{qo(e.containerInfo)}catch(I){Oe(t,t.return,I)}break;case 4:Qt(e,t),rn(t);break;case 13:Qt(e,t),rn(t),i=t.child,i.flags&8192&&(o=i.memoizedState!==null,i.stateNode.isHidden=o,!o||i.alternate!==null&&i.alternate.memoizedState!==null||($h=Me())),r&4&&Rp(t);break;case 22:if(f=n!==null&&n.memoizedState!==null,t.mode&1?(ht=(c=ht)||f,Qt(e,t),ht=c):Qt(e,t),rn(t),r&8192){if(c=t.memoizedState!==null,(t.stateNode.isHidden=c)&&!f&&t.mode&1)for(Y=t,f=t.child;f!==null;){for(p=Y=f;Y!==null;){switch(m=Y,_=m.child,m.tag){case 0:case 11:case 14:case 15:Vo(4,m,m.return);break;case 1:pi(m,m.return);var v=m.stateNode;if(typeof v.componentWillUnmount=="function"){r=m,n=m.return;try{e=r,v.props=e.memoizedProps,v.state=e.memoizedState,v.componentWillUnmount()}catch(I){Oe(r,n,I)}}break;case 5:pi(m,m.return);break;case 22:if(m.memoizedState!==null){Np(p);continue}}_!==null?(_.return=m,Y=_):Np(p)}f=f.sibling}e:for(f=null,p=t;;){if(p.tag===5){if(f===null){f=p;try{i=p.stateNode,c?(o=i.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none"):(l=p.stateNode,u=p.memoizedProps.style,s=u!=null&&u.hasOwnProperty("display")?u.display:null,l.style.display=Sg("display",s))}catch(I){Oe(t,t.return,I)}}}else if(p.tag===6){if(f===null)try{p.stateNode.nodeValue=c?"":p.memoizedProps}catch(I){Oe(t,t.return,I)}}else if((p.tag!==22&&p.tag!==23||p.memoizedState===null||p===t)&&p.child!==null){p.child.return=p,p=p.child;continue}if(p===t)break e;for(;p.sibling===null;){if(p.return===null||p.return===t)break e;f===p&&(f=null),p=p.return}f===p&&(f=null),p.sibling.return=p.return,p=p.sibling}}break;case 19:Qt(e,t),rn(t),r&4&&Rp(t);break;case 21:break;default:Qt(e,t),rn(t)}}function rn(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(Ky(n)){var r=n;break e}n=n.return}throw Error(W(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(Uo(i,""),r.flags&=-33);var o=Pp(t);Cc(t,o,i);break;case 3:case 4:var s=r.stateNode.containerInfo,l=Pp(t);Ac(t,l,s);break;default:throw Error(W(161))}}catch(u){Oe(t,t.return,u)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function K1(t,e,n){Y=t,Jy(t)}function Jy(t,e,n){for(var r=(t.mode&1)!==0;Y!==null;){var i=Y,o=i.child;if(i.tag===22&&r){var s=i.memoizedState!==null||Zs;if(!s){var l=i.alternate,u=l!==null&&l.memoizedState!==null||ht;l=Zs;var c=ht;if(Zs=s,(ht=u)&&!c)for(Y=i;Y!==null;)s=Y,u=s.child,s.tag===22&&s.memoizedState!==null?Vp(i):u!==null?(u.return=s,Y=u):Vp(i);for(;o!==null;)Y=o,Jy(o),o=o.sibling;Y=i,Zs=l,ht=c}kp(t)}else i.subtreeFlags&8772&&o!==null?(o.return=i,Y=o):kp(t)}}function kp(t){for(;Y!==null;){var e=Y;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:ht||El(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!ht)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:Kt(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=e.updateQueue;o!==null&&pp(e,o,r);break;case 3:var s=e.updateQueue;if(s!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}pp(e,s,n)}break;case 5:var l=e.stateNode;if(n===null&&e.flags&4){n=l;var u=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":u.autoFocus&&n.focus();break;case"img":u.src&&(n.src=u.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var c=e.alternate;if(c!==null){var f=c.memoizedState;if(f!==null){var p=f.dehydrated;p!==null&&qo(p)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(W(163))}ht||e.flags&512&&xc(e)}catch(m){Oe(e,e.return,m)}}if(e===t){Y=null;break}if(n=e.sibling,n!==null){n.return=e.return,Y=n;break}Y=e.return}}function Np(t){for(;Y!==null;){var e=Y;if(e===t){Y=null;break}var n=e.sibling;if(n!==null){n.return=e.return,Y=n;break}Y=e.return}}function Vp(t){for(;Y!==null;){var e=Y;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{El(4,e)}catch(u){Oe(e,n,u)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(u){Oe(e,i,u)}}var o=e.return;try{xc(e)}catch(u){Oe(e,o,u)}break;case 5:var s=e.return;try{xc(e)}catch(u){Oe(e,s,u)}}}catch(u){Oe(e,e.return,u)}if(e===t){Y=null;break}var l=e.sibling;if(l!==null){l.return=e.return,Y=l;break}Y=e.return}}var Y1=Math.ceil,$a=Cn.ReactCurrentDispatcher,Bh=Cn.ReactCurrentOwner,qt=Cn.ReactCurrentBatchConfig,me=0,Ye=null,Fe=null,nt=0,Vt=0,mi=cr(0),We=0,ts=null,Or=0,Tl=0,zh=0,Do=null,At=null,$h=0,ki=1/0,pn=null,qa=!1,Pc=null,Qn=null,ea=!1,Fn=null,Wa=0,Oo=0,Rc=null,ma=-1,ga=0;function vt(){return me&6?Me():ma!==-1?ma:ma=Me()}function Kn(t){return t.mode&1?me&2&&nt!==0?nt&-nt:D1.transition!==null?(ga===0&&(ga=Mg()),ga):(t=we,t!==0||(t=window.event,t=t===void 0?16:$g(t.type)),t):1}function en(t,e,n,r){if(50<Oo)throw Oo=0,Rc=null,Error(W(185));ms(t,n,r),(!(me&2)||t!==Ye)&&(t===Ye&&(!(me&2)&&(Tl|=n),We===4&&Ln(t,nt)),kt(t,r),n===1&&me===0&&!(e.mode&1)&&(ki=Me()+500,vl&&hr()))}function kt(t,e){var n=t.callbackNode;Dw(t,e);var r=Pa(t,t===Ye?nt:0);if(r===0)n!==null&&Bd(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&Bd(n),e===1)t.tag===0?V1(Dp.bind(null,t)):ly(Dp.bind(null,t)),P1(function(){!(me&6)&&hr()}),n=null;else{switch(Lg(r)){case 1:n=mh;break;case 4:n=Og;break;case 16:n=Ca;break;case 536870912:n=bg;break;default:n=Ca}n=sv(n,Zy.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function Zy(t,e){if(ma=-1,ga=0,me&6)throw Error(W(327));var n=t.callbackNode;if(Ei()&&t.callbackNode!==n)return null;var r=Pa(t,t===Ye?nt:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=Ha(t,r);else{e=r;var i=me;me|=2;var o=tv();(Ye!==t||nt!==e)&&(pn=null,ki=Me()+500,Cr(t,e));do try{Z1();break}catch(l){ev(t,l)}while(!0);Ph(),$a.current=o,me=i,Fe!==null?e=0:(Ye=null,nt=0,e=We)}if(e!==0){if(e===2&&(i=nc(t),i!==0&&(r=i,e=kc(t,i))),e===1)throw n=ts,Cr(t,0),Ln(t,r),kt(t,Me()),n;if(e===6)Ln(t,r);else{if(i=t.current.alternate,!(r&30)&&!X1(i)&&(e=Ha(t,r),e===2&&(o=nc(t),o!==0&&(r=o,e=kc(t,o))),e===1))throw n=ts,Cr(t,0),Ln(t,r),kt(t,Me()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(W(345));case 2:Er(t,At,pn);break;case 3:if(Ln(t,r),(r&130023424)===r&&(e=$h+500-Me(),10<e)){if(Pa(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){vt(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=cc(Er.bind(null,t,At,pn),e);break}Er(t,At,pn);break;case 4:if(Ln(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var s=31-Zt(r);o=1<<s,s=e[s],s>i&&(i=s),r&=~o}if(r=i,r=Me()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Y1(r/1960))-r,10<r){t.timeoutHandle=cc(Er.bind(null,t,At,pn),r);break}Er(t,At,pn);break;case 5:Er(t,At,pn);break;default:throw Error(W(329))}}}return kt(t,Me()),t.callbackNode===n?Zy.bind(null,t):null}function kc(t,e){var n=Do;return t.current.memoizedState.isDehydrated&&(Cr(t,e).flags|=256),t=Ha(t,e),t!==2&&(e=At,At=n,e!==null&&Nc(e)),t}function Nc(t){At===null?At=t:At.push.apply(At,t)}function X1(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],o=i.getSnapshot;i=i.value;try{if(!tn(o(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Ln(t,e){for(e&=~zh,e&=~Tl,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-Zt(e),r=1<<n;t[n]=-1,e&=~r}}function Dp(t){if(me&6)throw Error(W(327));Ei();var e=Pa(t,0);if(!(e&1))return kt(t,Me()),null;var n=Ha(t,e);if(t.tag!==0&&n===2){var r=nc(t);r!==0&&(e=r,n=kc(t,r))}if(n===1)throw n=ts,Cr(t,0),Ln(t,e),kt(t,Me()),n;if(n===6)throw Error(W(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Er(t,At,pn),kt(t,Me()),null}function qh(t,e){var n=me;me|=1;try{return t(e)}finally{me=n,me===0&&(ki=Me()+500,vl&&hr())}}function br(t){Fn!==null&&Fn.tag===0&&!(me&6)&&Ei();var e=me;me|=1;var n=qt.transition,r=we;try{if(qt.transition=null,we=1,t)return t()}finally{we=r,qt.transition=n,me=e,!(me&6)&&hr()}}function Wh(){Vt=mi.current,Ae(mi)}function Cr(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,C1(n)),Fe!==null)for(n=Fe.return;n!==null;){var r=n;switch(xh(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Da();break;case 3:Pi(),Ae(Pt),Ae(dt),Oh();break;case 5:Dh(r);break;case 4:Pi();break;case 13:Ae(Re);break;case 19:Ae(Re);break;case 10:Rh(r.type._context);break;case 22:case 23:Wh()}n=n.return}if(Ye=t,Fe=t=Yn(t.current,null),nt=Vt=e,We=0,ts=null,zh=Tl=Or=0,At=Do=null,Ir!==null){for(e=0;e<Ir.length;e++)if(n=Ir[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,o=n.pending;if(o!==null){var s=o.next;o.next=i,r.next=s}n.pending=r}Ir=null}return t}function ev(t,e){do{var n=Fe;try{if(Ph(),fa.current=za,Ba){for(var r=ke.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}Ba=!1}if(Dr=0,Ke=qe=ke=null,No=!1,Jo=0,Bh.current=null,n===null||n.return===null){We=1,ts=e,Fe=null;break}e:{var o=t,s=n.return,l=n,u=e;if(e=nt,l.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){var c=u,f=l,p=f.tag;if(!(f.mode&1)&&(p===0||p===11||p===15)){var m=f.alternate;m?(f.updateQueue=m.updateQueue,f.memoizedState=m.memoizedState,f.lanes=m.lanes):(f.updateQueue=null,f.memoizedState=null)}var _=wp(s);if(_!==null){_.flags&=-257,Ep(_,s,l,o,e),_.mode&1&&_p(o,c,e),e=_,u=c;var v=e.updateQueue;if(v===null){var I=new Set;I.add(u),e.updateQueue=I}else v.add(u);break e}else{if(!(e&1)){_p(o,c,e),Hh();break e}u=Error(W(426))}}else if(Ce&&l.mode&1){var P=wp(s);if(P!==null){!(P.flags&65536)&&(P.flags|=256),Ep(P,s,l,o,e),Ah(Ri(u,l));break e}}o=u=Ri(u,l),We!==4&&(We=2),Do===null?Do=[o]:Do.push(o),o=s;do{switch(o.tag){case 3:o.flags|=65536,e&=-e,o.lanes|=e;var w=Ly(o,u,e);dp(o,w);break e;case 1:l=u;var E=o.type,x=o.stateNode;if(!(o.flags&128)&&(typeof E.getDerivedStateFromError=="function"||x!==null&&typeof x.componentDidCatch=="function"&&(Qn===null||!Qn.has(x)))){o.flags|=65536,e&=-e,o.lanes|=e;var b=jy(o,l,e);dp(o,b);break e}}o=o.return}while(o!==null)}rv(n)}catch(z){e=z,Fe===n&&n!==null&&(Fe=n=n.return);continue}break}while(!0)}function tv(){var t=$a.current;return $a.current=za,t===null?za:t}function Hh(){(We===0||We===3||We===2)&&(We=4),Ye===null||!(Or&268435455)&&!(Tl&268435455)||Ln(Ye,nt)}function Ha(t,e){var n=me;me|=2;var r=tv();(Ye!==t||nt!==e)&&(pn=null,Cr(t,e));do try{J1();break}catch(i){ev(t,i)}while(!0);if(Ph(),me=n,$a.current=r,Fe!==null)throw Error(W(261));return Ye=null,nt=0,We}function J1(){for(;Fe!==null;)nv(Fe)}function Z1(){for(;Fe!==null&&!Iw();)nv(Fe)}function nv(t){var e=ov(t.alternate,t,Vt);t.memoizedProps=t.pendingProps,e===null?rv(t):Fe=e,Bh.current=null}function rv(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=H1(n,e),n!==null){n.flags&=32767,Fe=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{We=6,Fe=null;return}}else if(n=W1(n,e,Vt),n!==null){Fe=n;return}if(e=e.sibling,e!==null){Fe=e;return}Fe=e=t}while(e!==null);We===0&&(We=5)}function Er(t,e,n){var r=we,i=qt.transition;try{qt.transition=null,we=1,eE(t,e,n,r)}finally{qt.transition=i,we=r}return null}function eE(t,e,n,r){do Ei();while(Fn!==null);if(me&6)throw Error(W(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(W(177));t.callbackNode=null,t.callbackPriority=0;var o=n.lanes|n.childLanes;if(Ow(t,o),t===Ye&&(Fe=Ye=null,nt=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||ea||(ea=!0,sv(Ca,function(){return Ei(),null})),o=(n.flags&15990)!==0,n.subtreeFlags&15990||o){o=qt.transition,qt.transition=null;var s=we;we=1;var l=me;me|=4,Bh.current=null,Q1(t,n),Xy(n,t),w1(lc),Ra=!!ac,lc=ac=null,t.current=n,K1(n),xw(),me=l,we=s,qt.transition=o}else t.current=n;if(ea&&(ea=!1,Fn=t,Wa=i),o=t.pendingLanes,o===0&&(Qn=null),Pw(n.stateNode),kt(t,Me()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(qa)throw qa=!1,t=Pc,Pc=null,t;return Wa&1&&t.tag!==0&&Ei(),o=t.pendingLanes,o&1?t===Rc?Oo++:(Oo=0,Rc=t):Oo=0,hr(),null}function Ei(){if(Fn!==null){var t=Lg(Wa),e=qt.transition,n=we;try{if(qt.transition=null,we=16>t?16:t,Fn===null)var r=!1;else{if(t=Fn,Fn=null,Wa=0,me&6)throw Error(W(331));var i=me;for(me|=4,Y=t.current;Y!==null;){var o=Y,s=o.child;if(Y.flags&16){var l=o.deletions;if(l!==null){for(var u=0;u<l.length;u++){var c=l[u];for(Y=c;Y!==null;){var f=Y;switch(f.tag){case 0:case 11:case 15:Vo(8,f,o)}var p=f.child;if(p!==null)p.return=f,Y=p;else for(;Y!==null;){f=Y;var m=f.sibling,_=f.return;if(Qy(f),f===c){Y=null;break}if(m!==null){m.return=_,Y=m;break}Y=_}}}var v=o.alternate;if(v!==null){var I=v.child;if(I!==null){v.child=null;do{var P=I.sibling;I.sibling=null,I=P}while(I!==null)}}Y=o}}if(o.subtreeFlags&2064&&s!==null)s.return=o,Y=s;else e:for(;Y!==null;){if(o=Y,o.flags&2048)switch(o.tag){case 0:case 11:case 15:Vo(9,o,o.return)}var w=o.sibling;if(w!==null){w.return=o.return,Y=w;break e}Y=o.return}}var E=t.current;for(Y=E;Y!==null;){s=Y;var x=s.child;if(s.subtreeFlags&2064&&x!==null)x.return=s,Y=x;else e:for(s=E;Y!==null;){if(l=Y,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:El(9,l)}}catch(z){Oe(l,l.return,z)}if(l===s){Y=null;break e}var b=l.sibling;if(b!==null){b.return=l.return,Y=b;break e}Y=l.return}}if(me=i,hr(),an&&typeof an.onPostCommitFiberRoot=="function")try{an.onPostCommitFiberRoot(dl,t)}catch{}r=!0}return r}finally{we=n,qt.transition=e}}return!1}function Op(t,e,n){e=Ri(n,e),e=Ly(t,e,1),t=Gn(t,e,1),e=vt(),t!==null&&(ms(t,1,e),kt(t,e))}function Oe(t,e,n){if(t.tag===3)Op(t,t,n);else for(;e!==null;){if(e.tag===3){Op(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Qn===null||!Qn.has(r))){t=Ri(n,t),t=jy(e,t,1),e=Gn(e,t,1),t=vt(),e!==null&&(ms(e,1,t),kt(e,t));break}}e=e.return}}function tE(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=vt(),t.pingedLanes|=t.suspendedLanes&n,Ye===t&&(nt&n)===n&&(We===4||We===3&&(nt&130023424)===nt&&500>Me()-$h?Cr(t,0):zh|=n),kt(t,e)}function iv(t,e){e===0&&(t.mode&1?(e=qs,qs<<=1,!(qs&130023424)&&(qs=4194304)):e=1);var n=vt();t=Tn(t,e),t!==null&&(ms(t,e,n),kt(t,n))}function nE(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),iv(t,n)}function rE(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(W(314))}r!==null&&r.delete(e),iv(t,n)}var ov;ov=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||Pt.current)Ct=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return Ct=!1,q1(t,e,n);Ct=!!(t.flags&131072)}else Ct=!1,Ce&&e.flags&1048576&&uy(e,Ma,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;pa(t,e),t=e.pendingProps;var i=xi(e,dt.current);wi(e,n),i=Mh(null,e,r,t,i,n);var o=Lh();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Rt(r)?(o=!0,Oa(e)):o=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,Nh(e),i.updater=wl,e.stateNode=i,i._reactInternals=e,yc(e,r,t,n),e=wc(null,e,r,!0,o,n)):(e.tag=0,Ce&&o&&Ih(e),yt(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(pa(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=oE(r),t=Kt(r,t),i){case 0:e=_c(null,e,r,t,n);break e;case 1:e=Ip(null,e,r,t,n);break e;case 11:e=Tp(null,e,r,t,n);break e;case 14:e=Sp(null,e,r,Kt(r.type,t),n);break e}throw Error(W(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Kt(r,i),_c(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Kt(r,i),Ip(t,e,r,i,n);case 3:e:{if(zy(e),t===null)throw Error(W(387));r=e.pendingProps,o=e.memoizedState,i=o.element,my(t,e),Fa(e,r,null,n);var s=e.memoizedState;if(r=s.element,o.isDehydrated)if(o={element:r,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},e.updateQueue.baseState=o,e.memoizedState=o,e.flags&256){i=Ri(Error(W(423)),e),e=xp(t,e,r,n,i);break e}else if(r!==i){i=Ri(Error(W(424)),e),e=xp(t,e,r,n,i);break e}else for(Dt=Hn(e.stateNode.containerInfo.firstChild),Ot=e,Ce=!0,Xt=null,n=dy(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Ai(),r===i){e=Sn(t,e,n);break e}yt(t,e,r,n)}e=e.child}return e;case 5:return gy(e),t===null&&pc(e),r=e.type,i=e.pendingProps,o=t!==null?t.memoizedProps:null,s=i.children,uc(r,i)?s=null:o!==null&&uc(r,o)&&(e.flags|=32),By(t,e),yt(t,e,s,n),e.child;case 6:return t===null&&pc(e),null;case 13:return $y(t,e,n);case 4:return Vh(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=Ci(e,null,r,n):yt(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Kt(r,i),Tp(t,e,r,i,n);case 7:return yt(t,e,e.pendingProps,n),e.child;case 8:return yt(t,e,e.pendingProps.children,n),e.child;case 12:return yt(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,o=e.memoizedProps,s=i.value,Te(La,r._currentValue),r._currentValue=s,o!==null)if(tn(o.value,s)){if(o.children===i.children&&!Pt.current){e=Sn(t,e,n);break e}}else for(o=e.child,o!==null&&(o.return=e);o!==null;){var l=o.dependencies;if(l!==null){s=o.child;for(var u=l.firstContext;u!==null;){if(u.context===r){if(o.tag===1){u=vn(-1,n&-n),u.tag=2;var c=o.updateQueue;if(c!==null){c=c.shared;var f=c.pending;f===null?u.next=u:(u.next=f.next,f.next=u),c.pending=u}}o.lanes|=n,u=o.alternate,u!==null&&(u.lanes|=n),mc(o.return,n,e),l.lanes|=n;break}u=u.next}}else if(o.tag===10)s=o.type===e.type?null:o.child;else if(o.tag===18){if(s=o.return,s===null)throw Error(W(341));s.lanes|=n,l=s.alternate,l!==null&&(l.lanes|=n),mc(s,n,e),s=o.sibling}else s=o.child;if(s!==null)s.return=o;else for(s=o;s!==null;){if(s===e){s=null;break}if(o=s.sibling,o!==null){o.return=s.return,s=o;break}s=s.return}o=s}yt(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,wi(e,n),i=Wt(i),r=r(i),e.flags|=1,yt(t,e,r,n),e.child;case 14:return r=e.type,i=Kt(r,e.pendingProps),i=Kt(r.type,i),Sp(t,e,r,i,n);case 15:return Fy(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Kt(r,i),pa(t,e),e.tag=1,Rt(r)?(t=!0,Oa(e)):t=!1,wi(e,n),My(e,r,i),yc(e,r,i,n),wc(null,e,r,!0,t,n);case 19:return qy(t,e,n);case 22:return Uy(t,e,n)}throw Error(W(156,e.tag))};function sv(t,e){return Dg(t,e)}function iE(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function $t(t,e,n,r){return new iE(t,e,n,r)}function Gh(t){return t=t.prototype,!(!t||!t.isReactComponent)}function oE(t){if(typeof t=="function")return Gh(t)?1:0;if(t!=null){if(t=t.$$typeof,t===fh)return 11;if(t===dh)return 14}return 2}function Yn(t,e){var n=t.alternate;return n===null?(n=$t(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function ya(t,e,n,r,i,o){var s=2;if(r=t,typeof t=="function")Gh(t)&&(s=1);else if(typeof t=="string")s=5;else e:switch(t){case oi:return Pr(n.children,i,o,e);case hh:s=8,i|=8;break;case Bu:return t=$t(12,n,e,i|2),t.elementType=Bu,t.lanes=o,t;case zu:return t=$t(13,n,e,i),t.elementType=zu,t.lanes=o,t;case $u:return t=$t(19,n,e,i),t.elementType=$u,t.lanes=o,t;case gg:return Sl(n,i,o,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case pg:s=10;break e;case mg:s=9;break e;case fh:s=11;break e;case dh:s=14;break e;case On:s=16,r=null;break e}throw Error(W(130,t==null?t:typeof t,""))}return e=$t(s,n,e,i),e.elementType=t,e.type=r,e.lanes=o,e}function Pr(t,e,n,r){return t=$t(7,t,r,e),t.lanes=n,t}function Sl(t,e,n,r){return t=$t(22,t,r,e),t.elementType=gg,t.lanes=n,t.stateNode={isHidden:!1},t}function Ru(t,e,n){return t=$t(6,t,null,e),t.lanes=n,t}function ku(t,e,n){return e=$t(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function sE(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=cu(0),this.expirationTimes=cu(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=cu(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Qh(t,e,n,r,i,o,s,l,u){return t=new sE(t,e,n,l,u),e===1?(e=1,o===!0&&(e|=8)):e=0,o=$t(3,null,null,e),t.current=o,o.stateNode=t,o.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Nh(o),t}function aE(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:ii,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function av(t){if(!t)return rr;t=t._reactInternals;e:{if(Fr(t)!==t||t.tag!==1)throw Error(W(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Rt(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(W(171))}if(t.tag===1){var n=t.type;if(Rt(n))return ay(t,n,e)}return e}function lv(t,e,n,r,i,o,s,l,u){return t=Qh(n,r,!0,t,i,o,s,l,u),t.context=av(null),n=t.current,r=vt(),i=Kn(n),o=vn(r,i),o.callback=e??null,Gn(n,o,i),t.current.lanes=i,ms(t,i,r),kt(t,r),t}function Il(t,e,n,r){var i=e.current,o=vt(),s=Kn(i);return n=av(n),e.context===null?e.context=n:e.pendingContext=n,e=vn(o,s),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=Gn(i,e,s),t!==null&&(en(t,i,s,o),ha(t,i,s)),s}function Ga(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function bp(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function Kh(t,e){bp(t,e),(t=t.alternate)&&bp(t,e)}function lE(){return null}var uv=typeof reportError=="function"?reportError:function(t){console.error(t)};function Yh(t){this._internalRoot=t}xl.prototype.render=Yh.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(W(409));Il(t,e,null,null)};xl.prototype.unmount=Yh.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;br(function(){Il(null,t,null,null)}),e[En]=null}};function xl(t){this._internalRoot=t}xl.prototype.unstable_scheduleHydration=function(t){if(t){var e=Ug();t={blockedOn:null,target:t,priority:e};for(var n=0;n<Mn.length&&e!==0&&e<Mn[n].priority;n++);Mn.splice(n,0,t),n===0&&zg(t)}};function Xh(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Al(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function Mp(){}function uE(t,e,n,r,i){if(i){if(typeof r=="function"){var o=r;r=function(){var c=Ga(s);o.call(c)}}var s=lv(e,r,t,0,null,!1,!1,"",Mp);return t._reactRootContainer=s,t[En]=s.current,Go(t.nodeType===8?t.parentNode:t),br(),s}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var l=r;r=function(){var c=Ga(u);l.call(c)}}var u=Qh(t,0,!1,null,null,!1,!1,"",Mp);return t._reactRootContainer=u,t[En]=u.current,Go(t.nodeType===8?t.parentNode:t),br(function(){Il(e,u,n,r)}),u}function Cl(t,e,n,r,i){var o=n._reactRootContainer;if(o){var s=o;if(typeof i=="function"){var l=i;i=function(){var u=Ga(s);l.call(u)}}Il(e,s,t,i)}else s=uE(n,e,t,i,r);return Ga(s)}jg=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=wo(e.pendingLanes);n!==0&&(gh(e,n|1),kt(e,Me()),!(me&6)&&(ki=Me()+500,hr()))}break;case 13:br(function(){var r=Tn(t,1);if(r!==null){var i=vt();en(r,t,1,i)}}),Kh(t,1)}};yh=function(t){if(t.tag===13){var e=Tn(t,134217728);if(e!==null){var n=vt();en(e,t,134217728,n)}Kh(t,134217728)}};Fg=function(t){if(t.tag===13){var e=Kn(t),n=Tn(t,e);if(n!==null){var r=vt();en(n,t,e,r)}Kh(t,e)}};Ug=function(){return we};Bg=function(t,e){var n=we;try{return we=t,e()}finally{we=n}};Zu=function(t,e,n){switch(e){case"input":if(Hu(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=yl(r);if(!i)throw Error(W(90));vg(r),Hu(r,i)}}}break;case"textarea":wg(t,n);break;case"select":e=n.value,e!=null&&gi(t,!!n.multiple,e,!1)}};Cg=qh;Pg=br;var cE={usingClientEntryPoint:!1,Events:[ys,ui,yl,xg,Ag,qh]},yo={findFiberByHostInstance:Sr,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},hE={bundleType:yo.bundleType,version:yo.version,rendererPackageName:yo.rendererPackageName,rendererConfig:yo.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Cn.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=Ng(t),t===null?null:t.stateNode},findFiberByHostInstance:yo.findFiberByHostInstance||lE,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ta=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ta.isDisabled&&ta.supportsFiber)try{dl=ta.inject(hE),an=ta}catch{}}Lt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=cE;Lt.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Xh(e))throw Error(W(200));return aE(t,e,null,n)};Lt.createRoot=function(t,e){if(!Xh(t))throw Error(W(299));var n=!1,r="",i=uv;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=Qh(t,1,!1,null,null,n,!1,r,i),t[En]=e.current,Go(t.nodeType===8?t.parentNode:t),new Yh(e)};Lt.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(W(188)):(t=Object.keys(t).join(","),Error(W(268,t)));return t=Ng(e),t=t===null?null:t.stateNode,t};Lt.flushSync=function(t){return br(t)};Lt.hydrate=function(t,e,n){if(!Al(e))throw Error(W(200));return Cl(null,t,e,!0,n)};Lt.hydrateRoot=function(t,e,n){if(!Xh(t))throw Error(W(405));var r=n!=null&&n.hydratedSources||null,i=!1,o="",s=uv;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onRecoverableError!==void 0&&(s=n.onRecoverableError)),e=lv(e,null,t,1,n??null,i,!1,o,s),t[En]=e.current,Go(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new xl(e)};Lt.render=function(t,e,n){if(!Al(e))throw Error(W(200));return Cl(null,t,e,!1,n)};Lt.unmountComponentAtNode=function(t){if(!Al(t))throw Error(W(40));return t._reactRootContainer?(br(function(){Cl(null,null,t,!1,function(){t._reactRootContainer=null,t[En]=null})}),!0):!1};Lt.unstable_batchedUpdates=qh;Lt.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!Al(n))throw Error(W(200));if(t==null||t._reactInternals===void 0)throw Error(W(38));return Cl(t,e,n,!1,r)};Lt.version="18.3.1-next-f1338f8080-20240426";function cv(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(cv)}catch(t){console.error(t)}}cv(),cg.exports=Lt;var fE=cg.exports,hv,Lp=fE;hv=Lp.createRoot,Lp.hydrateRoot;/**
 * @remix-run/router v1.21.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function ns(){return ns=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ns.apply(this,arguments)}var Un;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(Un||(Un={}));const jp="popstate";function dE(t){t===void 0&&(t={});function e(r,i){let{pathname:o,search:s,hash:l}=r.location;return Vc("",{pathname:o,search:s,hash:l},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:Qa(i)}return mE(e,n,null,t)}function Be(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function fv(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function pE(){return Math.random().toString(36).substr(2,8)}function Fp(t,e){return{usr:t.state,key:t.key,idx:e}}function Vc(t,e,n,r){return n===void 0&&(n=null),ns({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?Bi(e):e,{state:n,key:e&&e.key||r||pE()})}function Qa(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function Bi(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function mE(t,e,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:o=!1}=r,s=i.history,l=Un.Pop,u=null,c=f();c==null&&(c=0,s.replaceState(ns({},s.state,{idx:c}),""));function f(){return(s.state||{idx:null}).idx}function p(){l=Un.Pop;let P=f(),w=P==null?null:P-c;c=P,u&&u({action:l,location:I.location,delta:w})}function m(P,w){l=Un.Push;let E=Vc(I.location,P,w);c=f()+1;let x=Fp(E,c),b=I.createHref(E);try{s.pushState(x,"",b)}catch(z){if(z instanceof DOMException&&z.name==="DataCloneError")throw z;i.location.assign(b)}o&&u&&u({action:l,location:I.location,delta:1})}function _(P,w){l=Un.Replace;let E=Vc(I.location,P,w);c=f();let x=Fp(E,c),b=I.createHref(E);s.replaceState(x,"",b),o&&u&&u({action:l,location:I.location,delta:0})}function v(P){let w=i.location.origin!=="null"?i.location.origin:i.location.href,E=typeof P=="string"?P:Qa(P);return E=E.replace(/ $/,"%20"),Be(w,"No window.location.(origin|href) available to create URL for href: "+E),new URL(E,w)}let I={get action(){return l},get location(){return t(i,s)},listen(P){if(u)throw new Error("A history only accepts one active listener");return i.addEventListener(jp,p),u=P,()=>{i.removeEventListener(jp,p),u=null}},createHref(P){return e(i,P)},createURL:v,encodeLocation(P){let w=v(P);return{pathname:w.pathname,search:w.search,hash:w.hash}},push:m,replace:_,go(P){return s.go(P)}};return I}var Up;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(Up||(Up={}));function gE(t,e,n){return n===void 0&&(n="/"),yE(t,e,n,!1)}function yE(t,e,n,r){let i=typeof e=="string"?Bi(e):e,o=Jh(i.pathname||"/",n);if(o==null)return null;let s=dv(t);vE(s);let l=null;for(let u=0;l==null&&u<s.length;++u){let c=RE(o);l=CE(s[u],c,r)}return l}function dv(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(o,s,l)=>{let u={relativePath:l===void 0?o.path||"":l,caseSensitive:o.caseSensitive===!0,childrenIndex:s,route:o};u.relativePath.startsWith("/")&&(Be(u.relativePath.startsWith(r),'Absolute route path "'+u.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),u.relativePath=u.relativePath.slice(r.length));let c=Xn([r,u.relativePath]),f=n.concat(u);o.children&&o.children.length>0&&(Be(o.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+c+'".')),dv(o.children,e,f,c)),!(o.path==null&&!o.index)&&e.push({path:c,score:xE(c,o.index),routesMeta:f})};return t.forEach((o,s)=>{var l;if(o.path===""||!((l=o.path)!=null&&l.includes("?")))i(o,s);else for(let u of pv(o.path))i(o,s,u)}),e}function pv(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),o=n.replace(/\?$/,"");if(r.length===0)return i?[o,""]:[o];let s=pv(r.join("/")),l=[];return l.push(...s.map(u=>u===""?o:[o,u].join("/"))),i&&l.push(...s),l.map(u=>t.startsWith("/")&&u===""?"/":u)}function vE(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:AE(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const _E=/^:[\w-]+$/,wE=3,EE=2,TE=1,SE=10,IE=-2,Bp=t=>t==="*";function xE(t,e){let n=t.split("/"),r=n.length;return n.some(Bp)&&(r+=IE),e&&(r+=EE),n.filter(i=>!Bp(i)).reduce((i,o)=>i+(_E.test(o)?wE:o===""?TE:SE),r)}function AE(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function CE(t,e,n){let{routesMeta:r}=t,i={},o="/",s=[];for(let l=0;l<r.length;++l){let u=r[l],c=l===r.length-1,f=o==="/"?e:e.slice(o.length)||"/",p=zp({path:u.relativePath,caseSensitive:u.caseSensitive,end:c},f),m=u.route;if(!p&&c&&n&&!r[r.length-1].route.index&&(p=zp({path:u.relativePath,caseSensitive:u.caseSensitive,end:!1},f)),!p)return null;Object.assign(i,p.params),s.push({params:i,pathname:Xn([o,p.pathname]),pathnameBase:DE(Xn([o,p.pathnameBase])),route:m}),p.pathnameBase!=="/"&&(o=Xn([o,p.pathnameBase]))}return s}function zp(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=PE(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let o=i[0],s=o.replace(/(.)\/+$/,"$1"),l=i.slice(1);return{params:r.reduce((c,f,p)=>{let{paramName:m,isOptional:_}=f;if(m==="*"){let I=l[p]||"";s=o.slice(0,o.length-I.length).replace(/(.)\/+$/,"$1")}const v=l[p];return _&&!v?c[m]=void 0:c[m]=(v||"").replace(/%2F/g,"/"),c},{}),pathname:o,pathnameBase:s,pattern:t}}function PE(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),fv(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(s,l,u)=>(r.push({paramName:l,isOptional:u!=null}),u?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function RE(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return fv(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function Jh(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function kE(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?Bi(t):t;return{pathname:n?n.startsWith("/")?n:NE(n,e):e,search:OE(r),hash:bE(i)}}function NE(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function Nu(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function VE(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function mv(t,e){let n=VE(t);return e?n.map((r,i)=>i===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function gv(t,e,n,r){r===void 0&&(r=!1);let i;typeof t=="string"?i=Bi(t):(i=ns({},t),Be(!i.pathname||!i.pathname.includes("?"),Nu("?","pathname","search",i)),Be(!i.pathname||!i.pathname.includes("#"),Nu("#","pathname","hash",i)),Be(!i.search||!i.search.includes("#"),Nu("#","search","hash",i)));let o=t===""||i.pathname==="",s=o?"/":i.pathname,l;if(s==null)l=n;else{let p=e.length-1;if(!r&&s.startsWith("..")){let m=s.split("/");for(;m[0]==="..";)m.shift(),p-=1;i.pathname=m.join("/")}l=p>=0?e[p]:"/"}let u=kE(i,l),c=s&&s!=="/"&&s.endsWith("/"),f=(o||s===".")&&n.endsWith("/");return!u.pathname.endsWith("/")&&(c||f)&&(u.pathname+="/"),u}const Xn=t=>t.join("/").replace(/\/\/+/g,"/"),DE=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),OE=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,bE=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function ME(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const yv=["post","put","patch","delete"];new Set(yv);const LE=["get",...yv];new Set(LE);/**
 * React Router v6.28.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function rs(){return rs=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},rs.apply(this,arguments)}const Zh=q.createContext(null),jE=q.createContext(null),Ur=q.createContext(null),Pl=q.createContext(null),Br=q.createContext({outlet:null,matches:[],isDataRoute:!1}),vv=q.createContext(null);function FE(t,e){let{relative:n}=e===void 0?{}:e;_s()||Be(!1);let{basename:r,navigator:i}=q.useContext(Ur),{hash:o,pathname:s,search:l}=wv(t,{relative:n}),u=s;return r!=="/"&&(u=s==="/"?r:Xn([r,s])),i.createHref({pathname:u,search:l,hash:o})}function _s(){return q.useContext(Pl)!=null}function Rl(){return _s()||Be(!1),q.useContext(Pl).location}function _v(t){q.useContext(Ur).static||q.useLayoutEffect(t)}function UE(){let{isDataRoute:t}=q.useContext(Br);return t?ZE():BE()}function BE(){_s()||Be(!1);let t=q.useContext(Zh),{basename:e,future:n,navigator:r}=q.useContext(Ur),{matches:i}=q.useContext(Br),{pathname:o}=Rl(),s=JSON.stringify(mv(i,n.v7_relativeSplatPath)),l=q.useRef(!1);return _v(()=>{l.current=!0}),q.useCallback(function(c,f){if(f===void 0&&(f={}),!l.current)return;if(typeof c=="number"){r.go(c);return}let p=gv(c,JSON.parse(s),o,f.relative==="path");t==null&&e!=="/"&&(p.pathname=p.pathname==="/"?e:Xn([e,p.pathname])),(f.replace?r.replace:r.push)(p,f.state,f)},[e,r,s,o,t])}function wv(t,e){let{relative:n}=e===void 0?{}:e,{future:r}=q.useContext(Ur),{matches:i}=q.useContext(Br),{pathname:o}=Rl(),s=JSON.stringify(mv(i,r.v7_relativeSplatPath));return q.useMemo(()=>gv(t,JSON.parse(s),o,n==="path"),[t,s,o,n])}function zE(t,e){return $E(t,e)}function $E(t,e,n,r){_s()||Be(!1);let{navigator:i}=q.useContext(Ur),{matches:o}=q.useContext(Br),s=o[o.length-1],l=s?s.params:{};s&&s.pathname;let u=s?s.pathnameBase:"/";s&&s.route;let c=Rl(),f;if(e){var p;let P=typeof e=="string"?Bi(e):e;u==="/"||(p=P.pathname)!=null&&p.startsWith(u)||Be(!1),f=P}else f=c;let m=f.pathname||"/",_=m;if(u!=="/"){let P=u.replace(/^\//,"").split("/");_="/"+m.replace(/^\//,"").split("/").slice(P.length).join("/")}let v=gE(t,{pathname:_}),I=QE(v&&v.map(P=>Object.assign({},P,{params:Object.assign({},l,P.params),pathname:Xn([u,i.encodeLocation?i.encodeLocation(P.pathname).pathname:P.pathname]),pathnameBase:P.pathnameBase==="/"?u:Xn([u,i.encodeLocation?i.encodeLocation(P.pathnameBase).pathname:P.pathnameBase])})),o,n,r);return e&&I?q.createElement(Pl.Provider,{value:{location:rs({pathname:"/",search:"",hash:"",state:null,key:"default"},f),navigationType:Un.Pop}},I):I}function qE(){let t=JE(),e=ME(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return q.createElement(q.Fragment,null,q.createElement("h2",null,"Unexpected Application Error!"),q.createElement("h3",{style:{fontStyle:"italic"}},e),n?q.createElement("pre",{style:i},n):null,null)}const WE=q.createElement(qE,null);class HE extends q.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?q.createElement(Br.Provider,{value:this.props.routeContext},q.createElement(vv.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function GE(t){let{routeContext:e,match:n,children:r}=t,i=q.useContext(Zh);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),q.createElement(Br.Provider,{value:e},r)}function QE(t,e,n,r){var i;if(e===void 0&&(e=[]),n===void 0&&(n=null),r===void 0&&(r=null),t==null){var o;if(!n)return null;if(n.errors)t=n.matches;else if((o=r)!=null&&o.v7_partialHydration&&e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let s=t,l=(i=n)==null?void 0:i.errors;if(l!=null){let f=s.findIndex(p=>p.route.id&&(l==null?void 0:l[p.route.id])!==void 0);f>=0||Be(!1),s=s.slice(0,Math.min(s.length,f+1))}let u=!1,c=-1;if(n&&r&&r.v7_partialHydration)for(let f=0;f<s.length;f++){let p=s[f];if((p.route.HydrateFallback||p.route.hydrateFallbackElement)&&(c=f),p.route.id){let{loaderData:m,errors:_}=n,v=p.route.loader&&m[p.route.id]===void 0&&(!_||_[p.route.id]===void 0);if(p.route.lazy||v){u=!0,c>=0?s=s.slice(0,c+1):s=[s[0]];break}}}return s.reduceRight((f,p,m)=>{let _,v=!1,I=null,P=null;n&&(_=l&&p.route.id?l[p.route.id]:void 0,I=p.route.errorElement||WE,u&&(c<0&&m===0?(v=!0,P=null):c===m&&(v=!0,P=p.route.hydrateFallbackElement||null)));let w=e.concat(s.slice(0,m+1)),E=()=>{let x;return _?x=I:v?x=P:p.route.Component?x=q.createElement(p.route.Component,null):p.route.element?x=p.route.element:x=f,q.createElement(GE,{match:p,routeContext:{outlet:f,matches:w,isDataRoute:n!=null},children:x})};return n&&(p.route.ErrorBoundary||p.route.errorElement||m===0)?q.createElement(HE,{location:n.location,revalidation:n.revalidation,component:I,error:_,children:E(),routeContext:{outlet:null,matches:w,isDataRoute:!0}}):E()},null)}var Ev=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(Ev||{}),Ka=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(Ka||{});function KE(t){let e=q.useContext(Zh);return e||Be(!1),e}function YE(t){let e=q.useContext(jE);return e||Be(!1),e}function XE(t){let e=q.useContext(Br);return e||Be(!1),e}function Tv(t){let e=XE(),n=e.matches[e.matches.length-1];return n.route.id||Be(!1),n.route.id}function JE(){var t;let e=q.useContext(vv),n=YE(Ka.UseRouteError),r=Tv(Ka.UseRouteError);return e!==void 0?e:(t=n.errors)==null?void 0:t[r]}function ZE(){let{router:t}=KE(Ev.UseNavigateStable),e=Tv(Ka.UseNavigateStable),n=q.useRef(!1);return _v(()=>{n.current=!0}),q.useCallback(function(i,o){o===void 0&&(o={}),n.current&&(typeof i=="number"?t.navigate(i):t.navigate(i,rs({fromRouteId:e},o)))},[t,e])}const $p={};function eT(t,e){$p[e]||($p[e]=!0,console.warn(e))}const qp=(t,e,n)=>eT(t," React Router Future Flag Warning: "+e+". "+("You can use the `"+t+"` future flag to opt-in early. ")+("For more information, see "+n+"."));function tT(t,e){t!=null&&t.v7_startTransition||qp("v7_startTransition","React Router will begin wrapping state updates in `React.startTransition` in v7","https://reactrouter.com/v6/upgrading/future#v7_starttransition"),!(t!=null&&t.v7_relativeSplatPath)&&!e&&qp("v7_relativeSplatPath","Relative route resolution within Splat routes is changing in v7","https://reactrouter.com/v6/upgrading/future#v7_relativesplatpath")}function Zr(t){Be(!1)}function nT(t){let{basename:e="/",children:n=null,location:r,navigationType:i=Un.Pop,navigator:o,static:s=!1,future:l}=t;_s()&&Be(!1);let u=e.replace(/^\/*/,"/"),c=q.useMemo(()=>({basename:u,navigator:o,static:s,future:rs({v7_relativeSplatPath:!1},l)}),[u,l,o,s]);typeof r=="string"&&(r=Bi(r));let{pathname:f="/",search:p="",hash:m="",state:_=null,key:v="default"}=r,I=q.useMemo(()=>{let P=Jh(f,u);return P==null?null:{location:{pathname:P,search:p,hash:m,state:_,key:v},navigationType:i}},[u,f,p,m,_,v,i]);return I==null?null:q.createElement(Ur.Provider,{value:c},q.createElement(Pl.Provider,{children:n,value:I}))}function rT(t){let{children:e,location:n}=t;return zE(Dc(e),n)}new Promise(()=>{});function Dc(t,e){e===void 0&&(e=[]);let n=[];return q.Children.forEach(t,(r,i)=>{if(!q.isValidElement(r))return;let o=[...e,i];if(r.type===q.Fragment){n.push.apply(n,Dc(r.props.children,o));return}r.type!==Zr&&Be(!1),!r.props.index||!r.props.children||Be(!1);let s={id:r.props.id||o.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(s.children=Dc(r.props.children,o)),n.push(s)}),n}/**
 * React Router DOM v6.28.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Oc(){return Oc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Oc.apply(this,arguments)}function iT(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,o;for(o=0;o<r.length;o++)i=r[o],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function oT(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function sT(t,e){return t.button===0&&(!e||e==="_self")&&!oT(t)}const aT=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],lT="6";try{window.__reactRouterVersion=lT}catch{}const uT="startTransition",Wp=tw[uT];function cT(t){let{basename:e,children:n,future:r,window:i}=t,o=q.useRef();o.current==null&&(o.current=dE({window:i,v5Compat:!0}));let s=o.current,[l,u]=q.useState({action:s.action,location:s.location}),{v7_startTransition:c}=r||{},f=q.useCallback(p=>{c&&Wp?Wp(()=>u(p)):u(p)},[u,c]);return q.useLayoutEffect(()=>s.listen(f),[s,f]),q.useEffect(()=>tT(r),[r]),q.createElement(nT,{basename:e,children:n,location:l.location,navigationType:l.action,navigator:s,future:r})}const hT=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",fT=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Sv=q.forwardRef(function(e,n){let{onClick:r,relative:i,reloadDocument:o,replace:s,state:l,target:u,to:c,preventScrollReset:f,viewTransition:p}=e,m=iT(e,aT),{basename:_}=q.useContext(Ur),v,I=!1;if(typeof c=="string"&&fT.test(c)&&(v=c,hT))try{let x=new URL(window.location.href),b=c.startsWith("//")?new URL(x.protocol+c):new URL(c),z=Jh(b.pathname,_);b.origin===x.origin&&z!=null?c=z+b.search+b.hash:I=!0}catch{}let P=FE(c,{relative:i}),w=dT(c,{replace:s,state:l,target:u,preventScrollReset:f,relative:i,viewTransition:p});function E(x){r&&r(x),x.defaultPrevented||w(x)}return q.createElement("a",Oc({},m,{href:v||P,onClick:I||o?r:E,ref:n,target:u}))});var Hp;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(Hp||(Hp={}));var Gp;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(Gp||(Gp={}));function dT(t,e){let{target:n,replace:r,state:i,preventScrollReset:o,relative:s,viewTransition:l}=e===void 0?{}:e,u=UE(),c=Rl(),f=wv(t,{relative:s});return q.useCallback(p=>{if(sT(p,n)){p.preventDefault();let m=r!==void 0?r:Qa(c)===Qa(f);u(t,{replace:m,state:i,preventScrollReset:o,relative:s,viewTransition:l})}},[c,u,f,r,i,n,t,o,s,l])}var Iv={exports:{}};(function(t,e){(function(n,r){t.exports=r()})(Jm,function(){return function(n){var r={};function i(o){if(r[o])return r[o].exports;var s=r[o]={i:o,l:!1,exports:{}};return n[o].call(s.exports,s,s.exports,i),s.l=!0,s.exports}return i.m=n,i.c=r,i.d=function(o,s,l){i.o(o,s)||Object.defineProperty(o,s,{enumerable:!0,get:l})},i.r=function(o){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(o,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(o,"__esModule",{value:!0})},i.t=function(o,s){if(1&s&&(o=i(o)),8&s||4&s&&typeof o=="object"&&o&&o.__esModule)return o;var l=Object.create(null);if(i.r(l),Object.defineProperty(l,"default",{enumerable:!0,value:o}),2&s&&typeof o!="string")for(var u in o)i.d(l,u,(function(c){return o[c]}).bind(null,u));return l},i.n=function(o){var s=o&&o.__esModule?function(){return o.default}:function(){return o};return i.d(s,"a",s),s},i.o=function(o,s){return Object.prototype.hasOwnProperty.call(o,s)},i.p="/",i(i.s=2)}([function(n,r,i){n.exports=i(3)},function(n,r,i){n.exports=i(5)()},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=function(){function m(_,v){for(var I=0;I<v.length;I++){var P=v[I];P.enumerable=P.enumerable||!1,P.configurable=!0,"value"in P&&(P.writable=!0),Object.defineProperty(_,P.key,P)}}return function(_,v,I){return v&&m(_.prototype,v),I&&m(_,I),_}}(),s=i(0),l=f(s),u=f(i(1)),c=f(i(7));function f(m){return m&&m.__esModule?m:{default:m}}var p=function(m){function _(v){(function(P,w){if(!(P instanceof w))throw new TypeError("Cannot call a class as a function")})(this,_);var I=function(P,w){if(!P)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!w||typeof w!="object"&&typeof w!="function"?P:w}(this,(_.__proto__||Object.getPrototypeOf(_)).call(this,v));return I.state={index:0,displayText:""},I.getRawText=I.getRawText.bind(I),I.type=I.type.bind(I),I.erase=I.erase.bind(I),I.startTyping=I.startTyping.bind(I),I}return function(v,I){if(typeof I!="function"&&I!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof I);v.prototype=Object.create(I&&I.prototype,{constructor:{value:v,enumerable:!1,writable:!0,configurable:!0}}),I&&(Object.setPrototypeOf?Object.setPrototypeOf(v,I):v.__proto__=I)}(_,s.Component),o(_,[{key:"componentDidMount",value:function(){this.startTyping()}},{key:"componentWillUnmount",value:function(){this._timeout&&clearTimeout(this._timeout)}},{key:"startTyping",value:function(){var v=this;this._timeout=setTimeout(function(){v.type()},this.props.typingDelay)}},{key:"getRawText",value:function(){var v=this.props.text;return typeof v=="string"?[v]:[].concat(function(I){if(Array.isArray(I)){for(var P=0,w=Array(I.length);P<I.length;P++)w[P]=I[P];return w}return Array.from(I)}(v))}},{key:"type",value:function(){var v=this,I=this.state,P=I.index,w=I.displayText,E=this.getRawText()[P];E.length>w.length?(w=E.substr(0,w.length+1),this.setState({displayText:w},function(){v._timeout=setTimeout(function(){v.type()},v.props.speed)})):this._timeout=setTimeout(function(){v.erase()},this.props.eraseDelay)}},{key:"erase",value:function(){var v=this,I=this.state,P=I.index,w=I.displayText;w.length===0?(P=P+1===this.getRawText().length?0:P+1,this.setState({index:P},function(){v.startTyping()})):(w=w.substr(-w.length,w.length-1),this.setState({displayText:w},function(){v._timeout=setTimeout(function(){v.erase()},v.props.eraseSpeed)}))}},{key:"render",value:function(){var v=this.props,I=(v.speed,v.eraseSpeed,v.typingDelay,v.eraseDelay,v.staticText),P=(v.text,v.cursor),w=v.displayTextRenderer,E=v.cursorClassName,x=v.cursorRenderer,b=function(y,T){var A={};for(var R in y)T.indexOf(R)>=0||Object.prototype.hasOwnProperty.call(y,R)&&(A[R]=y[R]);return A}(v,["speed","eraseSpeed","typingDelay","eraseDelay","staticText","text","cursor","displayTextRenderer","cursorClassName","cursorRenderer"]),z=this.state,$=z.displayText,S=z.index;return l.default.createElement("span",b,I?l.default.createElement("span",null,I,""):null,l.default.createElement("div",{style:{display:"inline-block"}},w?w($,S):$),l.default.createElement(c.default,{cursor:P,cursorRenderer:x,className:E}))}}]),_}();r.default=p,p.defaultProps={speed:200,eraseSpeed:200,eraseDelay:5e3,typingDelay:2500},p.propTypes={speed:u.default.number.isRequired,eraseSpeed:u.default.number.isRequired,typingDelay:u.default.number.isRequired,eraseDelay:u.default.number.isRequired,staticText:u.default.string,text:u.default.oneOfType([u.default.arrayOf(u.default.string),u.default.string]).isRequired,cursor:u.default.string,cursorClassName:u.default.string,displayTextRenderer:u.default.func,cursorRenderer:u.default.func}},function(n,r,i){/** @license React v16.13.1
* react.production.min.js
*
* Copyright (c) Facebook, Inc. and its affiliates.
*
* This source code is licensed under the MIT license found in the
* LICENSE file in the root directory of this source tree.
*/var o=i(4),s=typeof Symbol=="function"&&Symbol.for,l=s?Symbol.for("react.element"):60103,u=s?Symbol.for("react.portal"):60106,c=s?Symbol.for("react.fragment"):60107,f=s?Symbol.for("react.strict_mode"):60108,p=s?Symbol.for("react.profiler"):60114,m=s?Symbol.for("react.provider"):60109,_=s?Symbol.for("react.context"):60110,v=s?Symbol.for("react.forward_ref"):60112,I=s?Symbol.for("react.suspense"):60113,P=s?Symbol.for("react.memo"):60115,w=s?Symbol.for("react.lazy"):60116,E=typeof Symbol=="function"&&Symbol.iterator;function x(M){for(var k="https://reactjs.org/docs/error-decoder.html?invariant="+M,L=1;L<arguments.length;L++)k+="&args[]="+encodeURIComponent(arguments[L]);return"Minified React error #"+M+"; visit "+k+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var b={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},z={};function $(M,k,L){this.props=M,this.context=k,this.refs=z,this.updater=L||b}function S(){}function y(M,k,L){this.props=M,this.context=k,this.refs=z,this.updater=L||b}$.prototype.isReactComponent={},$.prototype.setState=function(M,k){if(typeof M!="object"&&typeof M!="function"&&M!=null)throw Error(x(85));this.updater.enqueueSetState(this,M,k,"setState")},$.prototype.forceUpdate=function(M){this.updater.enqueueForceUpdate(this,M,"forceUpdate")},S.prototype=$.prototype;var T=y.prototype=new S;T.constructor=y,o(T,$.prototype),T.isPureReactComponent=!0;var A={current:null},R=Object.prototype.hasOwnProperty,N={key:!0,ref:!0,__self:!0,__source:!0};function C(M,k,L){var F,D={},Z=null,H=null;if(k!=null)for(F in k.ref!==void 0&&(H=k.ref),k.key!==void 0&&(Z=""+k.key),k)R.call(k,F)&&!N.hasOwnProperty(F)&&(D[F]=k[F]);var J=arguments.length-2;if(J===1)D.children=L;else if(1<J){for(var ee=Array(J),se=0;se<J;se++)ee[se]=arguments[se+2];D.children=ee}if(M&&M.defaultProps)for(F in J=M.defaultProps)D[F]===void 0&&(D[F]=J[F]);return{$$typeof:l,type:M,key:Z,ref:H,props:D,_owner:A.current}}function ze(M){return typeof M=="object"&&M!==null&&M.$$typeof===l}var Et=/\/+/g,Ft=[];function Tt(M,k,L,F){if(Ft.length){var D=Ft.pop();return D.result=M,D.keyPrefix=k,D.func=L,D.context=F,D.count=0,D}return{result:M,keyPrefix:k,func:L,context:F,count:0}}function Q(M){M.result=null,M.keyPrefix=null,M.func=null,M.context=null,M.count=0,10>Ft.length&&Ft.push(M)}function ne(M,k,L){return M==null?0:function F(D,Z,H,J){var ee=typeof D;ee!=="undefined"&&ee!=="boolean"||(D=null);var se=!1;if(D===null)se=!0;else switch(ee){case"string":case"number":se=!0;break;case"object":switch(D.$$typeof){case l:case u:se=!0}}if(se)return H(J,D,Z===""?"."+re(D,0):Z),1;if(se=0,Z=Z===""?".":Z+":",Array.isArray(D))for(var ce=0;ce<D.length;ce++){var $e=Z+re(ee=D[ce],ce);se+=F(ee,$e,H,J)}else if($e=D===null||typeof D!="object"?null:typeof($e=E&&D[E]||D["@@iterator"])=="function"?$e:null,typeof $e=="function")for(D=$e.call(D),ce=0;!(ee=D.next()).done;)se+=F(ee=ee.value,$e=Z+re(ee,ce++),H,J);else if(ee==="object")throw H=""+D,Error(x(31,H==="[object Object]"?"object with keys {"+Object.keys(D).join(", ")+"}":H,""));return se}(M,"",k,L)}function re(M,k){return typeof M=="object"&&M!==null&&M.key!=null?function(L){var F={"=":"=0",":":"=2"};return"$"+(""+L).replace(/[=:]/g,function(D){return F[D]})}(M.key):k.toString(36)}function _e(M,k){M.func.call(M.context,k,M.count++)}function pe(M,k,L){var F=M.result,D=M.keyPrefix;M=M.func.call(M.context,k,M.count++),Array.isArray(M)?ye(M,F,L,function(Z){return Z}):M!=null&&(ze(M)&&(M=function(Z,H){return{$$typeof:l,type:Z.type,key:H,ref:Z.ref,props:Z.props,_owner:Z._owner}}(M,D+(!M.key||k&&k.key===M.key?"":(""+M.key).replace(Et,"$&/")+"/")+L)),F.push(M))}function ye(M,k,L,F,D){var Z="";L!=null&&(Z=(""+L).replace(Et,"$&/")+"/"),ne(M,pe,k=Tt(k,Z,F,D)),Q(k)}var St={current:null};function Pe(){var M=St.current;if(M===null)throw Error(x(321));return M}var pt={ReactCurrentDispatcher:St,ReactCurrentBatchConfig:{suspense:null},ReactCurrentOwner:A,IsSomeRendererActing:{current:!1},assign:o};r.Children={map:function(M,k,L){if(M==null)return M;var F=[];return ye(M,F,null,k,L),F},forEach:function(M,k,L){if(M==null)return M;ne(M,_e,k=Tt(null,null,k,L)),Q(k)},count:function(M){return ne(M,function(){return null},null)},toArray:function(M){var k=[];return ye(M,k,null,function(L){return L}),k},only:function(M){if(!ze(M))throw Error(x(143));return M}},r.Component=$,r.Fragment=c,r.Profiler=p,r.PureComponent=y,r.StrictMode=f,r.Suspense=I,r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=pt,r.cloneElement=function(M,k,L){if(M==null)throw Error(x(267,M));var F=o({},M.props),D=M.key,Z=M.ref,H=M._owner;if(k!=null){if(k.ref!==void 0&&(Z=k.ref,H=A.current),k.key!==void 0&&(D=""+k.key),M.type&&M.type.defaultProps)var J=M.type.defaultProps;for(ee in k)R.call(k,ee)&&!N.hasOwnProperty(ee)&&(F[ee]=k[ee]===void 0&&J!==void 0?J[ee]:k[ee])}var ee=arguments.length-2;if(ee===1)F.children=L;else if(1<ee){J=Array(ee);for(var se=0;se<ee;se++)J[se]=arguments[se+2];F.children=J}return{$$typeof:l,type:M.type,key:D,ref:Z,props:F,_owner:H}},r.createContext=function(M,k){return k===void 0&&(k=null),(M={$$typeof:_,_calculateChangedBits:k,_currentValue:M,_currentValue2:M,_threadCount:0,Provider:null,Consumer:null}).Provider={$$typeof:m,_context:M},M.Consumer=M},r.createElement=C,r.createFactory=function(M){var k=C.bind(null,M);return k.type=M,k},r.createRef=function(){return{current:null}},r.forwardRef=function(M){return{$$typeof:v,render:M}},r.isValidElement=ze,r.lazy=function(M){return{$$typeof:w,_ctor:M,_status:-1,_result:null}},r.memo=function(M,k){return{$$typeof:P,type:M,compare:k===void 0?null:k}},r.useCallback=function(M,k){return Pe().useCallback(M,k)},r.useContext=function(M,k){return Pe().useContext(M,k)},r.useDebugValue=function(){},r.useEffect=function(M,k){return Pe().useEffect(M,k)},r.useImperativeHandle=function(M,k,L){return Pe().useImperativeHandle(M,k,L)},r.useLayoutEffect=function(M,k){return Pe().useLayoutEffect(M,k)},r.useMemo=function(M,k){return Pe().useMemo(M,k)},r.useReducer=function(M,k,L){return Pe().useReducer(M,k,L)},r.useRef=function(M){return Pe().useRef(M)},r.useState=function(M){return Pe().useState(M)},r.version="16.13.1"},function(n,r,i){/*
object-assign
(c) Sindre Sorhus
@license MIT
*/var o=Object.getOwnPropertySymbols,s=Object.prototype.hasOwnProperty,l=Object.prototype.propertyIsEnumerable;n.exports=function(){try{if(!Object.assign)return!1;var u=new String("abc");if(u[5]="de",Object.getOwnPropertyNames(u)[0]==="5")return!1;for(var c={},f=0;f<10;f++)c["_"+String.fromCharCode(f)]=f;if(Object.getOwnPropertyNames(c).map(function(m){return c[m]}).join("")!=="0123456789")return!1;var p={};return"abcdefghijklmnopqrst".split("").forEach(function(m){p[m]=m}),Object.keys(Object.assign({},p)).join("")==="abcdefghijklmnopqrst"}catch{return!1}}()?Object.assign:function(u,c){for(var f,p,m=function(P){if(P==null)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(P)}(u),_=1;_<arguments.length;_++){for(var v in f=Object(arguments[_]))s.call(f,v)&&(m[v]=f[v]);if(o){p=o(f);for(var I=0;I<p.length;I++)l.call(f,p[I])&&(m[p[I]]=f[p[I]])}}return m}},function(n,r,i){var o=i(6);function s(){}n.exports=function(){function l(f,p,m,_,v,I){if(I!==o){var P=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw P.name="Invariant Violation",P}}function u(){return l}l.isRequired=l;var c={array:l,bool:l,func:l,number:l,object:l,string:l,symbol:l,any:l,arrayOf:u,element:l,instanceOf:u,node:l,objectOf:u,oneOf:u,oneOfType:u,shape:u,exact:u};return c.checkPropTypes=s,c.PropTypes=c,c}},function(n,r,i){n.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=function(){function m(_,v){for(var I=0;I<v.length;I++){var P=v[I];P.enumerable=P.enumerable||!1,P.configurable=!0,"value"in P&&(P.writable=!0),Object.defineProperty(_,P.key,P)}}return function(_,v,I){return v&&m(_.prototype,v),I&&m(_,I),_}}(),s=i(0),l=c(s),u=c(i(1));function c(m){return m&&m.__esModule?m:{default:m}}var f=function(m){function _(v){(function(P,w){if(!(P instanceof w))throw new TypeError("Cannot call a class as a function")})(this,_);var I=function(P,w){if(!P)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!w||typeof w!="object"&&typeof w!="function"?P:w}(this,(_.__proto__||Object.getPrototypeOf(_)).call(this,v));return I.state={display:!0},I.animateCursor=I.animateCursor.bind(I),I}return function(v,I){if(typeof I!="function"&&I!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof I);v.prototype=Object.create(I&&I.prototype,{constructor:{value:v,enumerable:!1,writable:!0,configurable:!0}}),I&&(Object.setPrototypeOf?Object.setPrototypeOf(v,I):v.__proto__=I)}(_,s.Component),o(_,[{key:"componentDidMount",value:function(){this.animateCursor()}},{key:"componentWillUnmount",value:function(){this._interval&&clearInterval(this._interval)}},{key:"animateCursor",value:function(){var v=this;this._interval=setInterval(function(){v.setState({display:!v.state.display})},500)}},{key:"render",value:function(){var v=this.props,I=v.className,P=v.cursor,w=v.cursorRenderer,E=this.state.display,x=P||"|";return l.default.createElement("span",{className:I,style:p(E)},w?w(x):x)}}]),_}();r.default=f;var p=function(){return{display:"inline-block",MsTransition:"opacity 0.5s",WebkitTransition:"opacity 0.5s",MozTransition:"opacity 0.5s",transition:"opacity 0.5s",opacity:!(arguments.length>0&&arguments[0]!==void 0)||arguments[0]?1:0}};f.propTypes={cursor:u.default.string,className:u.default.string,cursorRenderer:u.default.func}}])})})(Iv);var pT=Iv.exports;const xv=rh(pT),mT=()=>O.jsxs("header",{className:"text-center mb-10 px-4 py-10 sm:py-20 relative",children:[O.jsxs("h1",{className:"text-4xl sm:text-5xl md:text-6xl font-extrabold text-transparent bg-clip-text bg-gradient-to-r from-pink-500 via-purple-500 to-blue-500 mb-6 animate-bounce drop-shadow-xl relative",children:["Happy Birthday, Julian Ndungu!",O.jsx("span",{className:"animate-spin inline-block",children:""}),O.jsx("span",{className:"absolute inset-0 animate-ping opacity-50 pointer-events-none",children:O.jsx("div",{className:"absolute left-0 top-0 bg-gradient-to-r from-pink-500 via-purple-500 to-blue-500 opacity-75 w-full h-full rounded-full"})}),O.jsx("div",{className:"confetti absolute inset-0 pointer-events-none",children:[...Array(15)].map((t,e)=>{const n=Math.random()*8+10;return O.jsx("div",{className:"absolute animate-confetti bg-yellow-400 rounded-full",style:{width:`${n}px`,height:`${n}px`,top:`${Math.random()*100}vh`,left:`${Math.random()*100}vw`,opacity:Math.random()*.5+.5,transform:`rotate(${Math.random()*360}deg)`,animationDuration:`${4+Math.random()*3}s`,animationDelay:`${Math.random()*4}s`}},e)})})]}),O.jsx("p",{className:"text-lg sm:text-xl text-gray-700 relative font-medium",children:O.jsx(xv,{text:["Celebrate Julian's special day with a gift or message!","Join us in making this day unforgettable!"],speed:80,eraseSpeed:50,typingDelay:500})}),O.jsx("div",{className:"parallax-background absolute inset-0 bg-gradient-to-b from-blue-300 to-blue-50 opacity-30 blur-sm z-[-1]"})]}),gT=()=>O.jsx("div",{className:"confetti-background absolute inset-0 -z-10 overflow-hidden pointer-events-none",children:[...Array(80)].map((t,e)=>{const n=Math.random()*12+8,r=["rounded-full","rounded-lg","rounded-sm"],i=["bg-red-500","bg-yellow-400","bg-green-400","bg-blue-500","bg-pink-500","bg-purple-500","bg-teal-400","bg-orange-500"],o=["float","spin-slow","drift","sway"],s=Math.random()*6+4,l=Math.random()*4;return O.jsx("div",{className:`${i[e%i.length]} ${r[e%r.length]} absolute`,style:{width:`${n}px`,height:`${n}px`,top:`${Math.random()*100}vh`,left:`${Math.random()*100}vw`,opacity:Math.random()*.7+.3,transform:`rotate(${Math.random()*360}deg)`,animationDuration:`${s}s`,animationDelay:`${l}s`,animationTimingFunction:"ease-in-out",animationName:o[e%o.length]}},e)})}),yT=()=>O.jsx("div",{className:"festive-elements flex flex-wrap justify-center gap-6 mt-12 animate-fade-in z-10 relative",children:[{color:"bg-red-200",size:20,shape:"rounded-full",animation:"bounce"},{color:"bg-yellow-200",size:24,shape:"rounded-full",animation:"pulse"},{color:"bg-green-200",size:16,shape:"rounded-lg",animation:"spin-slow"},{color:"bg-purple-200",size:28,shape:"rounded-full",animation:"bounce"},{color:"bg-pink-200",size:18,shape:"rounded-lg",animation:"pulse"},{color:"bg-blue-200",size:22,shape:"rounded-full",animation:"spin-slow"},{color:"bg-teal-200",size:30,shape:"rounded-full",animation:"sway"},{color:"bg-orange-200",size:25,shape:"rounded-lg",animation:"float"}].map((t,e)=>{const n=t.size+Math.random()*6,r=`${Math.random()*90}vh`,i=`${Math.random()*90}vw`;return O.jsx("div",{className:`${t.color} ${t.shape} shadow-md transform transition-all duration-500 hover:scale-110`,style:{width:`${n}px`,height:`${n}px`,opacity:.9+Math.random()*.2,top:r,left:i,animation:`${t.animation} ${Math.random()*4+6}s ease-in-out infinite`,transform:`rotate(${Math.random()*360}deg)`}},e)})}),vT=()=>O.jsxs("header",{className:"relative text-center mt-16 mb-12 animate-fade-in z-10 px-6 sm:px-12 lg:px-24",children:[O.jsx("h1",{className:"text-4xl sm:text-5xl md:text-6xl font-extrabold text-red-600 drop-shadow-2xl tracking-wide leading-tight mb-4 animate__animated animate__fadeIn",children:"Welcome to the Celebration!"}),O.jsx("p",{className:"text-lg sm:text-xl mt-6 text-gray-800 max-w-2xl mx-auto px-4 md:px-0 leading-relaxed",children:O.jsx(xv,{text:["Join us in celebrating our little one's first birthday!"],speed:100,eraseSpeed:50,typingDelay:500})}),O.jsx("div",{className:"mt-8 animate-bounce",children:O.jsx("span",{className:"text-5xl sm:text-6xl text-yellow-500",children:""})}),O.jsx("div",{className:"mt-10",children:O.jsx("a",{href:"#invite",className:"inline-block px-8 py-3 bg-yellow-500 text-white font-semibold rounded-xl shadow-md hover:scale-105 transition-transform duration-200 ease-in-out focus:outline-none focus:ring-4 focus:ring-yellow-400 focus:ring-opacity-60",children:"Join the Fun!"})})]}),Qp=({imgSrc:t,altText:e,linkTo:n,buttonText:r})=>O.jsxs(Sv,{to:n,className:"block group relative overflow-hidden rounded-xl shadow-xl transform transition-transform duration-500 ease-in-out hover:scale-105 hover:shadow-2xl focus:outline-none","aria-label":`Click to view ${r}`,children:[O.jsx("img",{src:t,alt:e,className:"w-full h-auto object-cover object-center transition-all duration-500 ease-in-out group-hover:scale-110 group-hover:opacity-90",loading:"lazy",sizes:"(max-width: 640px) 100vw, (max-width: 1024px) 50vw, 33vw"}),O.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black via-transparent to-transparent opacity-40 group-hover:opacity-60 transition-opacity duration-300 ease-in-out"}),O.jsx("div",{className:"absolute inset-0 flex items-center justify-center text-white text-3xl font-semibold opacity-0 group-hover:opacity-100 transition-opacity duration-300 ease-in-out",children:O.jsx("span",{className:"text-center",children:r})})]}),_T=()=>O.jsxs("section",{className:"my-8 animate-fade-in w-full max-w-4xl mx-auto px-4 md:px-8",children:[O.jsx(Qp,{imgSrc:"/julian/assets/IMG_20240901_140625_728.jpg",altText:"A cherished moment during the birthday celebration, capturing laughter and joy of the event.",linkTo:"/WishesPage",buttonText:"Click to Leave a Wish"}),O.jsx(Qp,{imgSrc:"/julian/assets/julian1.jpg",altText:"Another special moment captured during the birthday event, radiating joy and happiness.",linkTo:"/AnotherPage",buttonText:"View More Memories"})]}),wT=()=>{const[t,e]=q.useState({days:0,hours:0,minutes:0,seconds:0}),n=()=>{const r=new Date,o=(7-r.getDay()+7)%7,s=new Date(r);return s.setDate(r.getDate()+o),s.setHours(0,0,0,0),s};return q.useEffect(()=>{const r=setInterval(()=>{const i=n().getTime(),o=new Date,s=new Date(o.toLocaleString("en-US",{timeZone:"Africa/Nairobi"})),l=i-s.getTime();if(l<=0)clearInterval(r);else{const u=Math.floor(l/864e5),c=Math.floor(l%(1e3*60*60*24)/(1e3*60*60)),f=Math.floor(l%(1e3*60*60)/(1e3*60)),p=Math.floor(l%(1e3*60)/1e3);e({days:u,hours:c,minutes:f,seconds:p})}},1e3);return()=>clearInterval(r)},[]),O.jsx("div",{className:"flex justify-center items-center bg-gradient-to-r from-yellow-400 via-yellow-500 to-orange-600 p-8 rounded-3xl shadow-xl w-full max-w-xl mx-auto animate-pulse",children:O.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 md:gap-10 text-center text-white",children:[O.jsxs("div",{className:"space-y-2",children:[O.jsx("div",{className:"text-5xl sm:text-7xl font-extrabold text-yellow-200 animate-pulse",children:t.days}),O.jsx("div",{className:"text-sm sm:text-xl font-semibold text-yellow-100",children:"Days"})]}),O.jsxs("div",{className:"space-y-2",children:[O.jsx("div",{className:"text-5xl sm:text-7xl font-extrabold text-yellow-200 animate-pulse",children:t.hours}),O.jsx("div",{className:"text-sm sm:text-xl font-semibold text-yellow-100",children:"Hours"})]}),O.jsxs("div",{className:"space-y-2",children:[O.jsx("div",{className:"text-5xl sm:text-7xl font-extrabold text-yellow-200 animate-pulse",children:t.minutes}),O.jsx("div",{className:"text-sm sm:text-xl font-semibold text-yellow-100",children:"Minutes"})]}),O.jsxs("div",{className:"space-y-2",children:[O.jsx("div",{className:"text-5xl sm:text-7xl font-extrabold text-yellow-200 animate-pulse",children:t.seconds}),O.jsx("div",{className:"text-sm sm:text-xl font-semibold text-yellow-100",children:"Seconds"})]})]})})},ET=()=>O.jsx("section",{className:"fixed top-4 w-full flex flex-wrap justify-center gap-8 animate-fade-in z-20 px-6 py-6",children:[{to:"/WishesPage",label:"Message Wall",from:"from-yellow-400",toColor:"to-yellow-500",icon:""},{to:"/GiftRegistryPage",label:"Gift Registry",from:"from-purple-400",toColor:"to-purple-500",icon:""},{to:"/BirthdayGames",label:"Birthday Games",from:"from-pink-400",toColor:"to-pink-500",icon:""},{to:"/TicketPurchasePage",label:"Buy Entry Ticket",from:"from-blue-400",toColor:"to-blue-500",icon:""}].map((t,e)=>O.jsx(Sv,{to:t.to,"aria-label":`Go to ${t.label}`,className:"group w-full sm:w-auto",children:O.jsx("button",{"aria-label":t.label,className:`bg-gradient-to-r ${t.from} ${t.toColor} text-white font-bold px-8 py-4 rounded-xl shadow-lg transform transition-transform duration-300 ease-in-out hover:scale-110 hover:shadow-2xl hover:rotate-2 focus:outline-none focus:ring-4 focus:ring-${t.toColor} focus:ring-opacity-60 w-full sm:w-auto`,children:O.jsxs("span",{className:"group-hover:text-white text-sm sm:text-lg md:text-xl flex items-center gap-3",children:[O.jsx("span",{className:"text-2xl",children:t.icon})," ",O.jsx("span",{className:"truncate",children:t.label})," "]})})},e))});var Av={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},Kp=zn.createContext&&zn.createContext(Av),TT=["attr","size","title"];function ST(t,e){if(t==null)return{};var n=IT(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function IT(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function Ya(){return Ya=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ya.apply(this,arguments)}function Yp(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Xa(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Yp(Object(n),!0).forEach(function(r){xT(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Yp(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function xT(t,e,n){return e=AT(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function AT(t){var e=CT(t,"string");return typeof e=="symbol"?e:e+""}function CT(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Cv(t){return t&&t.map((e,n)=>zn.createElement(e.tag,Xa({key:n},e.attr),Cv(e.child)))}function Pv(t){return e=>zn.createElement(PT,Ya({attr:Xa({},t.attr)},e),Cv(t.child))}function PT(t){var e=n=>{var{attr:r,size:i,title:o}=t,s=ST(t,TT),l=i||n.size||"1em",u;return n.className&&(u=n.className),t.className&&(u=(u?u+" ":"")+t.className),zn.createElement("svg",Ya({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},n.attr,r,s,{className:u,style:Xa(Xa({color:t.color||n.color},n.style),t.style),height:l,width:l,xmlns:"http://www.w3.org/2000/svg"}),o&&zn.createElement("title",null,o),t.children)};return Kp!==void 0?zn.createElement(Kp.Consumer,null,n=>e(n)):e(Av)}function RT(t){return Pv({tag:"svg",attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M172.268 501.67C26.97 291.031 0 269.413 0 192 0 85.961 85.961 0 192 0s192 85.961 192 192c0 77.413-26.97 99.031-172.268 309.67-9.535 13.774-29.93 13.773-39.464 0zM192 272c44.183 0 80-35.817 80-80s-35.817-80-80-80-80 35.817-80 80 35.817 80 80 80z"},child:[]}]})(t)}function kT(t){return Pv({tag:"svg",attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M128 160h320v192H128V160zm400 96c0 26.51 21.49 48 48 48v96c0 26.51-21.49 48-48 48H48c-26.51 0-48-21.49-48-48v-96c26.51 0 48-21.49 48-48s-21.49-48-48-48v-96c0-26.51 21.49-48 48-48h480c26.51 0 48 21.49 48 48v96c-26.51 0-48 21.49-48 48zm-48-104c0-13.255-10.745-24-24-24H120c-13.255 0-24 10.745-24 24v208c0 13.255 10.745 24 24 24h336c13.255 0 24-10.745 24-24V152z"},child:[]}]})(t)}const NT=()=>O.jsxs("section",{className:"location-section bg-gradient-to-r from-yellow-300 via-yellow-400 to-yellow-500 text-white text-center p-10 rounded-3xl shadow-xl my-6 max-w-4xl transform transition-all hover:scale-105 duration-500 ease-in-out",children:[O.jsxs("h2",{className:"text-4xl font-extrabold mb-4 flex justify-center items-center gap-4 text-yellow-100",children:[O.jsx(RT,{className:"text-5xl text-yellow-200 transition-transform duration-300 ease-in-out hover:text-yellow-300"}),"Event Location"]}),O.jsx("p",{className:"text-xl mt-2 font-semibold text-yellow-200",children:"Click below for directions."}),O.jsxs("div",{className:"mt-6 space-y-4",children:[O.jsx("p",{className:"text-lg text-yellow-100 italic",children:"This prime location is perfect for our event. Join us!"}),O.jsx("a",{href:"https://www.google.com/maps?q=-0.3948432,37.1330555",target:"_blank",rel:"noopener noreferrer",className:"mt-4 inline-block px-8 py-4 bg-gradient-to-r from-yellow-400 to-yellow-600 text-lg font-semibold rounded-lg shadow-xl hover:scale-110 duration-300 ease-in-out",children:"Get Directions"})]})]});var Xp={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rv=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},VT=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const o=t[n++];e[r++]=String.fromCharCode((i&31)<<6|o&63)}else if(i>239&&i<365){const o=t[n++],s=t[n++],l=t[n++],u=((i&7)<<18|(o&63)<<12|(s&63)<<6|l&63)-65536;e[r++]=String.fromCharCode(55296+(u>>10)),e[r++]=String.fromCharCode(56320+(u&1023))}else{const o=t[n++],s=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(o&63)<<6|s&63)}}return e.join("")},kv={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const o=t[i],s=i+1<t.length,l=s?t[i+1]:0,u=i+2<t.length,c=u?t[i+2]:0,f=o>>2,p=(o&3)<<4|l>>4;let m=(l&15)<<2|c>>6,_=c&63;u||(_=64,s||(m=64)),r.push(n[f],n[p],n[m],n[_])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(Rv(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):VT(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const o=n[t.charAt(i++)],l=i<t.length?n[t.charAt(i)]:0;++i;const c=i<t.length?n[t.charAt(i)]:64;++i;const p=i<t.length?n[t.charAt(i)]:64;if(++i,o==null||l==null||c==null||p==null)throw new DT;const m=o<<2|l>>4;if(r.push(m),c!==64){const _=l<<4&240|c>>2;if(r.push(_),p!==64){const v=c<<6&192|p;r.push(v)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class DT extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const OT=function(t){const e=Rv(t);return kv.encodeByteArray(e,!0)},Ja=function(t){return OT(t).replace(/\./g,"")},bT=function(t){try{return kv.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MT(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LT=()=>MT().__FIREBASE_DEFAULTS__,jT=()=>{if(typeof process>"u"||typeof Xp>"u")return;const t=Xp.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},FT=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&bT(t[1]);return e&&JSON.parse(e)},ef=()=>{try{return LT()||jT()||FT()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},UT=t=>{var e,n;return(n=(e=ef())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},BT=t=>{const e=UT(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},Nv=()=>{var t;return(t=ef())===null||t===void 0?void 0:t.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zT{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $T(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,o=t.sub||t.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const s=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},t);return[Ja(JSON.stringify(n)),Ja(JSON.stringify(s)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qT(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function WT(){var t;const e=(t=ef())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function HT(){return!WT()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function GT(){try{return typeof indexedDB=="object"}catch{return!1}}function QT(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var o;e(((o=i.error)===null||o===void 0?void 0:o.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KT="FirebaseError";class zi extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=KT,Object.setPrototypeOf(this,zi.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Vv.prototype.create)}}class Vv{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,o=this.errors[e],s=o?YT(o,r):"Error",l=`${this.serviceName}: ${s} (${i}).`;return new zi(i,l,r)}}function YT(t,e){return t.replace(XT,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const XT=/\{\$([^}]+)}/g;function bc(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const o=t[i],s=e[i];if(Jp(o)&&Jp(s)){if(!bc(o,s))return!1}else if(o!==s)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function Jp(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mr(t){return t&&t._delegate?t._delegate:t}class is{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tr="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JT{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new zT;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(o){if(i)return null;throw o}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(eS(e))try{this.getOrInitializeService({instanceIdentifier:Tr})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const o=this.getOrInitializeService({instanceIdentifier:i});r.resolve(o)}catch{}}}}clearInstance(e=Tr){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Tr){return this.instances.has(e)}getOptions(e=Tr){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[o,s]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(o);r===l&&s.resolve(i)}return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),o=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;o.add(e),this.onInitCallbacks.set(i,o);const s=this.instances.get(i);return s&&e(s,i),()=>{o.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:ZT(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Tr){return this.component?this.component.multipleInstances?e:Tr:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function ZT(t){return t===Tr?void 0:t}function eS(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tS{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new JT(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var fe;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(fe||(fe={}));const nS={debug:fe.DEBUG,verbose:fe.VERBOSE,info:fe.INFO,warn:fe.WARN,error:fe.ERROR,silent:fe.SILENT},rS=fe.INFO,iS={[fe.DEBUG]:"log",[fe.VERBOSE]:"log",[fe.INFO]:"info",[fe.WARN]:"warn",[fe.ERROR]:"error"},oS=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=iS[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Dv{constructor(e){this.name=e,this._logLevel=rS,this._logHandler=oS,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in fe))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?nS[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,fe.DEBUG,...e),this._logHandler(this,fe.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,fe.VERBOSE,...e),this._logHandler(this,fe.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,fe.INFO,...e),this._logHandler(this,fe.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,fe.WARN,...e),this._logHandler(this,fe.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,fe.ERROR,...e),this._logHandler(this,fe.ERROR,...e)}}const sS=(t,e)=>e.some(n=>t instanceof n);let Zp,em;function aS(){return Zp||(Zp=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function lS(){return em||(em=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Ov=new WeakMap,Mc=new WeakMap,bv=new WeakMap,Vu=new WeakMap,tf=new WeakMap;function uS(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",o),t.removeEventListener("error",s)},o=()=>{n(Jn(t.result)),i()},s=()=>{r(t.error),i()};t.addEventListener("success",o),t.addEventListener("error",s)});return e.then(n=>{n instanceof IDBCursor&&Ov.set(n,t)}).catch(()=>{}),tf.set(e,t),e}function cS(t){if(Mc.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",o),t.removeEventListener("error",s),t.removeEventListener("abort",s)},o=()=>{n(),i()},s=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",o),t.addEventListener("error",s),t.addEventListener("abort",s)});Mc.set(t,e)}let Lc={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Mc.get(t);if(e==="objectStoreNames")return t.objectStoreNames||bv.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Jn(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function hS(t){Lc=t(Lc)}function fS(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(Du(this),e,...n);return bv.set(r,e.sort?e.sort():[e]),Jn(r)}:lS().includes(t)?function(...e){return t.apply(Du(this),e),Jn(Ov.get(this))}:function(...e){return Jn(t.apply(Du(this),e))}}function dS(t){return typeof t=="function"?fS(t):(t instanceof IDBTransaction&&cS(t),sS(t,aS())?new Proxy(t,Lc):t)}function Jn(t){if(t instanceof IDBRequest)return uS(t);if(Vu.has(t))return Vu.get(t);const e=dS(t);return e!==t&&(Vu.set(t,e),tf.set(e,t)),e}const Du=t=>tf.get(t);function pS(t,e,{blocked:n,upgrade:r,blocking:i,terminated:o}={}){const s=indexedDB.open(t,e),l=Jn(s);return r&&s.addEventListener("upgradeneeded",u=>{r(Jn(s.result),u.oldVersion,u.newVersion,Jn(s.transaction),u)}),n&&s.addEventListener("blocked",u=>n(u.oldVersion,u.newVersion,u)),l.then(u=>{o&&u.addEventListener("close",()=>o()),i&&u.addEventListener("versionchange",c=>i(c.oldVersion,c.newVersion,c))}).catch(()=>{}),l}const mS=["get","getKey","getAll","getAllKeys","count"],gS=["put","add","delete","clear"],Ou=new Map;function tm(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Ou.get(e))return Ou.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=gS.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||mS.includes(n)))return;const o=async function(s,...l){const u=this.transaction(s,i?"readwrite":"readonly");let c=u.store;return r&&(c=c.index(l.shift())),(await Promise.all([c[n](...l),i&&u.done]))[0]};return Ou.set(e,o),o}hS(t=>({...t,get:(e,n,r)=>tm(e,n)||t.get(e,n,r),has:(e,n)=>!!tm(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yS{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(vS(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function vS(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const jc="@firebase/app",nm="0.10.15";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const In=new Dv("@firebase/app"),_S="@firebase/app-compat",wS="@firebase/analytics-compat",ES="@firebase/analytics",TS="@firebase/app-check-compat",SS="@firebase/app-check",IS="@firebase/auth",xS="@firebase/auth-compat",AS="@firebase/database",CS="@firebase/data-connect",PS="@firebase/database-compat",RS="@firebase/functions",kS="@firebase/functions-compat",NS="@firebase/installations",VS="@firebase/installations-compat",DS="@firebase/messaging",OS="@firebase/messaging-compat",bS="@firebase/performance",MS="@firebase/performance-compat",LS="@firebase/remote-config",jS="@firebase/remote-config-compat",FS="@firebase/storage",US="@firebase/storage-compat",BS="@firebase/firestore",zS="@firebase/vertexai",$S="@firebase/firestore-compat",qS="firebase",WS="11.0.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fc="[DEFAULT]",HS={[jc]:"fire-core",[_S]:"fire-core-compat",[ES]:"fire-analytics",[wS]:"fire-analytics-compat",[SS]:"fire-app-check",[TS]:"fire-app-check-compat",[IS]:"fire-auth",[xS]:"fire-auth-compat",[AS]:"fire-rtdb",[CS]:"fire-data-connect",[PS]:"fire-rtdb-compat",[RS]:"fire-fn",[kS]:"fire-fn-compat",[NS]:"fire-iid",[VS]:"fire-iid-compat",[DS]:"fire-fcm",[OS]:"fire-fcm-compat",[bS]:"fire-perf",[MS]:"fire-perf-compat",[LS]:"fire-rc",[jS]:"fire-rc-compat",[FS]:"fire-gcs",[US]:"fire-gcs-compat",[BS]:"fire-fst",[$S]:"fire-fst-compat",[zS]:"fire-vertex","fire-js":"fire-js",[qS]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Za=new Map,GS=new Map,Uc=new Map;function rm(t,e){try{t.container.addComponent(e)}catch(n){In.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function el(t){const e=t.name;if(Uc.has(e))return In.debug(`There were multiple attempts to register component ${e}.`),!1;Uc.set(e,t);for(const n of Za.values())rm(n,t);for(const n of GS.values())rm(n,t);return!0}function QS(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KS={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Zn=new Vv("app","Firebase",KS);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YS{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new is("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Zn.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XS=WS;function Mv(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:Fc,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw Zn.create("bad-app-name",{appName:String(i)});if(n||(n=Nv()),!n)throw Zn.create("no-options");const o=Za.get(i);if(o){if(bc(n,o.options)&&bc(r,o.config))return o;throw Zn.create("duplicate-app",{appName:i})}const s=new tS(i);for(const u of Uc.values())s.addComponent(u);const l=new YS(n,r,s);return Za.set(i,l),l}function JS(t=Fc){const e=Za.get(t);if(!e&&t===Fc&&Nv())return Mv();if(!e)throw Zn.create("no-app",{appName:t});return e}function Ti(t,e,n){var r;let i=(r=HS[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);const o=i.match(/\s|\//),s=e.match(/\s|\//);if(o||s){const l=[`Unable to register library "${i}" with version "${e}":`];o&&l.push(`library name "${i}" contains illegal characters (whitespace or "/")`),o&&s&&l.push("and"),s&&l.push(`version name "${e}" contains illegal characters (whitespace or "/")`),In.warn(l.join(" "));return}el(new is(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZS="firebase-heartbeat-database",eI=1,os="firebase-heartbeat-store";let bu=null;function Lv(){return bu||(bu=pS(ZS,eI,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(os)}catch(n){console.warn(n)}}}}).catch(t=>{throw Zn.create("idb-open",{originalErrorMessage:t.message})})),bu}async function tI(t){try{const n=(await Lv()).transaction(os),r=await n.objectStore(os).get(jv(t));return await n.done,r}catch(e){if(e instanceof zi)In.warn(e.message);else{const n=Zn.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});In.warn(n.message)}}}async function im(t,e){try{const r=(await Lv()).transaction(os,"readwrite");await r.objectStore(os).put(e,jv(t)),await r.done}catch(n){if(n instanceof zi)In.warn(n.message);else{const r=Zn.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});In.warn(r.message)}}}function jv(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nI=1024,rI=30*24*60*60*1e3;class iI{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new sI(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=om();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(s=>s.date===o)?void 0:(this._heartbeatsCache.heartbeats.push({date:o,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(s=>{const l=new Date(s.date).valueOf();return Date.now()-l<=rI}),this._storage.overwrite(this._heartbeatsCache))}catch(r){In.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=om(),{heartbeatsToSend:r,unsentEntries:i}=oI(this._heartbeatsCache.heartbeats),o=Ja(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(n){return In.warn(n),""}}}function om(){return new Date().toISOString().substring(0,10)}function oI(t,e=nI){const n=[];let r=t.slice();for(const i of t){const o=n.find(s=>s.agent===i.agent);if(o){if(o.dates.push(i.date),sm(n)>e){o.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),sm(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class sI{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return GT()?QT().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await tI(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return im(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return im(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function sm(t){return Ja(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aI(t){el(new is("platform-logger",e=>new yS(e),"PRIVATE")),el(new is("heartbeat",e=>new iI(e),"PRIVATE")),Ti(jc,nm,t),Ti(jc,nm,"esm2017"),Ti("fire-js","")}aI("");var lI="firebase",uI="11.0.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Ti(lI,uI,"app");var am=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Rr,Fv;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(S,y){function T(){}T.prototype=y.prototype,S.D=y.prototype,S.prototype=new T,S.prototype.constructor=S,S.C=function(A,R,N){for(var C=Array(arguments.length-2),ze=2;ze<arguments.length;ze++)C[ze-2]=arguments[ze];return y.prototype[R].apply(A,C)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(S,y,T){T||(T=0);var A=Array(16);if(typeof y=="string")for(var R=0;16>R;++R)A[R]=y.charCodeAt(T++)|y.charCodeAt(T++)<<8|y.charCodeAt(T++)<<16|y.charCodeAt(T++)<<24;else for(R=0;16>R;++R)A[R]=y[T++]|y[T++]<<8|y[T++]<<16|y[T++]<<24;y=S.g[0],T=S.g[1],R=S.g[2];var N=S.g[3],C=y+(N^T&(R^N))+A[0]+3614090360&4294967295;y=T+(C<<7&4294967295|C>>>25),C=N+(R^y&(T^R))+A[1]+3905402710&4294967295,N=y+(C<<12&4294967295|C>>>20),C=R+(T^N&(y^T))+A[2]+606105819&4294967295,R=N+(C<<17&4294967295|C>>>15),C=T+(y^R&(N^y))+A[3]+3250441966&4294967295,T=R+(C<<22&4294967295|C>>>10),C=y+(N^T&(R^N))+A[4]+4118548399&4294967295,y=T+(C<<7&4294967295|C>>>25),C=N+(R^y&(T^R))+A[5]+1200080426&4294967295,N=y+(C<<12&4294967295|C>>>20),C=R+(T^N&(y^T))+A[6]+2821735955&4294967295,R=N+(C<<17&4294967295|C>>>15),C=T+(y^R&(N^y))+A[7]+4249261313&4294967295,T=R+(C<<22&4294967295|C>>>10),C=y+(N^T&(R^N))+A[8]+1770035416&4294967295,y=T+(C<<7&4294967295|C>>>25),C=N+(R^y&(T^R))+A[9]+2336552879&4294967295,N=y+(C<<12&4294967295|C>>>20),C=R+(T^N&(y^T))+A[10]+4294925233&4294967295,R=N+(C<<17&4294967295|C>>>15),C=T+(y^R&(N^y))+A[11]+2304563134&4294967295,T=R+(C<<22&4294967295|C>>>10),C=y+(N^T&(R^N))+A[12]+1804603682&4294967295,y=T+(C<<7&4294967295|C>>>25),C=N+(R^y&(T^R))+A[13]+4254626195&4294967295,N=y+(C<<12&4294967295|C>>>20),C=R+(T^N&(y^T))+A[14]+2792965006&4294967295,R=N+(C<<17&4294967295|C>>>15),C=T+(y^R&(N^y))+A[15]+1236535329&4294967295,T=R+(C<<22&4294967295|C>>>10),C=y+(R^N&(T^R))+A[1]+4129170786&4294967295,y=T+(C<<5&4294967295|C>>>27),C=N+(T^R&(y^T))+A[6]+3225465664&4294967295,N=y+(C<<9&4294967295|C>>>23),C=R+(y^T&(N^y))+A[11]+643717713&4294967295,R=N+(C<<14&4294967295|C>>>18),C=T+(N^y&(R^N))+A[0]+3921069994&4294967295,T=R+(C<<20&4294967295|C>>>12),C=y+(R^N&(T^R))+A[5]+3593408605&4294967295,y=T+(C<<5&4294967295|C>>>27),C=N+(T^R&(y^T))+A[10]+38016083&4294967295,N=y+(C<<9&4294967295|C>>>23),C=R+(y^T&(N^y))+A[15]+3634488961&4294967295,R=N+(C<<14&4294967295|C>>>18),C=T+(N^y&(R^N))+A[4]+3889429448&4294967295,T=R+(C<<20&4294967295|C>>>12),C=y+(R^N&(T^R))+A[9]+568446438&4294967295,y=T+(C<<5&4294967295|C>>>27),C=N+(T^R&(y^T))+A[14]+3275163606&4294967295,N=y+(C<<9&4294967295|C>>>23),C=R+(y^T&(N^y))+A[3]+4107603335&4294967295,R=N+(C<<14&4294967295|C>>>18),C=T+(N^y&(R^N))+A[8]+1163531501&4294967295,T=R+(C<<20&4294967295|C>>>12),C=y+(R^N&(T^R))+A[13]+2850285829&4294967295,y=T+(C<<5&4294967295|C>>>27),C=N+(T^R&(y^T))+A[2]+4243563512&4294967295,N=y+(C<<9&4294967295|C>>>23),C=R+(y^T&(N^y))+A[7]+1735328473&4294967295,R=N+(C<<14&4294967295|C>>>18),C=T+(N^y&(R^N))+A[12]+2368359562&4294967295,T=R+(C<<20&4294967295|C>>>12),C=y+(T^R^N)+A[5]+4294588738&4294967295,y=T+(C<<4&4294967295|C>>>28),C=N+(y^T^R)+A[8]+2272392833&4294967295,N=y+(C<<11&4294967295|C>>>21),C=R+(N^y^T)+A[11]+1839030562&4294967295,R=N+(C<<16&4294967295|C>>>16),C=T+(R^N^y)+A[14]+4259657740&4294967295,T=R+(C<<23&4294967295|C>>>9),C=y+(T^R^N)+A[1]+2763975236&4294967295,y=T+(C<<4&4294967295|C>>>28),C=N+(y^T^R)+A[4]+1272893353&4294967295,N=y+(C<<11&4294967295|C>>>21),C=R+(N^y^T)+A[7]+4139469664&4294967295,R=N+(C<<16&4294967295|C>>>16),C=T+(R^N^y)+A[10]+3200236656&4294967295,T=R+(C<<23&4294967295|C>>>9),C=y+(T^R^N)+A[13]+681279174&4294967295,y=T+(C<<4&4294967295|C>>>28),C=N+(y^T^R)+A[0]+3936430074&4294967295,N=y+(C<<11&4294967295|C>>>21),C=R+(N^y^T)+A[3]+3572445317&4294967295,R=N+(C<<16&4294967295|C>>>16),C=T+(R^N^y)+A[6]+76029189&4294967295,T=R+(C<<23&4294967295|C>>>9),C=y+(T^R^N)+A[9]+3654602809&4294967295,y=T+(C<<4&4294967295|C>>>28),C=N+(y^T^R)+A[12]+3873151461&4294967295,N=y+(C<<11&4294967295|C>>>21),C=R+(N^y^T)+A[15]+530742520&4294967295,R=N+(C<<16&4294967295|C>>>16),C=T+(R^N^y)+A[2]+3299628645&4294967295,T=R+(C<<23&4294967295|C>>>9),C=y+(R^(T|~N))+A[0]+4096336452&4294967295,y=T+(C<<6&4294967295|C>>>26),C=N+(T^(y|~R))+A[7]+1126891415&4294967295,N=y+(C<<10&4294967295|C>>>22),C=R+(y^(N|~T))+A[14]+2878612391&4294967295,R=N+(C<<15&4294967295|C>>>17),C=T+(N^(R|~y))+A[5]+4237533241&4294967295,T=R+(C<<21&4294967295|C>>>11),C=y+(R^(T|~N))+A[12]+1700485571&4294967295,y=T+(C<<6&4294967295|C>>>26),C=N+(T^(y|~R))+A[3]+2399980690&4294967295,N=y+(C<<10&4294967295|C>>>22),C=R+(y^(N|~T))+A[10]+4293915773&4294967295,R=N+(C<<15&4294967295|C>>>17),C=T+(N^(R|~y))+A[1]+2240044497&4294967295,T=R+(C<<21&4294967295|C>>>11),C=y+(R^(T|~N))+A[8]+1873313359&4294967295,y=T+(C<<6&4294967295|C>>>26),C=N+(T^(y|~R))+A[15]+4264355552&4294967295,N=y+(C<<10&4294967295|C>>>22),C=R+(y^(N|~T))+A[6]+2734768916&4294967295,R=N+(C<<15&4294967295|C>>>17),C=T+(N^(R|~y))+A[13]+1309151649&4294967295,T=R+(C<<21&4294967295|C>>>11),C=y+(R^(T|~N))+A[4]+4149444226&4294967295,y=T+(C<<6&4294967295|C>>>26),C=N+(T^(y|~R))+A[11]+3174756917&4294967295,N=y+(C<<10&4294967295|C>>>22),C=R+(y^(N|~T))+A[2]+718787259&4294967295,R=N+(C<<15&4294967295|C>>>17),C=T+(N^(R|~y))+A[9]+3951481745&4294967295,S.g[0]=S.g[0]+y&4294967295,S.g[1]=S.g[1]+(R+(C<<21&4294967295|C>>>11))&4294967295,S.g[2]=S.g[2]+R&4294967295,S.g[3]=S.g[3]+N&4294967295}r.prototype.u=function(S,y){y===void 0&&(y=S.length);for(var T=y-this.blockSize,A=this.B,R=this.h,N=0;N<y;){if(R==0)for(;N<=T;)i(this,S,N),N+=this.blockSize;if(typeof S=="string"){for(;N<y;)if(A[R++]=S.charCodeAt(N++),R==this.blockSize){i(this,A),R=0;break}}else for(;N<y;)if(A[R++]=S[N++],R==this.blockSize){i(this,A),R=0;break}}this.h=R,this.o+=y},r.prototype.v=function(){var S=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);S[0]=128;for(var y=1;y<S.length-8;++y)S[y]=0;var T=8*this.o;for(y=S.length-8;y<S.length;++y)S[y]=T&255,T/=256;for(this.u(S),S=Array(16),y=T=0;4>y;++y)for(var A=0;32>A;A+=8)S[T++]=this.g[y]>>>A&255;return S};function o(S,y){var T=l;return Object.prototype.hasOwnProperty.call(T,S)?T[S]:T[S]=y(S)}function s(S,y){this.h=y;for(var T=[],A=!0,R=S.length-1;0<=R;R--){var N=S[R]|0;A&&N==y||(T[R]=N,A=!1)}this.g=T}var l={};function u(S){return-128<=S&&128>S?o(S,function(y){return new s([y|0],0>y?-1:0)}):new s([S|0],0>S?-1:0)}function c(S){if(isNaN(S)||!isFinite(S))return p;if(0>S)return P(c(-S));for(var y=[],T=1,A=0;S>=T;A++)y[A]=S/T|0,T*=4294967296;return new s(y,0)}function f(S,y){if(S.length==0)throw Error("number format error: empty string");if(y=y||10,2>y||36<y)throw Error("radix out of range: "+y);if(S.charAt(0)=="-")return P(f(S.substring(1),y));if(0<=S.indexOf("-"))throw Error('number format error: interior "-" character');for(var T=c(Math.pow(y,8)),A=p,R=0;R<S.length;R+=8){var N=Math.min(8,S.length-R),C=parseInt(S.substring(R,R+N),y);8>N?(N=c(Math.pow(y,N)),A=A.j(N).add(c(C))):(A=A.j(T),A=A.add(c(C)))}return A}var p=u(0),m=u(1),_=u(16777216);t=s.prototype,t.m=function(){if(I(this))return-P(this).m();for(var S=0,y=1,T=0;T<this.g.length;T++){var A=this.i(T);S+=(0<=A?A:4294967296+A)*y,y*=4294967296}return S},t.toString=function(S){if(S=S||10,2>S||36<S)throw Error("radix out of range: "+S);if(v(this))return"0";if(I(this))return"-"+P(this).toString(S);for(var y=c(Math.pow(S,6)),T=this,A="";;){var R=b(T,y).g;T=w(T,R.j(y));var N=((0<T.g.length?T.g[0]:T.h)>>>0).toString(S);if(T=R,v(T))return N+A;for(;6>N.length;)N="0"+N;A=N+A}},t.i=function(S){return 0>S?0:S<this.g.length?this.g[S]:this.h};function v(S){if(S.h!=0)return!1;for(var y=0;y<S.g.length;y++)if(S.g[y]!=0)return!1;return!0}function I(S){return S.h==-1}t.l=function(S){return S=w(this,S),I(S)?-1:v(S)?0:1};function P(S){for(var y=S.g.length,T=[],A=0;A<y;A++)T[A]=~S.g[A];return new s(T,~S.h).add(m)}t.abs=function(){return I(this)?P(this):this},t.add=function(S){for(var y=Math.max(this.g.length,S.g.length),T=[],A=0,R=0;R<=y;R++){var N=A+(this.i(R)&65535)+(S.i(R)&65535),C=(N>>>16)+(this.i(R)>>>16)+(S.i(R)>>>16);A=C>>>16,N&=65535,C&=65535,T[R]=C<<16|N}return new s(T,T[T.length-1]&-2147483648?-1:0)};function w(S,y){return S.add(P(y))}t.j=function(S){if(v(this)||v(S))return p;if(I(this))return I(S)?P(this).j(P(S)):P(P(this).j(S));if(I(S))return P(this.j(P(S)));if(0>this.l(_)&&0>S.l(_))return c(this.m()*S.m());for(var y=this.g.length+S.g.length,T=[],A=0;A<2*y;A++)T[A]=0;for(A=0;A<this.g.length;A++)for(var R=0;R<S.g.length;R++){var N=this.i(A)>>>16,C=this.i(A)&65535,ze=S.i(R)>>>16,Et=S.i(R)&65535;T[2*A+2*R]+=C*Et,E(T,2*A+2*R),T[2*A+2*R+1]+=N*Et,E(T,2*A+2*R+1),T[2*A+2*R+1]+=C*ze,E(T,2*A+2*R+1),T[2*A+2*R+2]+=N*ze,E(T,2*A+2*R+2)}for(A=0;A<y;A++)T[A]=T[2*A+1]<<16|T[2*A];for(A=y;A<2*y;A++)T[A]=0;return new s(T,0)};function E(S,y){for(;(S[y]&65535)!=S[y];)S[y+1]+=S[y]>>>16,S[y]&=65535,y++}function x(S,y){this.g=S,this.h=y}function b(S,y){if(v(y))throw Error("division by zero");if(v(S))return new x(p,p);if(I(S))return y=b(P(S),y),new x(P(y.g),P(y.h));if(I(y))return y=b(S,P(y)),new x(P(y.g),y.h);if(30<S.g.length){if(I(S)||I(y))throw Error("slowDivide_ only works with positive integers.");for(var T=m,A=y;0>=A.l(S);)T=z(T),A=z(A);var R=$(T,1),N=$(A,1);for(A=$(A,2),T=$(T,2);!v(A);){var C=N.add(A);0>=C.l(S)&&(R=R.add(T),N=C),A=$(A,1),T=$(T,1)}return y=w(S,R.j(y)),new x(R,y)}for(R=p;0<=S.l(y);){for(T=Math.max(1,Math.floor(S.m()/y.m())),A=Math.ceil(Math.log(T)/Math.LN2),A=48>=A?1:Math.pow(2,A-48),N=c(T),C=N.j(y);I(C)||0<C.l(S);)T-=A,N=c(T),C=N.j(y);v(N)&&(N=m),R=R.add(N),S=w(S,C)}return new x(R,S)}t.A=function(S){return b(this,S).h},t.and=function(S){for(var y=Math.max(this.g.length,S.g.length),T=[],A=0;A<y;A++)T[A]=this.i(A)&S.i(A);return new s(T,this.h&S.h)},t.or=function(S){for(var y=Math.max(this.g.length,S.g.length),T=[],A=0;A<y;A++)T[A]=this.i(A)|S.i(A);return new s(T,this.h|S.h)},t.xor=function(S){for(var y=Math.max(this.g.length,S.g.length),T=[],A=0;A<y;A++)T[A]=this.i(A)^S.i(A);return new s(T,this.h^S.h)};function z(S){for(var y=S.g.length+1,T=[],A=0;A<y;A++)T[A]=S.i(A)<<1|S.i(A-1)>>>31;return new s(T,S.h)}function $(S,y){var T=y>>5;y%=32;for(var A=S.g.length-T,R=[],N=0;N<A;N++)R[N]=0<y?S.i(N+T)>>>y|S.i(N+T+1)<<32-y:S.i(N+T);return new s(R,S.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,Fv=r,s.prototype.add=s.prototype.add,s.prototype.multiply=s.prototype.j,s.prototype.modulo=s.prototype.A,s.prototype.compare=s.prototype.l,s.prototype.toNumber=s.prototype.m,s.prototype.toString=s.prototype.toString,s.prototype.getBits=s.prototype.i,s.fromNumber=c,s.fromString=f,Rr=s}).apply(typeof am<"u"?am:typeof self<"u"?self:typeof window<"u"?window:{});var na=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Uv,To,Bv,va,Bc,zv,$v,qv;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(a,h,d){return a==Array.prototype||a==Object.prototype||(a[h]=d.value),a};function n(a){a=[typeof globalThis=="object"&&globalThis,a,typeof window=="object"&&window,typeof self=="object"&&self,typeof na=="object"&&na];for(var h=0;h<a.length;++h){var d=a[h];if(d&&d.Math==Math)return d}throw Error("Cannot find global object")}var r=n(this);function i(a,h){if(h)e:{var d=r;a=a.split(".");for(var g=0;g<a.length-1;g++){var V=a[g];if(!(V in d))break e;d=d[V]}a=a[a.length-1],g=d[a],h=h(g),h!=g&&h!=null&&e(d,a,{configurable:!0,writable:!0,value:h})}}function o(a,h){a instanceof String&&(a+="");var d=0,g=!1,V={next:function(){if(!g&&d<a.length){var j=d++;return{value:h(j,a[j]),done:!1}}return g=!0,{done:!0,value:void 0}}};return V[Symbol.iterator]=function(){return V},V}i("Array.prototype.values",function(a){return a||function(){return o(this,function(h,d){return d})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var s=s||{},l=this||self;function u(a){var h=typeof a;return h=h!="object"?h:a?Array.isArray(a)?"array":h:"null",h=="array"||h=="object"&&typeof a.length=="number"}function c(a){var h=typeof a;return h=="object"&&a!=null||h=="function"}function f(a,h,d){return a.call.apply(a.bind,arguments)}function p(a,h,d){if(!a)throw Error();if(2<arguments.length){var g=Array.prototype.slice.call(arguments,2);return function(){var V=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(V,g),a.apply(h,V)}}return function(){return a.apply(h,arguments)}}function m(a,h,d){return m=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?f:p,m.apply(null,arguments)}function _(a,h){var d=Array.prototype.slice.call(arguments,1);return function(){var g=d.slice();return g.push.apply(g,arguments),a.apply(this,g)}}function v(a,h){function d(){}d.prototype=h.prototype,a.aa=h.prototype,a.prototype=new d,a.prototype.constructor=a,a.Qb=function(g,V,j){for(var G=Array(arguments.length-2),Ee=2;Ee<arguments.length;Ee++)G[Ee-2]=arguments[Ee];return h.prototype[V].apply(g,G)}}function I(a){const h=a.length;if(0<h){const d=Array(h);for(let g=0;g<h;g++)d[g]=a[g];return d}return[]}function P(a,h){for(let d=1;d<arguments.length;d++){const g=arguments[d];if(u(g)){const V=a.length||0,j=g.length||0;a.length=V+j;for(let G=0;G<j;G++)a[V+G]=g[G]}else a.push(g)}}class w{constructor(h,d){this.i=h,this.j=d,this.h=0,this.g=null}get(){let h;return 0<this.h?(this.h--,h=this.g,this.g=h.next,h.next=null):h=this.i(),h}}function E(a){return/^[\s\xa0]*$/.test(a)}function x(){var a=l.navigator;return a&&(a=a.userAgent)?a:""}function b(a){return b[" "](a),a}b[" "]=function(){};var z=x().indexOf("Gecko")!=-1&&!(x().toLowerCase().indexOf("webkit")!=-1&&x().indexOf("Edge")==-1)&&!(x().indexOf("Trident")!=-1||x().indexOf("MSIE")!=-1)&&x().indexOf("Edge")==-1;function $(a,h,d){for(const g in a)h.call(d,a[g],g,a)}function S(a,h){for(const d in a)h.call(void 0,a[d],d,a)}function y(a){const h={};for(const d in a)h[d]=a[d];return h}const T="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function A(a,h){let d,g;for(let V=1;V<arguments.length;V++){g=arguments[V];for(d in g)a[d]=g[d];for(let j=0;j<T.length;j++)d=T[j],Object.prototype.hasOwnProperty.call(g,d)&&(a[d]=g[d])}}function R(a){var h=1;a=a.split(":");const d=[];for(;0<h&&a.length;)d.push(a.shift()),h--;return a.length&&d.push(a.join(":")),d}function N(a){l.setTimeout(()=>{throw a},0)}function C(){var a=ne;let h=null;return a.g&&(h=a.g,a.g=a.g.next,a.g||(a.h=null),h.next=null),h}class ze{constructor(){this.h=this.g=null}add(h,d){const g=Et.get();g.set(h,d),this.h?this.h.next=g:this.g=g,this.h=g}}var Et=new w(()=>new Ft,a=>a.reset());class Ft{constructor(){this.next=this.g=this.h=null}set(h,d){this.h=h,this.g=d,this.next=null}reset(){this.next=this.g=this.h=null}}let Tt,Q=!1,ne=new ze,re=()=>{const a=l.Promise.resolve(void 0);Tt=()=>{a.then(_e)}};var _e=()=>{for(var a;a=C();){try{a.h.call(a.g)}catch(d){N(d)}var h=Et;h.j(a),100>h.h&&(h.h++,a.next=h.g,h.g=a)}Q=!1};function pe(){this.s=this.s,this.C=this.C}pe.prototype.s=!1,pe.prototype.ma=function(){this.s||(this.s=!0,this.N())},pe.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function ye(a,h){this.type=a,this.g=this.target=h,this.defaultPrevented=!1}ye.prototype.h=function(){this.defaultPrevented=!0};var St=function(){if(!l.addEventListener||!Object.defineProperty)return!1;var a=!1,h=Object.defineProperty({},"passive",{get:function(){a=!0}});try{const d=()=>{};l.addEventListener("test",d,h),l.removeEventListener("test",d,h)}catch{}return a}();function Pe(a,h){if(ye.call(this,a?a.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,a){var d=this.type=a.type,g=a.changedTouches&&a.changedTouches.length?a.changedTouches[0]:null;if(this.target=a.target||a.srcElement,this.g=h,h=a.relatedTarget){if(z){e:{try{b(h.nodeName);var V=!0;break e}catch{}V=!1}V||(h=null)}}else d=="mouseover"?h=a.fromElement:d=="mouseout"&&(h=a.toElement);this.relatedTarget=h,g?(this.clientX=g.clientX!==void 0?g.clientX:g.pageX,this.clientY=g.clientY!==void 0?g.clientY:g.pageY,this.screenX=g.screenX||0,this.screenY=g.screenY||0):(this.clientX=a.clientX!==void 0?a.clientX:a.pageX,this.clientY=a.clientY!==void 0?a.clientY:a.pageY,this.screenX=a.screenX||0,this.screenY=a.screenY||0),this.button=a.button,this.key=a.key||"",this.ctrlKey=a.ctrlKey,this.altKey=a.altKey,this.shiftKey=a.shiftKey,this.metaKey=a.metaKey,this.pointerId=a.pointerId||0,this.pointerType=typeof a.pointerType=="string"?a.pointerType:pt[a.pointerType]||"",this.state=a.state,this.i=a,a.defaultPrevented&&Pe.aa.h.call(this)}}v(Pe,ye);var pt={2:"touch",3:"pen",4:"mouse"};Pe.prototype.h=function(){Pe.aa.h.call(this);var a=this.i;a.preventDefault?a.preventDefault():a.returnValue=!1};var M="closure_listenable_"+(1e6*Math.random()|0),k=0;function L(a,h,d,g,V){this.listener=a,this.proxy=null,this.src=h,this.type=d,this.capture=!!g,this.ha=V,this.key=++k,this.da=this.fa=!1}function F(a){a.da=!0,a.listener=null,a.proxy=null,a.src=null,a.ha=null}function D(a){this.src=a,this.g={},this.h=0}D.prototype.add=function(a,h,d,g,V){var j=a.toString();a=this.g[j],a||(a=this.g[j]=[],this.h++);var G=H(a,h,g,V);return-1<G?(h=a[G],d||(h.fa=!1)):(h=new L(h,this.src,j,!!g,V),h.fa=d,a.push(h)),h};function Z(a,h){var d=h.type;if(d in a.g){var g=a.g[d],V=Array.prototype.indexOf.call(g,h,void 0),j;(j=0<=V)&&Array.prototype.splice.call(g,V,1),j&&(F(h),a.g[d].length==0&&(delete a.g[d],a.h--))}}function H(a,h,d,g){for(var V=0;V<a.length;++V){var j=a[V];if(!j.da&&j.listener==h&&j.capture==!!d&&j.ha==g)return V}return-1}var J="closure_lm_"+(1e6*Math.random()|0),ee={};function se(a,h,d,g,V){if(Array.isArray(h)){for(var j=0;j<h.length;j++)se(a,h[j],d,g,V);return null}return d=Pn(d),a&&a[M]?a.K(h,d,c(g)?!!g.capture:!!g,V):ce(a,h,d,!1,g,V)}function ce(a,h,d,g,V,j){if(!h)throw Error("Invalid event type");var G=c(V)?!!V.capture:!!V,Ee=dr(a);if(Ee||(a[J]=Ee=new D(a)),d=Ee.add(h,d,g,G,j),d.proxy)return d;if(g=$e(),d.proxy=g,g.src=a,g.listener=d,a.addEventListener)St||(V=G),V===void 0&&(V=!1),a.addEventListener(h.toString(),g,V);else if(a.attachEvent)a.attachEvent(Hr(h.toString()),g);else if(a.addListener&&a.removeListener)a.addListener(g);else throw Error("addEventListener and attachEvent are unavailable.");return d}function $e(){function a(d){return h.call(a.src,a.listener,d)}const h=Qi;return a}function It(a,h,d,g,V){if(Array.isArray(h))for(var j=0;j<h.length;j++)It(a,h[j],d,g,V);else g=c(g)?!!g.capture:!!g,d=Pn(d),a&&a[M]?(a=a.i,h=String(h).toString(),h in a.g&&(j=a.g[h],d=H(j,d,g,V),-1<d&&(F(j[d]),Array.prototype.splice.call(j,d,1),j.length==0&&(delete a.g[h],a.h--)))):a&&(a=dr(a))&&(h=a.g[h.toString()],a=-1,h&&(a=H(h,d,g,V)),(d=-1<a?h[a]:null)&&mt(d))}function mt(a){if(typeof a!="number"&&a&&!a.da){var h=a.src;if(h&&h[M])Z(h.i,a);else{var d=a.type,g=a.proxy;h.removeEventListener?h.removeEventListener(d,g,a.capture):h.detachEvent?h.detachEvent(Hr(d),g):h.addListener&&h.removeListener&&h.removeListener(g),(d=dr(h))?(Z(d,a),d.h==0&&(d.src=null,h[J]=null)):F(a)}}}function Hr(a){return a in ee?ee[a]:ee[a]="on"+a}function Qi(a,h){if(a.da)a=!0;else{h=new Pe(h,this);var d=a.listener,g=a.ha||a.src;a.fa&&mt(a),a=d.call(g,h)}return a}function dr(a){return a=a[J],a instanceof D?a:null}var pr="__closure_events_fn_"+(1e9*Math.random()>>>0);function Pn(a){return typeof a=="function"?a:(a[pr]||(a[pr]=function(h){return a.handleEvent(h)}),a[pr])}function Le(){pe.call(this),this.i=new D(this),this.M=this,this.F=null}v(Le,pe),Le.prototype[M]=!0,Le.prototype.removeEventListener=function(a,h,d,g){It(this,a,h,d,g)};function Ge(a,h){var d,g=a.F;if(g)for(d=[];g;g=g.F)d.push(g);if(a=a.M,g=h.type||h,typeof h=="string")h=new ye(h,a);else if(h instanceof ye)h.target=h.target||a;else{var V=h;h=new ye(g,a),A(h,V)}if(V=!0,d)for(var j=d.length-1;0<=j;j--){var G=h.g=d[j];V=Gr(G,g,!0,h)&&V}if(G=h.g=a,V=Gr(G,g,!0,h)&&V,V=Gr(G,g,!1,h)&&V,d)for(j=0;j<d.length;j++)G=h.g=d[j],V=Gr(G,g,!1,h)&&V}Le.prototype.N=function(){if(Le.aa.N.call(this),this.i){var a=this.i,h;for(h in a.g){for(var d=a.g[h],g=0;g<d.length;g++)F(d[g]);delete a.g[h],a.h--}}this.F=null},Le.prototype.K=function(a,h,d,g){return this.i.add(String(a),h,!1,d,g)},Le.prototype.L=function(a,h,d,g){return this.i.add(String(a),h,!0,d,g)};function Gr(a,h,d,g){if(h=a.i.g[String(h)],!h)return!0;h=h.concat();for(var V=!0,j=0;j<h.length;++j){var G=h[j];if(G&&!G.da&&G.capture==d){var Ee=G.listener,Je=G.ha||G.src;G.fa&&Z(a.i,G),V=Ee.call(Je,g)!==!1&&V}}return V&&!g.defaultPrevented}function Ki(a,h,d){if(typeof a=="function")d&&(a=m(a,d));else if(a&&typeof a.handleEvent=="function")a=m(a.handleEvent,a);else throw Error("Invalid listener argument");return 2147483647<Number(h)?-1:l.setTimeout(a,h||0)}function Yi(a){a.g=Ki(()=>{a.g=null,a.i&&(a.i=!1,Yi(a))},a.l);const h=a.h;a.h=null,a.m.apply(null,h)}class mr extends pe{constructor(h,d){super(),this.m=h,this.l=d,this.h=null,this.i=!1,this.g=null}j(h){this.h=arguments,this.g?this.i=!0:Yi(this)}N(){super.N(),this.g&&(l.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Rn(a){pe.call(this),this.h=a,this.g={}}v(Rn,pe);var Mf=[];function Lf(a){$(a.g,function(h,d){this.g.hasOwnProperty(d)&&mt(h)},a),a.g={}}Rn.prototype.N=function(){Rn.aa.N.call(this),Lf(this)},Rn.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var $l=l.JSON.stringify,p_=l.JSON.parse,m_=class{stringify(a){return l.JSON.stringify(a,void 0)}parse(a){return l.JSON.parse(a,void 0)}};function ql(){}ql.prototype.h=null;function jf(a){return a.h||(a.h=a.i())}function Ff(){}var Xi={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Wl(){ye.call(this,"d")}v(Wl,ye);function Hl(){ye.call(this,"c")}v(Hl,ye);var gr={},Uf=null;function Is(){return Uf=Uf||new Le}gr.La="serverreachability";function Bf(a){ye.call(this,gr.La,a)}v(Bf,ye);function Ji(a){const h=Is();Ge(h,new Bf(h))}gr.STAT_EVENT="statevent";function zf(a,h){ye.call(this,gr.STAT_EVENT,a),this.stat=h}v(zf,ye);function gt(a){const h=Is();Ge(h,new zf(h,a))}gr.Ma="timingevent";function $f(a,h){ye.call(this,gr.Ma,a),this.size=h}v($f,ye);function Zi(a,h){if(typeof a!="function")throw Error("Fn must not be null and must be a function");return l.setTimeout(function(){a()},h)}function eo(){this.g=!0}eo.prototype.xa=function(){this.g=!1};function g_(a,h,d,g,V,j){a.info(function(){if(a.g)if(j)for(var G="",Ee=j.split("&"),Je=0;Je<Ee.length;Je++){var ge=Ee[Je].split("=");if(1<ge.length){var ot=ge[0];ge=ge[1];var st=ot.split("_");G=2<=st.length&&st[1]=="type"?G+(ot+"="+ge+"&"):G+(ot+"=redacted&")}}else G=null;else G=j;return"XMLHTTP REQ ("+g+") [attempt "+V+"]: "+h+`
`+d+`
`+G})}function y_(a,h,d,g,V,j,G){a.info(function(){return"XMLHTTP RESP ("+g+") [ attempt "+V+"]: "+h+`
`+d+`
`+j+" "+G})}function Qr(a,h,d,g){a.info(function(){return"XMLHTTP TEXT ("+h+"): "+__(a,d)+(g?" "+g:"")})}function v_(a,h){a.info(function(){return"TIMEOUT: "+h})}eo.prototype.info=function(){};function __(a,h){if(!a.g)return h;if(!h)return null;try{var d=JSON.parse(h);if(d){for(a=0;a<d.length;a++)if(Array.isArray(d[a])){var g=d[a];if(!(2>g.length)){var V=g[1];if(Array.isArray(V)&&!(1>V.length)){var j=V[0];if(j!="noop"&&j!="stop"&&j!="close")for(var G=1;G<V.length;G++)V[G]=""}}}}return $l(d)}catch{return h}}var xs={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},qf={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Gl;function As(){}v(As,ql),As.prototype.g=function(){return new XMLHttpRequest},As.prototype.i=function(){return{}},Gl=new As;function kn(a,h,d,g){this.j=a,this.i=h,this.l=d,this.R=g||1,this.U=new Rn(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Wf}function Wf(){this.i=null,this.g="",this.h=!1}var Hf={},Ql={};function Kl(a,h,d){a.L=1,a.v=ks(fn(h)),a.m=d,a.P=!0,Gf(a,null)}function Gf(a,h){a.F=Date.now(),Cs(a),a.A=fn(a.v);var d=a.A,g=a.R;Array.isArray(g)||(g=[String(g)]),ad(d.i,"t",g),a.C=0,d=a.j.J,a.h=new Wf,a.g=xd(a.j,d?h:null,!a.m),0<a.O&&(a.M=new mr(m(a.Y,a,a.g),a.O)),h=a.U,d=a.g,g=a.ca;var V="readystatechange";Array.isArray(V)||(V&&(Mf[0]=V.toString()),V=Mf);for(var j=0;j<V.length;j++){var G=se(d,V[j],g||h.handleEvent,!1,h.h||h);if(!G)break;h.g[G.key]=G}h=a.H?y(a.H):{},a.m?(a.u||(a.u="POST"),h["Content-Type"]="application/x-www-form-urlencoded",a.g.ea(a.A,a.u,a.m,h)):(a.u="GET",a.g.ea(a.A,a.u,null,h)),Ji(),g_(a.i,a.u,a.A,a.l,a.R,a.m)}kn.prototype.ca=function(a){a=a.target;const h=this.M;h&&dn(a)==3?h.j():this.Y(a)},kn.prototype.Y=function(a){try{if(a==this.g)e:{const st=dn(this.g);var h=this.g.Ba();const Xr=this.g.Z();if(!(3>st)&&(st!=3||this.g&&(this.h.h||this.g.oa()||pd(this.g)))){this.J||st!=4||h==7||(h==8||0>=Xr?Ji(3):Ji(2)),Yl(this);var d=this.g.Z();this.X=d;t:if(Qf(this)){var g=pd(this.g);a="";var V=g.length,j=dn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){yr(this),to(this);var G="";break t}this.h.i=new l.TextDecoder}for(h=0;h<V;h++)this.h.h=!0,a+=this.h.i.decode(g[h],{stream:!(j&&h==V-1)});g.length=0,this.h.g+=a,this.C=0,G=this.h.g}else G=this.g.oa();if(this.o=d==200,y_(this.i,this.u,this.A,this.l,this.R,st,d),this.o){if(this.T&&!this.K){t:{if(this.g){var Ee,Je=this.g;if((Ee=Je.g?Je.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!E(Ee)){var ge=Ee;break t}}ge=null}if(d=ge)Qr(this.i,this.l,d,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Xl(this,d);else{this.o=!1,this.s=3,gt(12),yr(this),to(this);break e}}if(this.P){d=!0;let Gt;for(;!this.J&&this.C<G.length;)if(Gt=w_(this,G),Gt==Ql){st==4&&(this.s=4,gt(14),d=!1),Qr(this.i,this.l,null,"[Incomplete Response]");break}else if(Gt==Hf){this.s=4,gt(15),Qr(this.i,this.l,G,"[Invalid Chunk]"),d=!1;break}else Qr(this.i,this.l,Gt,null),Xl(this,Gt);if(Qf(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),st!=4||G.length!=0||this.h.h||(this.s=1,gt(16),d=!1),this.o=this.o&&d,!d)Qr(this.i,this.l,G,"[Invalid Chunked Response]"),yr(this),to(this);else if(0<G.length&&!this.W){this.W=!0;var ot=this.j;ot.g==this&&ot.ba&&!ot.M&&(ot.j.info("Great, no buffering proxy detected. Bytes received: "+G.length),ru(ot),ot.M=!0,gt(11))}}else Qr(this.i,this.l,G,null),Xl(this,G);st==4&&yr(this),this.o&&!this.J&&(st==4?Ed(this.j,this):(this.o=!1,Cs(this)))}else L_(this.g),d==400&&0<G.indexOf("Unknown SID")?(this.s=3,gt(12)):(this.s=0,gt(13)),yr(this),to(this)}}}catch{}finally{}};function Qf(a){return a.g?a.u=="GET"&&a.L!=2&&a.j.Ca:!1}function w_(a,h){var d=a.C,g=h.indexOf(`
`,d);return g==-1?Ql:(d=Number(h.substring(d,g)),isNaN(d)?Hf:(g+=1,g+d>h.length?Ql:(h=h.slice(g,g+d),a.C=g+d,h)))}kn.prototype.cancel=function(){this.J=!0,yr(this)};function Cs(a){a.S=Date.now()+a.I,Kf(a,a.I)}function Kf(a,h){if(a.B!=null)throw Error("WatchDog timer not null");a.B=Zi(m(a.ba,a),h)}function Yl(a){a.B&&(l.clearTimeout(a.B),a.B=null)}kn.prototype.ba=function(){this.B=null;const a=Date.now();0<=a-this.S?(v_(this.i,this.A),this.L!=2&&(Ji(),gt(17)),yr(this),this.s=2,to(this)):Kf(this,this.S-a)};function to(a){a.j.G==0||a.J||Ed(a.j,a)}function yr(a){Yl(a);var h=a.M;h&&typeof h.ma=="function"&&h.ma(),a.M=null,Lf(a.U),a.g&&(h=a.g,a.g=null,h.abort(),h.ma())}function Xl(a,h){try{var d=a.j;if(d.G!=0&&(d.g==a||Jl(d.h,a))){if(!a.K&&Jl(d.h,a)&&d.G==3){try{var g=d.Da.g.parse(h)}catch{g=null}if(Array.isArray(g)&&g.length==3){var V=g;if(V[0]==0){e:if(!d.u){if(d.g)if(d.g.F+3e3<a.F)Ms(d),Os(d);else break e;nu(d),gt(18)}}else d.za=V[1],0<d.za-d.T&&37500>V[2]&&d.F&&d.v==0&&!d.C&&(d.C=Zi(m(d.Za,d),6e3));if(1>=Jf(d.h)&&d.ca){try{d.ca()}catch{}d.ca=void 0}}else _r(d,11)}else if((a.K||d.g==a)&&Ms(d),!E(h))for(V=d.Da.g.parse(h),h=0;h<V.length;h++){let ge=V[h];if(d.T=ge[0],ge=ge[1],d.G==2)if(ge[0]=="c"){d.K=ge[1],d.ia=ge[2];const ot=ge[3];ot!=null&&(d.la=ot,d.j.info("VER="+d.la));const st=ge[4];st!=null&&(d.Aa=st,d.j.info("SVER="+d.Aa));const Xr=ge[5];Xr!=null&&typeof Xr=="number"&&0<Xr&&(g=1.5*Xr,d.L=g,d.j.info("backChannelRequestTimeoutMs_="+g)),g=d;const Gt=a.g;if(Gt){const js=Gt.g?Gt.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(js){var j=g.h;j.g||js.indexOf("spdy")==-1&&js.indexOf("quic")==-1&&js.indexOf("h2")==-1||(j.j=j.l,j.g=new Set,j.h&&(Zl(j,j.h),j.h=null))}if(g.D){const iu=Gt.g?Gt.g.getResponseHeader("X-HTTP-Session-Id"):null;iu&&(g.ya=iu,Se(g.I,g.D,iu))}}d.G=3,d.l&&d.l.ua(),d.ba&&(d.R=Date.now()-a.F,d.j.info("Handshake RTT: "+d.R+"ms")),g=d;var G=a;if(g.qa=Id(g,g.J?g.ia:null,g.W),G.K){Zf(g.h,G);var Ee=G,Je=g.L;Je&&(Ee.I=Je),Ee.B&&(Yl(Ee),Cs(Ee)),g.g=G}else _d(g);0<d.i.length&&bs(d)}else ge[0]!="stop"&&ge[0]!="close"||_r(d,7);else d.G==3&&(ge[0]=="stop"||ge[0]=="close"?ge[0]=="stop"?_r(d,7):tu(d):ge[0]!="noop"&&d.l&&d.l.ta(ge),d.v=0)}}Ji(4)}catch{}}var E_=class{constructor(a,h){this.g=a,this.map=h}};function Yf(a){this.l=a||10,l.PerformanceNavigationTiming?(a=l.performance.getEntriesByType("navigation"),a=0<a.length&&(a[0].nextHopProtocol=="hq"||a[0].nextHopProtocol=="h2")):a=!!(l.chrome&&l.chrome.loadTimes&&l.chrome.loadTimes()&&l.chrome.loadTimes().wasFetchedViaSpdy),this.j=a?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Xf(a){return a.h?!0:a.g?a.g.size>=a.j:!1}function Jf(a){return a.h?1:a.g?a.g.size:0}function Jl(a,h){return a.h?a.h==h:a.g?a.g.has(h):!1}function Zl(a,h){a.g?a.g.add(h):a.h=h}function Zf(a,h){a.h&&a.h==h?a.h=null:a.g&&a.g.has(h)&&a.g.delete(h)}Yf.prototype.cancel=function(){if(this.i=ed(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const a of this.g.values())a.cancel();this.g.clear()}};function ed(a){if(a.h!=null)return a.i.concat(a.h.D);if(a.g!=null&&a.g.size!==0){let h=a.i;for(const d of a.g.values())h=h.concat(d.D);return h}return I(a.i)}function T_(a){if(a.V&&typeof a.V=="function")return a.V();if(typeof Map<"u"&&a instanceof Map||typeof Set<"u"&&a instanceof Set)return Array.from(a.values());if(typeof a=="string")return a.split("");if(u(a)){for(var h=[],d=a.length,g=0;g<d;g++)h.push(a[g]);return h}h=[],d=0;for(g in a)h[d++]=a[g];return h}function S_(a){if(a.na&&typeof a.na=="function")return a.na();if(!a.V||typeof a.V!="function"){if(typeof Map<"u"&&a instanceof Map)return Array.from(a.keys());if(!(typeof Set<"u"&&a instanceof Set)){if(u(a)||typeof a=="string"){var h=[];a=a.length;for(var d=0;d<a;d++)h.push(d);return h}h=[],d=0;for(const g in a)h[d++]=g;return h}}}function td(a,h){if(a.forEach&&typeof a.forEach=="function")a.forEach(h,void 0);else if(u(a)||typeof a=="string")Array.prototype.forEach.call(a,h,void 0);else for(var d=S_(a),g=T_(a),V=g.length,j=0;j<V;j++)h.call(void 0,g[j],d&&d[j],a)}var nd=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function I_(a,h){if(a){a=a.split("&");for(var d=0;d<a.length;d++){var g=a[d].indexOf("="),V=null;if(0<=g){var j=a[d].substring(0,g);V=a[d].substring(g+1)}else j=a[d];h(j,V?decodeURIComponent(V.replace(/\+/g," ")):"")}}}function vr(a){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,a instanceof vr){this.h=a.h,Ps(this,a.j),this.o=a.o,this.g=a.g,Rs(this,a.s),this.l=a.l;var h=a.i,d=new io;d.i=h.i,h.g&&(d.g=new Map(h.g),d.h=h.h),rd(this,d),this.m=a.m}else a&&(h=String(a).match(nd))?(this.h=!1,Ps(this,h[1]||"",!0),this.o=no(h[2]||""),this.g=no(h[3]||"",!0),Rs(this,h[4]),this.l=no(h[5]||"",!0),rd(this,h[6]||"",!0),this.m=no(h[7]||"")):(this.h=!1,this.i=new io(null,this.h))}vr.prototype.toString=function(){var a=[],h=this.j;h&&a.push(ro(h,id,!0),":");var d=this.g;return(d||h=="file")&&(a.push("//"),(h=this.o)&&a.push(ro(h,id,!0),"@"),a.push(encodeURIComponent(String(d)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),d=this.s,d!=null&&a.push(":",String(d))),(d=this.l)&&(this.g&&d.charAt(0)!="/"&&a.push("/"),a.push(ro(d,d.charAt(0)=="/"?C_:A_,!0))),(d=this.i.toString())&&a.push("?",d),(d=this.m)&&a.push("#",ro(d,R_)),a.join("")};function fn(a){return new vr(a)}function Ps(a,h,d){a.j=d?no(h,!0):h,a.j&&(a.j=a.j.replace(/:$/,""))}function Rs(a,h){if(h){if(h=Number(h),isNaN(h)||0>h)throw Error("Bad port number "+h);a.s=h}else a.s=null}function rd(a,h,d){h instanceof io?(a.i=h,k_(a.i,a.h)):(d||(h=ro(h,P_)),a.i=new io(h,a.h))}function Se(a,h,d){a.i.set(h,d)}function ks(a){return Se(a,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),a}function no(a,h){return a?h?decodeURI(a.replace(/%25/g,"%2525")):decodeURIComponent(a):""}function ro(a,h,d){return typeof a=="string"?(a=encodeURI(a).replace(h,x_),d&&(a=a.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),a):null}function x_(a){return a=a.charCodeAt(0),"%"+(a>>4&15).toString(16)+(a&15).toString(16)}var id=/[#\/\?@]/g,A_=/[#\?:]/g,C_=/[#\?]/g,P_=/[#\?@]/g,R_=/#/g;function io(a,h){this.h=this.g=null,this.i=a||null,this.j=!!h}function Nn(a){a.g||(a.g=new Map,a.h=0,a.i&&I_(a.i,function(h,d){a.add(decodeURIComponent(h.replace(/\+/g," ")),d)}))}t=io.prototype,t.add=function(a,h){Nn(this),this.i=null,a=Kr(this,a);var d=this.g.get(a);return d||this.g.set(a,d=[]),d.push(h),this.h+=1,this};function od(a,h){Nn(a),h=Kr(a,h),a.g.has(h)&&(a.i=null,a.h-=a.g.get(h).length,a.g.delete(h))}function sd(a,h){return Nn(a),h=Kr(a,h),a.g.has(h)}t.forEach=function(a,h){Nn(this),this.g.forEach(function(d,g){d.forEach(function(V){a.call(h,V,g,this)},this)},this)},t.na=function(){Nn(this);const a=Array.from(this.g.values()),h=Array.from(this.g.keys()),d=[];for(let g=0;g<h.length;g++){const V=a[g];for(let j=0;j<V.length;j++)d.push(h[g])}return d},t.V=function(a){Nn(this);let h=[];if(typeof a=="string")sd(this,a)&&(h=h.concat(this.g.get(Kr(this,a))));else{a=Array.from(this.g.values());for(let d=0;d<a.length;d++)h=h.concat(a[d])}return h},t.set=function(a,h){return Nn(this),this.i=null,a=Kr(this,a),sd(this,a)&&(this.h-=this.g.get(a).length),this.g.set(a,[h]),this.h+=1,this},t.get=function(a,h){return a?(a=this.V(a),0<a.length?String(a[0]):h):h};function ad(a,h,d){od(a,h),0<d.length&&(a.i=null,a.g.set(Kr(a,h),I(d)),a.h+=d.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const a=[],h=Array.from(this.g.keys());for(var d=0;d<h.length;d++){var g=h[d];const j=encodeURIComponent(String(g)),G=this.V(g);for(g=0;g<G.length;g++){var V=j;G[g]!==""&&(V+="="+encodeURIComponent(String(G[g]))),a.push(V)}}return this.i=a.join("&")};function Kr(a,h){return h=String(h),a.j&&(h=h.toLowerCase()),h}function k_(a,h){h&&!a.j&&(Nn(a),a.i=null,a.g.forEach(function(d,g){var V=g.toLowerCase();g!=V&&(od(this,g),ad(this,V,d))},a)),a.j=h}function N_(a,h){const d=new eo;if(l.Image){const g=new Image;g.onload=_(Vn,d,"TestLoadImage: loaded",!0,h,g),g.onerror=_(Vn,d,"TestLoadImage: error",!1,h,g),g.onabort=_(Vn,d,"TestLoadImage: abort",!1,h,g),g.ontimeout=_(Vn,d,"TestLoadImage: timeout",!1,h,g),l.setTimeout(function(){g.ontimeout&&g.ontimeout()},1e4),g.src=a}else h(!1)}function V_(a,h){const d=new eo,g=new AbortController,V=setTimeout(()=>{g.abort(),Vn(d,"TestPingServer: timeout",!1,h)},1e4);fetch(a,{signal:g.signal}).then(j=>{clearTimeout(V),j.ok?Vn(d,"TestPingServer: ok",!0,h):Vn(d,"TestPingServer: server error",!1,h)}).catch(()=>{clearTimeout(V),Vn(d,"TestPingServer: error",!1,h)})}function Vn(a,h,d,g,V){try{V&&(V.onload=null,V.onerror=null,V.onabort=null,V.ontimeout=null),g(d)}catch{}}function D_(){this.g=new m_}function O_(a,h,d){const g=d||"";try{td(a,function(V,j){let G=V;c(V)&&(G=$l(V)),h.push(g+j+"="+encodeURIComponent(G))})}catch(V){throw h.push(g+"type="+encodeURIComponent("_badmap")),V}}function Ns(a){this.l=a.Ub||null,this.j=a.eb||!1}v(Ns,ql),Ns.prototype.g=function(){return new Vs(this.l,this.j)},Ns.prototype.i=function(a){return function(){return a}}({});function Vs(a,h){Le.call(this),this.D=a,this.o=h,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}v(Vs,Le),t=Vs.prototype,t.open=function(a,h){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=a,this.A=h,this.readyState=1,so(this)},t.send=function(a){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const h={headers:this.u,method:this.B,credentials:this.m,cache:void 0};a&&(h.body=a),(this.D||l).fetch(new Request(this.A,h)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,oo(this)),this.readyState=0},t.Sa=function(a){if(this.g&&(this.l=a,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=a.headers,this.readyState=2,so(this)),this.g&&(this.readyState=3,so(this),this.g)))if(this.responseType==="arraybuffer")a.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof l.ReadableStream<"u"&&"body"in a){if(this.j=a.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;ld(this)}else a.text().then(this.Ra.bind(this),this.ga.bind(this))};function ld(a){a.j.read().then(a.Pa.bind(a)).catch(a.ga.bind(a))}t.Pa=function(a){if(this.g){if(this.o&&a.value)this.response.push(a.value);else if(!this.o){var h=a.value?a.value:new Uint8Array(0);(h=this.v.decode(h,{stream:!a.done}))&&(this.response=this.responseText+=h)}a.done?oo(this):so(this),this.readyState==3&&ld(this)}},t.Ra=function(a){this.g&&(this.response=this.responseText=a,oo(this))},t.Qa=function(a){this.g&&(this.response=a,oo(this))},t.ga=function(){this.g&&oo(this)};function oo(a){a.readyState=4,a.l=null,a.j=null,a.v=null,so(a)}t.setRequestHeader=function(a,h){this.u.append(a,h)},t.getResponseHeader=function(a){return this.h&&this.h.get(a.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const a=[],h=this.h.entries();for(var d=h.next();!d.done;)d=d.value,a.push(d[0]+": "+d[1]),d=h.next();return a.join(`\r
`)};function so(a){a.onreadystatechange&&a.onreadystatechange.call(a)}Object.defineProperty(Vs.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(a){this.m=a?"include":"same-origin"}});function ud(a){let h="";return $(a,function(d,g){h+=g,h+=":",h+=d,h+=`\r
`}),h}function eu(a,h,d){e:{for(g in d){var g=!1;break e}g=!0}g||(d=ud(d),typeof a=="string"?d!=null&&encodeURIComponent(String(d)):Se(a,h,d))}function De(a){Le.call(this),this.headers=new Map,this.o=a||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}v(De,Le);var b_=/^https?$/i,M_=["POST","PUT"];t=De.prototype,t.Ha=function(a){this.J=a},t.ea=function(a,h,d,g){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+a);h=h?h.toUpperCase():"GET",this.D=a,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Gl.g(),this.v=this.o?jf(this.o):jf(Gl),this.g.onreadystatechange=m(this.Ea,this);try{this.B=!0,this.g.open(h,String(a),!0),this.B=!1}catch(j){cd(this,j);return}if(a=d||"",d=new Map(this.headers),g)if(Object.getPrototypeOf(g)===Object.prototype)for(var V in g)d.set(V,g[V]);else if(typeof g.keys=="function"&&typeof g.get=="function")for(const j of g.keys())d.set(j,g.get(j));else throw Error("Unknown input type for opt_headers: "+String(g));g=Array.from(d.keys()).find(j=>j.toLowerCase()=="content-type"),V=l.FormData&&a instanceof l.FormData,!(0<=Array.prototype.indexOf.call(M_,h,void 0))||g||V||d.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[j,G]of d)this.g.setRequestHeader(j,G);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{dd(this),this.u=!0,this.g.send(a),this.u=!1}catch(j){cd(this,j)}};function cd(a,h){a.h=!1,a.g&&(a.j=!0,a.g.abort(),a.j=!1),a.l=h,a.m=5,hd(a),Ds(a)}function hd(a){a.A||(a.A=!0,Ge(a,"complete"),Ge(a,"error"))}t.abort=function(a){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=a||7,Ge(this,"complete"),Ge(this,"abort"),Ds(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Ds(this,!0)),De.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?fd(this):this.bb())},t.bb=function(){fd(this)};function fd(a){if(a.h&&typeof s<"u"&&(!a.v[1]||dn(a)!=4||a.Z()!=2)){if(a.u&&dn(a)==4)Ki(a.Ea,0,a);else if(Ge(a,"readystatechange"),dn(a)==4){a.h=!1;try{const G=a.Z();e:switch(G){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var h=!0;break e;default:h=!1}var d;if(!(d=h)){var g;if(g=G===0){var V=String(a.D).match(nd)[1]||null;!V&&l.self&&l.self.location&&(V=l.self.location.protocol.slice(0,-1)),g=!b_.test(V?V.toLowerCase():"")}d=g}if(d)Ge(a,"complete"),Ge(a,"success");else{a.m=6;try{var j=2<dn(a)?a.g.statusText:""}catch{j=""}a.l=j+" ["+a.Z()+"]",hd(a)}}finally{Ds(a)}}}}function Ds(a,h){if(a.g){dd(a);const d=a.g,g=a.v[0]?()=>{}:null;a.g=null,a.v=null,h||Ge(a,"ready");try{d.onreadystatechange=g}catch{}}}function dd(a){a.I&&(l.clearTimeout(a.I),a.I=null)}t.isActive=function(){return!!this.g};function dn(a){return a.g?a.g.readyState:0}t.Z=function(){try{return 2<dn(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(a){if(this.g){var h=this.g.responseText;return a&&h.indexOf(a)==0&&(h=h.substring(a.length)),p_(h)}};function pd(a){try{if(!a.g)return null;if("response"in a.g)return a.g.response;switch(a.H){case"":case"text":return a.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in a.g)return a.g.mozResponseArrayBuffer}return null}catch{return null}}function L_(a){const h={};a=(a.g&&2<=dn(a)&&a.g.getAllResponseHeaders()||"").split(`\r
`);for(let g=0;g<a.length;g++){if(E(a[g]))continue;var d=R(a[g]);const V=d[0];if(d=d[1],typeof d!="string")continue;d=d.trim();const j=h[V]||[];h[V]=j,j.push(d)}S(h,function(g){return g.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function ao(a,h,d){return d&&d.internalChannelParams&&d.internalChannelParams[a]||h}function md(a){this.Aa=0,this.i=[],this.j=new eo,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=ao("failFast",!1,a),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=ao("baseRetryDelayMs",5e3,a),this.cb=ao("retryDelaySeedMs",1e4,a),this.Wa=ao("forwardChannelMaxRetries",2,a),this.wa=ao("forwardChannelRequestTimeoutMs",2e4,a),this.pa=a&&a.xmlHttpFactory||void 0,this.Xa=a&&a.Tb||void 0,this.Ca=a&&a.useFetchStreams||!1,this.L=void 0,this.J=a&&a.supportsCrossDomainXhr||!1,this.K="",this.h=new Yf(a&&a.concurrentRequestLimit),this.Da=new D_,this.P=a&&a.fastHandshake||!1,this.O=a&&a.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=a&&a.Rb||!1,a&&a.xa&&this.j.xa(),a&&a.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&a&&a.detectBufferingProxy||!1,this.ja=void 0,a&&a.longPollingTimeout&&0<a.longPollingTimeout&&(this.ja=a.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=md.prototype,t.la=8,t.G=1,t.connect=function(a,h,d,g){gt(0),this.W=a,this.H=h||{},d&&g!==void 0&&(this.H.OSID=d,this.H.OAID=g),this.F=this.X,this.I=Id(this,null,this.W),bs(this)};function tu(a){if(gd(a),a.G==3){var h=a.U++,d=fn(a.I);if(Se(d,"SID",a.K),Se(d,"RID",h),Se(d,"TYPE","terminate"),lo(a,d),h=new kn(a,a.j,h),h.L=2,h.v=ks(fn(d)),d=!1,l.navigator&&l.navigator.sendBeacon)try{d=l.navigator.sendBeacon(h.v.toString(),"")}catch{}!d&&l.Image&&(new Image().src=h.v,d=!0),d||(h.g=xd(h.j,null),h.g.ea(h.v)),h.F=Date.now(),Cs(h)}Sd(a)}function Os(a){a.g&&(ru(a),a.g.cancel(),a.g=null)}function gd(a){Os(a),a.u&&(l.clearTimeout(a.u),a.u=null),Ms(a),a.h.cancel(),a.s&&(typeof a.s=="number"&&l.clearTimeout(a.s),a.s=null)}function bs(a){if(!Xf(a.h)&&!a.s){a.s=!0;var h=a.Ga;Tt||re(),Q||(Tt(),Q=!0),ne.add(h,a),a.B=0}}function j_(a,h){return Jf(a.h)>=a.h.j-(a.s?1:0)?!1:a.s?(a.i=h.D.concat(a.i),!0):a.G==1||a.G==2||a.B>=(a.Va?0:a.Wa)?!1:(a.s=Zi(m(a.Ga,a,h),Td(a,a.B)),a.B++,!0)}t.Ga=function(a){if(this.s)if(this.s=null,this.G==1){if(!a){this.U=Math.floor(1e5*Math.random()),a=this.U++;const V=new kn(this,this.j,a);let j=this.o;if(this.S&&(j?(j=y(j),A(j,this.S)):j=this.S),this.m!==null||this.O||(V.H=j,j=null),this.P)e:{for(var h=0,d=0;d<this.i.length;d++){t:{var g=this.i[d];if("__data__"in g.map&&(g=g.map.__data__,typeof g=="string")){g=g.length;break t}g=void 0}if(g===void 0)break;if(h+=g,4096<h){h=d;break e}if(h===4096||d===this.i.length-1){h=d+1;break e}}h=1e3}else h=1e3;h=vd(this,V,h),d=fn(this.I),Se(d,"RID",a),Se(d,"CVER",22),this.D&&Se(d,"X-HTTP-Session-Id",this.D),lo(this,d),j&&(this.O?h="headers="+encodeURIComponent(String(ud(j)))+"&"+h:this.m&&eu(d,this.m,j)),Zl(this.h,V),this.Ua&&Se(d,"TYPE","init"),this.P?(Se(d,"$req",h),Se(d,"SID","null"),V.T=!0,Kl(V,d,null)):Kl(V,d,h),this.G=2}}else this.G==3&&(a?yd(this,a):this.i.length==0||Xf(this.h)||yd(this))};function yd(a,h){var d;h?d=h.l:d=a.U++;const g=fn(a.I);Se(g,"SID",a.K),Se(g,"RID",d),Se(g,"AID",a.T),lo(a,g),a.m&&a.o&&eu(g,a.m,a.o),d=new kn(a,a.j,d,a.B+1),a.m===null&&(d.H=a.o),h&&(a.i=h.D.concat(a.i)),h=vd(a,d,1e3),d.I=Math.round(.5*a.wa)+Math.round(.5*a.wa*Math.random()),Zl(a.h,d),Kl(d,g,h)}function lo(a,h){a.H&&$(a.H,function(d,g){Se(h,g,d)}),a.l&&td({},function(d,g){Se(h,g,d)})}function vd(a,h,d){d=Math.min(a.i.length,d);var g=a.l?m(a.l.Na,a.l,a):null;e:{var V=a.i;let j=-1;for(;;){const G=["count="+d];j==-1?0<d?(j=V[0].g,G.push("ofs="+j)):j=0:G.push("ofs="+j);let Ee=!0;for(let Je=0;Je<d;Je++){let ge=V[Je].g;const ot=V[Je].map;if(ge-=j,0>ge)j=Math.max(0,V[Je].g-100),Ee=!1;else try{O_(ot,G,"req"+ge+"_")}catch{g&&g(ot)}}if(Ee){g=G.join("&");break e}}}return a=a.i.splice(0,d),h.D=a,g}function _d(a){if(!a.g&&!a.u){a.Y=1;var h=a.Fa;Tt||re(),Q||(Tt(),Q=!0),ne.add(h,a),a.v=0}}function nu(a){return a.g||a.u||3<=a.v?!1:(a.Y++,a.u=Zi(m(a.Fa,a),Td(a,a.v)),a.v++,!0)}t.Fa=function(){if(this.u=null,wd(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var a=2*this.R;this.j.info("BP detection timer enabled: "+a),this.A=Zi(m(this.ab,this),a)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,gt(10),Os(this),wd(this))};function ru(a){a.A!=null&&(l.clearTimeout(a.A),a.A=null)}function wd(a){a.g=new kn(a,a.j,"rpc",a.Y),a.m===null&&(a.g.H=a.o),a.g.O=0;var h=fn(a.qa);Se(h,"RID","rpc"),Se(h,"SID",a.K),Se(h,"AID",a.T),Se(h,"CI",a.F?"0":"1"),!a.F&&a.ja&&Se(h,"TO",a.ja),Se(h,"TYPE","xmlhttp"),lo(a,h),a.m&&a.o&&eu(h,a.m,a.o),a.L&&(a.g.I=a.L);var d=a.g;a=a.ia,d.L=1,d.v=ks(fn(h)),d.m=null,d.P=!0,Gf(d,a)}t.Za=function(){this.C!=null&&(this.C=null,Os(this),nu(this),gt(19))};function Ms(a){a.C!=null&&(l.clearTimeout(a.C),a.C=null)}function Ed(a,h){var d=null;if(a.g==h){Ms(a),ru(a),a.g=null;var g=2}else if(Jl(a.h,h))d=h.D,Zf(a.h,h),g=1;else return;if(a.G!=0){if(h.o)if(g==1){d=h.m?h.m.length:0,h=Date.now()-h.F;var V=a.B;g=Is(),Ge(g,new $f(g,d)),bs(a)}else _d(a);else if(V=h.s,V==3||V==0&&0<h.X||!(g==1&&j_(a,h)||g==2&&nu(a)))switch(d&&0<d.length&&(h=a.h,h.i=h.i.concat(d)),V){case 1:_r(a,5);break;case 4:_r(a,10);break;case 3:_r(a,6);break;default:_r(a,2)}}}function Td(a,h){let d=a.Ta+Math.floor(Math.random()*a.cb);return a.isActive()||(d*=2),d*h}function _r(a,h){if(a.j.info("Error code "+h),h==2){var d=m(a.fb,a),g=a.Xa;const V=!g;g=new vr(g||"//www.google.com/images/cleardot.gif"),l.location&&l.location.protocol=="http"||Ps(g,"https"),ks(g),V?N_(g.toString(),d):V_(g.toString(),d)}else gt(2);a.G=0,a.l&&a.l.sa(h),Sd(a),gd(a)}t.fb=function(a){a?(this.j.info("Successfully pinged google.com"),gt(2)):(this.j.info("Failed to ping google.com"),gt(1))};function Sd(a){if(a.G=0,a.ka=[],a.l){const h=ed(a.h);(h.length!=0||a.i.length!=0)&&(P(a.ka,h),P(a.ka,a.i),a.h.i.length=0,I(a.i),a.i.length=0),a.l.ra()}}function Id(a,h,d){var g=d instanceof vr?fn(d):new vr(d);if(g.g!="")h&&(g.g=h+"."+g.g),Rs(g,g.s);else{var V=l.location;g=V.protocol,h=h?h+"."+V.hostname:V.hostname,V=+V.port;var j=new vr(null);g&&Ps(j,g),h&&(j.g=h),V&&Rs(j,V),d&&(j.l=d),g=j}return d=a.D,h=a.ya,d&&h&&Se(g,d,h),Se(g,"VER",a.la),lo(a,g),g}function xd(a,h,d){if(h&&!a.J)throw Error("Can't create secondary domain capable XhrIo object.");return h=a.Ca&&!a.pa?new De(new Ns({eb:d})):new De(a.pa),h.Ha(a.J),h}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function Ad(){}t=Ad.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function Ls(){}Ls.prototype.g=function(a,h){return new Nt(a,h)};function Nt(a,h){Le.call(this),this.g=new md(h),this.l=a,this.h=h&&h.messageUrlParams||null,a=h&&h.messageHeaders||null,h&&h.clientProtocolHeaderRequired&&(a?a["X-Client-Protocol"]="webchannel":a={"X-Client-Protocol":"webchannel"}),this.g.o=a,a=h&&h.initMessageHeaders||null,h&&h.messageContentType&&(a?a["X-WebChannel-Content-Type"]=h.messageContentType:a={"X-WebChannel-Content-Type":h.messageContentType}),h&&h.va&&(a?a["X-WebChannel-Client-Profile"]=h.va:a={"X-WebChannel-Client-Profile":h.va}),this.g.S=a,(a=h&&h.Sb)&&!E(a)&&(this.g.m=a),this.v=h&&h.supportsCrossDomainXhr||!1,this.u=h&&h.sendRawJson||!1,(h=h&&h.httpSessionIdParam)&&!E(h)&&(this.g.D=h,a=this.h,a!==null&&h in a&&(a=this.h,h in a&&delete a[h])),this.j=new Yr(this)}v(Nt,Le),Nt.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Nt.prototype.close=function(){tu(this.g)},Nt.prototype.o=function(a){var h=this.g;if(typeof a=="string"){var d={};d.__data__=a,a=d}else this.u&&(d={},d.__data__=$l(a),a=d);h.i.push(new E_(h.Ya++,a)),h.G==3&&bs(h)},Nt.prototype.N=function(){this.g.l=null,delete this.j,tu(this.g),delete this.g,Nt.aa.N.call(this)};function Cd(a){Wl.call(this),a.__headers__&&(this.headers=a.__headers__,this.statusCode=a.__status__,delete a.__headers__,delete a.__status__);var h=a.__sm__;if(h){e:{for(const d in h){a=d;break e}a=void 0}(this.i=a)&&(a=this.i,h=h!==null&&a in h?h[a]:void 0),this.data=h}else this.data=a}v(Cd,Wl);function Pd(){Hl.call(this),this.status=1}v(Pd,Hl);function Yr(a){this.g=a}v(Yr,Ad),Yr.prototype.ua=function(){Ge(this.g,"a")},Yr.prototype.ta=function(a){Ge(this.g,new Cd(a))},Yr.prototype.sa=function(a){Ge(this.g,new Pd)},Yr.prototype.ra=function(){Ge(this.g,"b")},Ls.prototype.createWebChannel=Ls.prototype.g,Nt.prototype.send=Nt.prototype.o,Nt.prototype.open=Nt.prototype.m,Nt.prototype.close=Nt.prototype.close,qv=function(){return new Ls},$v=function(){return Is()},zv=gr,Bc={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},xs.NO_ERROR=0,xs.TIMEOUT=8,xs.HTTP_ERROR=6,va=xs,qf.COMPLETE="complete",Bv=qf,Ff.EventType=Xi,Xi.OPEN="a",Xi.CLOSE="b",Xi.ERROR="c",Xi.MESSAGE="d",Le.prototype.listen=Le.prototype.K,To=Ff,De.prototype.listenOnce=De.prototype.L,De.prototype.getLastError=De.prototype.Ka,De.prototype.getLastErrorCode=De.prototype.Ba,De.prototype.getStatus=De.prototype.Z,De.prototype.getResponseJson=De.prototype.Oa,De.prototype.getResponseText=De.prototype.oa,De.prototype.send=De.prototype.ea,De.prototype.setWithCredentials=De.prototype.Ha,Uv=De}).apply(typeof na<"u"?na:typeof self<"u"?self:typeof window<"u"?window:{});const lm="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ct{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}ct.UNAUTHENTICATED=new ct(null),ct.GOOGLE_CREDENTIALS=new ct("google-credentials-uid"),ct.FIRST_PARTY=new ct("first-party-uid"),ct.MOCK_USER=new ct("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let $i="11.0.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lr=new Dv("@firebase/firestore");function ei(){return Lr.logLevel}function K(t,...e){if(Lr.logLevel<=fe.DEBUG){const n=e.map(nf);Lr.debug(`Firestore (${$i}): ${t}`,...n)}}function xn(t,...e){if(Lr.logLevel<=fe.ERROR){const n=e.map(nf);Lr.error(`Firestore (${$i}): ${t}`,...n)}}function Ni(t,...e){if(Lr.logLevel<=fe.WARN){const n=e.map(nf);Lr.warn(`Firestore (${$i}): ${t}`,...n)}}function nf(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ie(t="Unexpected state"){const e=`FIRESTORE (${$i}) INTERNAL ASSERTION FAILED: `+t;throw xn(e),new Error(e)}function ve(t,e){t||ie()}function ae(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class X extends zi{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class er{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wv{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class cI{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(ct.UNAUTHENTICATED))}shutdown(){}}class hI{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class fI{constructor(e){this.t=e,this.currentUser=ct.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){ve(this.o===void 0);let r=this.i;const i=u=>this.i!==r?(r=this.i,n(u)):Promise.resolve();let o=new er;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new er,e.enqueueRetryable(()=>i(this.currentUser))};const s=()=>{const u=o;e.enqueueRetryable(async()=>{await u.promise,await i(this.currentUser)})},l=u=>{K("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=u,this.o&&(this.auth.addAuthTokenListener(this.o),s())};this.t.onInit(u=>l(u)),setTimeout(()=>{if(!this.auth){const u=this.t.getImmediate({optional:!0});u?l(u):(K("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new er)}},0),s()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(K("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(ve(typeof r.accessToken=="string"),new Wv(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return ve(e===null||typeof e=="string"),new ct(e)}}class dI{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=ct.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class pI{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new dI(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(ct.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class mI{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class gI{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){ve(this.o===void 0);const r=o=>{o.error!=null&&K("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const s=o.token!==this.R;return this.R=o.token,K("FirebaseAppCheckTokenProvider",`Received ${s?"new":"existing"} token.`),s?n(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>r(o))};const i=o=>{K("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(o=>i(o)),setTimeout(()=>{if(!this.appCheck){const o=this.A.getImmediate({optional:!0});o?i(o):K("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(ve(typeof n.token=="string"),this.R=n.token,new mI(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yI(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hv{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=yI(40);for(let o=0;o<i.length;++o)r.length<20&&i[o]<n&&(r+=e.charAt(i[o]%e.length))}return r}}function de(t,e){return t<e?-1:t>e?1:0}function Vi(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class He{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new X(B.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new X(B.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new X(B.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new X(B.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return He.fromMillis(Date.now())}static fromDate(e){return He.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new He(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?de(this.nanoseconds,e.nanoseconds):de(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oe{constructor(e){this.timestamp=e}static fromTimestamp(e){return new oe(e)}static min(){return new oe(new He(0,0))}static max(){return new oe(new He(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ss{constructor(e,n,r){n===void 0?n=0:n>e.length&&ie(),r===void 0?r=e.length-n:r>e.length-n&&ie(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return ss.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof ss?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const o=e.get(i),s=n.get(i);if(o<s)return-1;if(o>s)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class xe extends ss{construct(e,n,r){return new xe(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new X(B.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new xe(n)}static emptyPath(){return new xe([])}}const vI=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class tt extends ss{construct(e,n,r){return new tt(e,n,r)}static isValidIdentifier(e){return vI.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),tt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new tt(["__name__"])}static fromServerFormat(e){const n=[];let r="",i=0;const o=()=>{if(r.length===0)throw new X(B.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let s=!1;for(;i<e.length;){const l=e[i];if(l==="\\"){if(i+1===e.length)throw new X(B.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const u=e[i+1];if(u!=="\\"&&u!=="."&&u!=="`")throw new X(B.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=u,i+=2}else l==="`"?(s=!s,i++):l!=="."||s?(r+=l,i++):(o(),i++)}if(o(),s)throw new X(B.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new tt(n)}static emptyPath(){return new tt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class te{constructor(e){this.path=e}static fromPath(e){return new te(xe.fromString(e))}static fromName(e){return new te(xe.fromString(e).popFirst(5))}static empty(){return new te(xe.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&xe.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return xe.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new te(new xe(e.slice()))}}function _I(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=oe.fromTimestamp(r===1e9?new He(n+1,0):new He(n,r));return new ir(i,te.empty(),e)}function wI(t){return new ir(t.readTime,t.key,-1)}class ir{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new ir(oe.min(),te.empty(),-1)}static max(){return new ir(oe.max(),te.empty(),-1)}}function EI(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=te.comparator(t.documentKey,e.documentKey),n!==0?n:de(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TI="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class SI{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function qi(t){if(t.code!==B.FAILED_PRECONDITION||t.message!==TI)throw t;K("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&ie(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new U((r,i)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(r,i)},this.catchCallback=o=>{this.wrapFailure(n,o).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof U?n:U.resolve(n)}catch(n){return U.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):U.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):U.reject(n)}static resolve(e){return new U((n,r)=>{n(e)})}static reject(e){return new U((n,r)=>{r(e)})}static waitFor(e){return new U((n,r)=>{let i=0,o=0,s=!1;e.forEach(l=>{++i,l.next(()=>{++o,s&&o===i&&n()},u=>r(u))}),s=!0,o===i&&n()})}static or(e){let n=U.resolve(!1);for(const r of e)n=n.next(i=>i?U.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,o)=>{r.push(n.call(this,i,o))}),this.waitFor(r)}static mapArray(e,n){return new U((r,i)=>{const o=e.length,s=new Array(o);let l=0;for(let u=0;u<o;u++){const c=u;n(e[c]).next(f=>{s[c]=f,++l,l===o&&r(s)},f=>i(f))}})}static doWhile(e,n){return new U((r,i)=>{const o=()=>{e()===!0?n().next(()=>{o()},i):r()};o()})}}function II(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Wi(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kl{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ie(r),this.se=r=>n.writeSequenceNumber(r))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}kl.oe=-1;function Nl(t){return t==null}function tl(t){return t===0&&1/t==-1/0}function xI(t){return typeof t=="number"&&Number.isInteger(t)&&!tl(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AI(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=um(e)),e=CI(t.get(n),e);return um(e)}function CI(t,e){let n=e;const r=t.length;for(let i=0;i<r;i++){const o=t.charAt(i);switch(o){case"\0":n+="";break;case"":n+="";break;default:n+=o}}return n}function um(t){return t+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cm(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function zr(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function Gv(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ve{constructor(e,n){this.comparator=e,this.root=n||et.EMPTY}insert(e,n){return new Ve(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,et.BLACK,null,null))}remove(e){return new Ve(this.comparator,this.root.remove(e,this.comparator).copy(null,null,et.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new ra(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new ra(this.root,e,this.comparator,!1)}getReverseIterator(){return new ra(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new ra(this.root,e,this.comparator,!0)}}class ra{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=n?r(e.key,n):1,n&&i&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class et{constructor(e,n,r,i,o){this.key=e,this.value=n,this.color=r??et.RED,this.left=i??et.EMPTY,this.right=o??et.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,o){return new et(e??this.key,n??this.value,r??this.color,i??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const o=r(e,i.key);return i=o<0?i.copy(null,null,null,i.left.insert(e,n,r),null):o===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return et.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return et.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,et.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,et.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw ie();const e=this.left.check();if(e!==this.right.check())throw ie();return e+(this.isRed()?0:1)}}et.EMPTY=null,et.RED=!0,et.BLACK=!1;et.EMPTY=new class{constructor(){this.size=0}get key(){throw ie()}get value(){throw ie()}get color(){throw ie()}get left(){throw ie()}get right(){throw ie()}copy(e,n,r,i,o){return this}insert(e,n,r){return new et(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xe{constructor(e){this.comparator=e,this.data=new Ve(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new hm(this.data.getIterator())}getIteratorFrom(e){return new hm(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof Xe)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,o=r.getNext().key;if(this.comparator(i,o)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new Xe(this.comparator);return n.data=e,n}}class hm{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jt{constructor(e){this.fields=e,e.sort(tt.comparator)}static empty(){return new Jt([])}unionWith(e){let n=new Xe(tt.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new Jt(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Vi(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qv extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class it{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(i){try{return atob(i)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new Qv("Invalid base64 string: "+o):o}}(e);return new it(n)}static fromUint8Array(e){const n=function(i){let o="";for(let s=0;s<i.length;++s)o+=String.fromCharCode(i[s]);return o}(e);return new it(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return de(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}it.EMPTY_BYTE_STRING=new it("");const PI=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function or(t){if(ve(!!t),typeof t=="string"){let e=0;const n=PI.exec(t);if(ve(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:be(t.seconds),nanos:be(t.nanos)}}function be(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function sr(t){return typeof t=="string"?it.fromBase64String(t):it.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rf(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function Vl(t){const e=t.mapValue.fields.__previous_value__;return rf(e)?Vl(e):e}function as(t){const e=or(t.mapValue.fields.__local_write_time__.timestampValue);return new He(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RI{constructor(e,n,r,i,o,s,l,u,c){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=o,this.forceLongPolling=s,this.autoDetectLongPolling=l,this.longPollingOptions=u,this.useFetchStreams=c}}class ls{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new ls("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof ls&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ia={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function ar(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?rf(t)?4:NI(t)?9007199254740991:kI(t)?10:11:ie()}function hn(t,e){if(t===e)return!0;const n=ar(t);if(n!==ar(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return as(t).isEqual(as(e));case 3:return function(i,o){if(typeof i.timestampValue=="string"&&typeof o.timestampValue=="string"&&i.timestampValue.length===o.timestampValue.length)return i.timestampValue===o.timestampValue;const s=or(i.timestampValue),l=or(o.timestampValue);return s.seconds===l.seconds&&s.nanos===l.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,o){return sr(i.bytesValue).isEqual(sr(o.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,o){return be(i.geoPointValue.latitude)===be(o.geoPointValue.latitude)&&be(i.geoPointValue.longitude)===be(o.geoPointValue.longitude)}(t,e);case 2:return function(i,o){if("integerValue"in i&&"integerValue"in o)return be(i.integerValue)===be(o.integerValue);if("doubleValue"in i&&"doubleValue"in o){const s=be(i.doubleValue),l=be(o.doubleValue);return s===l?tl(s)===tl(l):isNaN(s)&&isNaN(l)}return!1}(t,e);case 9:return Vi(t.arrayValue.values||[],e.arrayValue.values||[],hn);case 10:case 11:return function(i,o){const s=i.mapValue.fields||{},l=o.mapValue.fields||{};if(cm(s)!==cm(l))return!1;for(const u in s)if(s.hasOwnProperty(u)&&(l[u]===void 0||!hn(s[u],l[u])))return!1;return!0}(t,e);default:return ie()}}function us(t,e){return(t.values||[]).find(n=>hn(n,e))!==void 0}function Di(t,e){if(t===e)return 0;const n=ar(t),r=ar(e);if(n!==r)return de(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return de(t.booleanValue,e.booleanValue);case 2:return function(o,s){const l=be(o.integerValue||o.doubleValue),u=be(s.integerValue||s.doubleValue);return l<u?-1:l>u?1:l===u?0:isNaN(l)?isNaN(u)?0:-1:1}(t,e);case 3:return fm(t.timestampValue,e.timestampValue);case 4:return fm(as(t),as(e));case 5:return de(t.stringValue,e.stringValue);case 6:return function(o,s){const l=sr(o),u=sr(s);return l.compareTo(u)}(t.bytesValue,e.bytesValue);case 7:return function(o,s){const l=o.split("/"),u=s.split("/");for(let c=0;c<l.length&&c<u.length;c++){const f=de(l[c],u[c]);if(f!==0)return f}return de(l.length,u.length)}(t.referenceValue,e.referenceValue);case 8:return function(o,s){const l=de(be(o.latitude),be(s.latitude));return l!==0?l:de(be(o.longitude),be(s.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return dm(t.arrayValue,e.arrayValue);case 10:return function(o,s){var l,u,c,f;const p=o.fields||{},m=s.fields||{},_=(l=p.value)===null||l===void 0?void 0:l.arrayValue,v=(u=m.value)===null||u===void 0?void 0:u.arrayValue,I=de(((c=_==null?void 0:_.values)===null||c===void 0?void 0:c.length)||0,((f=v==null?void 0:v.values)===null||f===void 0?void 0:f.length)||0);return I!==0?I:dm(_,v)}(t.mapValue,e.mapValue);case 11:return function(o,s){if(o===ia.mapValue&&s===ia.mapValue)return 0;if(o===ia.mapValue)return 1;if(s===ia.mapValue)return-1;const l=o.fields||{},u=Object.keys(l),c=s.fields||{},f=Object.keys(c);u.sort(),f.sort();for(let p=0;p<u.length&&p<f.length;++p){const m=de(u[p],f[p]);if(m!==0)return m;const _=Di(l[u[p]],c[f[p]]);if(_!==0)return _}return de(u.length,f.length)}(t.mapValue,e.mapValue);default:throw ie()}}function fm(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return de(t,e);const n=or(t),r=or(e),i=de(n.seconds,r.seconds);return i!==0?i:de(n.nanos,r.nanos)}function dm(t,e){const n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){const o=Di(n[i],r[i]);if(o)return o}return de(n.length,r.length)}function Oi(t){return zc(t)}function zc(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=or(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return sr(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return te.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(const o of n.values||[])i?i=!1:r+=",",r+=zc(o);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let i="{",o=!0;for(const s of r)o?o=!1:i+=",",i+=`${s}:${zc(n.fields[s])}`;return i+"}"}(t.mapValue):ie()}function _a(t){switch(ar(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Vl(t);return e?16+_a(e):16;case 5:return 2*t.stringValue.length;case 6:return sr(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((i,o)=>i+_a(o),0)}(t.arrayValue);case 10:case 11:return function(r){let i=0;return zr(r.fields,(o,s)=>{i+=o.length+_a(s)}),i}(t.mapValue);default:throw ie()}}function pm(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function $c(t){return!!t&&"integerValue"in t}function of(t){return!!t&&"arrayValue"in t}function mm(t){return!!t&&"nullValue"in t}function gm(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function wa(t){return!!t&&"mapValue"in t}function kI(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="__vector__"}function bo(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return zr(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=bo(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=bo(t.arrayValue.values[n]);return e}return Object.assign({},t)}function NI(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zt{constructor(e){this.value=e}static empty(){return new zt({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!wa(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=bo(n)}setAll(e){let n=tt.emptyPath(),r={},i=[];e.forEach((s,l)=>{if(!n.isImmediateParentOf(l)){const u=this.getFieldsMap(n);this.applyChanges(u,r,i),r={},i=[],n=l.popLast()}s?r[l.lastSegment()]=bo(s):i.push(l.lastSegment())});const o=this.getFieldsMap(n);this.applyChanges(o,r,i)}delete(e){const n=this.field(e.popLast());wa(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return hn(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];wa(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){zr(n,(i,o)=>e[i]=o);for(const i of r)delete e[i]}clone(){return new zt(bo(this.value))}}function Kv(t){const e=[];return zr(t.fields,(n,r)=>{const i=new tt([n]);if(wa(r)){const o=Kv(r.mapValue).fields;if(o.length===0)e.push(i);else for(const s of o)e.push(i.child(s))}else e.push(i)}),new Jt(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ft{constructor(e,n,r,i,o,s,l){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=o,this.data=s,this.documentState=l}static newInvalidDocument(e){return new ft(e,0,oe.min(),oe.min(),oe.min(),zt.empty(),0)}static newFoundDocument(e,n,r,i){return new ft(e,1,n,oe.min(),r,i,0)}static newNoDocument(e,n){return new ft(e,2,n,oe.min(),oe.min(),zt.empty(),0)}static newUnknownDocument(e,n){return new ft(e,3,n,oe.min(),oe.min(),zt.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(oe.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=zt.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=zt.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=oe.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof ft&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new ft(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nl{constructor(e,n){this.position=e,this.inclusive=n}}function ym(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const o=e[i],s=t.position[i];if(o.field.isKeyField()?r=te.comparator(te.fromName(s.referenceValue),n.key):r=Di(s,n.data.field(o.field)),o.dir==="desc"&&(r*=-1),r!==0)break}return r}function vm(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!hn(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cs{constructor(e,n="asc"){this.field=e,this.dir=n}}function VI(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yv{}class Ue extends Yv{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new OI(e,n,r):n==="array-contains"?new LI(e,r):n==="in"?new jI(e,r):n==="not-in"?new FI(e,r):n==="array-contains-any"?new UI(e,r):new Ue(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new bI(e,r):new MI(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(Di(n,this.value)):n!==null&&ar(this.value)===ar(n)&&this.matchesComparison(Di(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return ie()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class nn extends Yv{constructor(e,n){super(),this.filters=e,this.op=n,this.ae=null}static create(e,n){return new nn(e,n)}matches(e){return Xv(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function Xv(t){return t.op==="and"}function Jv(t){return DI(t)&&Xv(t)}function DI(t){for(const e of t.filters)if(e instanceof nn)return!1;return!0}function qc(t){if(t instanceof Ue)return t.field.canonicalString()+t.op.toString()+Oi(t.value);if(Jv(t))return t.filters.map(e=>qc(e)).join(",");{const e=t.filters.map(n=>qc(n)).join(",");return`${t.op}(${e})`}}function Zv(t,e){return t instanceof Ue?function(r,i){return i instanceof Ue&&r.op===i.op&&r.field.isEqual(i.field)&&hn(r.value,i.value)}(t,e):t instanceof nn?function(r,i){return i instanceof nn&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((o,s,l)=>o&&Zv(s,i.filters[l]),!0):!1}(t,e):void ie()}function e0(t){return t instanceof Ue?function(n){return`${n.field.canonicalString()} ${n.op} ${Oi(n.value)}`}(t):t instanceof nn?function(n){return n.op.toString()+" {"+n.getFilters().map(e0).join(" ,")+"}"}(t):"Filter"}class OI extends Ue{constructor(e,n,r){super(e,n,r),this.key=te.fromName(r.referenceValue)}matches(e){const n=te.comparator(e.key,this.key);return this.matchesComparison(n)}}class bI extends Ue{constructor(e,n){super(e,"in",n),this.keys=t0("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class MI extends Ue{constructor(e,n){super(e,"not-in",n),this.keys=t0("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function t0(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>te.fromName(r.referenceValue))}class LI extends Ue{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return of(n)&&us(n.arrayValue,this.value)}}class jI extends Ue{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&us(this.value.arrayValue,n)}}class FI extends Ue{constructor(e,n){super(e,"not-in",n)}matches(e){if(us(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!us(this.value.arrayValue,n)}}class UI extends Ue{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!of(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>us(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BI{constructor(e,n=null,r=[],i=[],o=null,s=null,l=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=o,this.startAt=s,this.endAt=l,this.ue=null}}function _m(t,e=null,n=[],r=[],i=null,o=null,s=null){return new BI(t,e,n,r,i,o,s)}function sf(t){const e=ae(t);if(e.ue===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>qc(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(o){return o.field.canonicalString()+o.dir}(r)).join(","),Nl(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>Oi(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>Oi(r)).join(",")),e.ue=n}return e.ue}function af(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!VI(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!Zv(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!vm(t.startAt,e.startAt)&&vm(t.endAt,e.endAt)}function Wc(t){return te.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hi{constructor(e,n=null,r=[],i=[],o=null,s="F",l=null,u=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=o,this.limitType=s,this.startAt=l,this.endAt=u,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function zI(t,e,n,r,i,o,s,l){return new Hi(t,e,n,r,i,o,s,l)}function lf(t){return new Hi(t)}function wm(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function n0(t){return t.collectionGroup!==null}function Mo(t){const e=ae(t);if(e.ce===null){e.ce=[];const n=new Set;for(const o of e.explicitOrderBy)e.ce.push(o),n.add(o.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(s){let l=new Xe(tt.comparator);return s.filters.forEach(u=>{u.getFlattenedFilters().forEach(c=>{c.isInequality()&&(l=l.add(c.field))})}),l})(e).forEach(o=>{n.has(o.canonicalString())||o.isKeyField()||e.ce.push(new cs(o,r))}),n.has(tt.keyField().canonicalString())||e.ce.push(new cs(tt.keyField(),r))}return e.ce}function un(t){const e=ae(t);return e.le||(e.le=$I(e,Mo(t))),e.le}function $I(t,e){if(t.limitType==="F")return _m(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{const o=i.dir==="desc"?"asc":"desc";return new cs(i.field,o)});const n=t.endAt?new nl(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new nl(t.startAt.position,t.startAt.inclusive):null;return _m(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function Hc(t,e){const n=t.filters.concat([e]);return new Hi(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function Gc(t,e,n){return new Hi(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Dl(t,e){return af(un(t),un(e))&&t.limitType===e.limitType}function r0(t){return`${sf(un(t))}|lt:${t.limitType}`}function ti(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>e0(i)).join(", ")}]`),Nl(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(s){return`${s.field.canonicalString()} (${s.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>Oi(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>Oi(i)).join(",")),`Target(${r})`}(un(t))}; limitType=${t.limitType})`}function Ol(t,e){return e.isFoundDocument()&&function(r,i){const o=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(o):te.isDocumentKey(r.path)?r.path.isEqual(o):r.path.isImmediateParentOf(o)}(t,e)&&function(r,i){for(const o of Mo(r))if(!o.field.isKeyField()&&i.data.field(o.field)===null)return!1;return!0}(t,e)&&function(r,i){for(const o of r.filters)if(!o.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(s,l,u){const c=ym(s,l,u);return s.inclusive?c<=0:c<0}(r.startAt,Mo(r),i)||r.endAt&&!function(s,l,u){const c=ym(s,l,u);return s.inclusive?c>=0:c>0}(r.endAt,Mo(r),i))}(t,e)}function qI(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function i0(t){return(e,n)=>{let r=!1;for(const i of Mo(t)){const o=WI(i,e,n);if(o!==0)return o;r=r||i.field.isKeyField()}return 0}}function WI(t,e,n){const r=t.field.isKeyField()?te.comparator(e.key,n.key):function(o,s,l){const u=s.data.field(o),c=l.data.field(o);return u!==null&&c!==null?Di(u,c):ie()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return ie()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $r{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,o]of r)if(this.equalsFn(i,e))return o}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return void(i[o]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){zr(this.inner,(n,r)=>{for(const[i,o]of r)e(i,o)})}isEmpty(){return Gv(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HI=new Ve(te.comparator);function An(){return HI}const o0=new Ve(te.comparator);function So(...t){let e=o0;for(const n of t)e=e.insert(n.key,n);return e}function s0(t){let e=o0;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function Ar(){return Lo()}function a0(){return Lo()}function Lo(){return new $r(t=>t.toString(),(t,e)=>t.isEqual(e))}const GI=new Ve(te.comparator),QI=new Xe(te.comparator);function ue(...t){let e=QI;for(const n of t)e=e.add(n);return e}const KI=new Xe(de);function YI(){return KI}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uf(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:tl(e)?"-0":e}}function l0(t){return{integerValue:""+t}}function XI(t,e){return xI(e)?l0(e):uf(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bl{constructor(){this._=void 0}}function JI(t,e,n){return t instanceof rl?function(i,o){const s={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return o&&rf(o)&&(o=Vl(o)),o&&(s.fields.__previous_value__=o),{mapValue:s}}(n,e):t instanceof hs?c0(t,e):t instanceof fs?h0(t,e):function(i,o){const s=u0(i,o),l=Em(s)+Em(i.Pe);return $c(s)&&$c(i.Pe)?l0(l):uf(i.serializer,l)}(t,e)}function ZI(t,e,n){return t instanceof hs?c0(t,e):t instanceof fs?h0(t,e):n}function u0(t,e){return t instanceof il?function(r){return $c(r)||function(o){return!!o&&"doubleValue"in o}(r)}(e)?e:{integerValue:0}:null}class rl extends bl{}class hs extends bl{constructor(e){super(),this.elements=e}}function c0(t,e){const n=f0(e);for(const r of t.elements)n.some(i=>hn(i,r))||n.push(r);return{arrayValue:{values:n}}}class fs extends bl{constructor(e){super(),this.elements=e}}function h0(t,e){let n=f0(e);for(const r of t.elements)n=n.filter(i=>!hn(i,r));return{arrayValue:{values:n}}}class il extends bl{constructor(e,n){super(),this.serializer=e,this.Pe=n}}function Em(t){return be(t.integerValue||t.doubleValue)}function f0(t){return of(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function ex(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof hs&&i instanceof hs||r instanceof fs&&i instanceof fs?Vi(r.elements,i.elements,hn):r instanceof il&&i instanceof il?hn(r.Pe,i.Pe):r instanceof rl&&i instanceof rl}(t.transform,e.transform)}class tx{constructor(e,n){this.version=e,this.transformResults=n}}class _n{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new _n}static exists(e){return new _n(void 0,e)}static updateTime(e){return new _n(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Ea(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Ml{}function d0(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new m0(t.key,_n.none()):new ws(t.key,t.data,_n.none());{const n=t.data,r=zt.empty();let i=new Xe(tt.comparator);for(let o of e.fields)if(!i.has(o)){let s=n.field(o);s===null&&o.length>1&&(o=o.popLast(),s=n.field(o)),s===null?r.delete(o):r.set(o,s),i=i.add(o)}return new qr(t.key,r,new Jt(i.toArray()),_n.none())}}function nx(t,e,n){t instanceof ws?function(i,o,s){const l=i.value.clone(),u=Sm(i.fieldTransforms,o,s.transformResults);l.setAll(u),o.convertToFoundDocument(s.version,l).setHasCommittedMutations()}(t,e,n):t instanceof qr?function(i,o,s){if(!Ea(i.precondition,o))return void o.convertToUnknownDocument(s.version);const l=Sm(i.fieldTransforms,o,s.transformResults),u=o.data;u.setAll(p0(i)),u.setAll(l),o.convertToFoundDocument(s.version,u).setHasCommittedMutations()}(t,e,n):function(i,o,s){o.convertToNoDocument(s.version).setHasCommittedMutations()}(0,e,n)}function jo(t,e,n,r){return t instanceof ws?function(o,s,l,u){if(!Ea(o.precondition,s))return l;const c=o.value.clone(),f=Im(o.fieldTransforms,u,s);return c.setAll(f),s.convertToFoundDocument(s.version,c).setHasLocalMutations(),null}(t,e,n,r):t instanceof qr?function(o,s,l,u){if(!Ea(o.precondition,s))return l;const c=Im(o.fieldTransforms,u,s),f=s.data;return f.setAll(p0(o)),f.setAll(c),s.convertToFoundDocument(s.version,f).setHasLocalMutations(),l===null?null:l.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(p=>p.field))}(t,e,n,r):function(o,s,l){return Ea(o.precondition,s)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):l}(t,e,n)}function rx(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),o=u0(r.transform,i||null);o!=null&&(n===null&&(n=zt.empty()),n.set(r.field,o))}return n||null}function Tm(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&Vi(r,i,(o,s)=>ex(o,s))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class ws extends Ml{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class qr extends Ml{constructor(e,n,r,i,o=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}function p0(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function Sm(t,e,n){const r=new Map;ve(t.length===n.length);for(let i=0;i<n.length;i++){const o=t[i],s=o.transform,l=e.data.field(o.field);r.set(o.field,ZI(s,l,n[i]))}return r}function Im(t,e,n){const r=new Map;for(const i of t){const o=i.transform,s=n.data.field(i.field);r.set(i.field,JI(o,s,e))}return r}class m0 extends Ml{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class ix extends Ml{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ox{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const o=this.mutations[i];o.key.isEqual(e.key)&&nx(o,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=jo(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=jo(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=a0();return this.mutations.forEach(i=>{const o=e.get(i.key),s=o.overlayedDocument;let l=this.applyToLocalView(s,o.mutatedFields);l=n.has(i.key)?null:l;const u=d0(s,l);u!==null&&r.set(i.key,u),s.isValidDocument()||s.convertToNoDocument(oe.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),ue())}isEqual(e){return this.batchId===e.batchId&&Vi(this.mutations,e.mutations,(n,r)=>Tm(n,r))&&Vi(this.baseMutations,e.baseMutations,(n,r)=>Tm(n,r))}}class cf{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){ve(e.mutations.length===r.length);let i=function(){return GI}();const o=e.mutations;for(let s=0;s<o.length;s++)i=i.insert(o[s].key,r[s].version);return new cf(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sx{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ax{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var je,he;function lx(t){switch(t){default:return ie();case B.CANCELLED:case B.UNKNOWN:case B.DEADLINE_EXCEEDED:case B.RESOURCE_EXHAUSTED:case B.INTERNAL:case B.UNAVAILABLE:case B.UNAUTHENTICATED:return!1;case B.INVALID_ARGUMENT:case B.NOT_FOUND:case B.ALREADY_EXISTS:case B.PERMISSION_DENIED:case B.FAILED_PRECONDITION:case B.ABORTED:case B.OUT_OF_RANGE:case B.UNIMPLEMENTED:case B.DATA_LOSS:return!0}}function g0(t){if(t===void 0)return xn("GRPC error has no .code"),B.UNKNOWN;switch(t){case je.OK:return B.OK;case je.CANCELLED:return B.CANCELLED;case je.UNKNOWN:return B.UNKNOWN;case je.DEADLINE_EXCEEDED:return B.DEADLINE_EXCEEDED;case je.RESOURCE_EXHAUSTED:return B.RESOURCE_EXHAUSTED;case je.INTERNAL:return B.INTERNAL;case je.UNAVAILABLE:return B.UNAVAILABLE;case je.UNAUTHENTICATED:return B.UNAUTHENTICATED;case je.INVALID_ARGUMENT:return B.INVALID_ARGUMENT;case je.NOT_FOUND:return B.NOT_FOUND;case je.ALREADY_EXISTS:return B.ALREADY_EXISTS;case je.PERMISSION_DENIED:return B.PERMISSION_DENIED;case je.FAILED_PRECONDITION:return B.FAILED_PRECONDITION;case je.ABORTED:return B.ABORTED;case je.OUT_OF_RANGE:return B.OUT_OF_RANGE;case je.UNIMPLEMENTED:return B.UNIMPLEMENTED;case je.DATA_LOSS:return B.DATA_LOSS;default:return ie()}}(he=je||(je={}))[he.OK=0]="OK",he[he.CANCELLED=1]="CANCELLED",he[he.UNKNOWN=2]="UNKNOWN",he[he.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",he[he.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",he[he.NOT_FOUND=5]="NOT_FOUND",he[he.ALREADY_EXISTS=6]="ALREADY_EXISTS",he[he.PERMISSION_DENIED=7]="PERMISSION_DENIED",he[he.UNAUTHENTICATED=16]="UNAUTHENTICATED",he[he.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",he[he.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",he[he.ABORTED=10]="ABORTED",he[he.OUT_OF_RANGE=11]="OUT_OF_RANGE",he[he.UNIMPLEMENTED=12]="UNIMPLEMENTED",he[he.INTERNAL=13]="INTERNAL",he[he.UNAVAILABLE=14]="UNAVAILABLE",he[he.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ux(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cx=new Rr([4294967295,4294967295],0);function xm(t){const e=ux().encode(t),n=new Fv;return n.update(e),new Uint8Array(n.digest())}function Am(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new Rr([n,r],0),new Rr([i,o],0)]}class hf{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Io(`Invalid padding: ${n}`);if(r<0)throw new Io(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Io(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new Io(`Invalid padding when bitmap length is 0: ${n}`);this.Ie=8*e.length-n,this.Te=Rr.fromNumber(this.Ie)}Ee(e,n,r){let i=e.add(n.multiply(Rr.fromNumber(r)));return i.compare(cx)===1&&(i=new Rr([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Te).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Ie===0)return!1;const n=xm(e),[r,i]=Am(n);for(let o=0;o<this.hashCount;o++){const s=this.Ee(r,i,o);if(!this.de(s))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),s=new hf(o,i,n);return r.forEach(l=>s.insert(l)),s}insert(e){if(this.Ie===0)return;const n=xm(e),[r,i]=Am(n);for(let o=0;o<this.hashCount;o++){const s=this.Ee(r,i,o);this.Ae(s)}}Ae(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class Io extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ll{constructor(e,n,r,i,o){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,Es.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new Ll(oe.min(),i,new Ve(de),An(),ue())}}class Es{constructor(e,n,r,i,o){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new Es(r,n,ue(),ue(),ue())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ta{constructor(e,n,r,i){this.Re=e,this.removedTargetIds=n,this.key=r,this.Ve=i}}class y0{constructor(e,n){this.targetId=e,this.me=n}}class v0{constructor(e,n,r=it.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class Cm{constructor(){this.fe=0,this.ge=Rm(),this.pe=it.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=ue(),n=ue(),r=ue();return this.ge.forEach((i,o)=>{switch(o){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:ie()}}),new Es(this.pe,this.ye,e,n,r)}Ce(){this.we=!1,this.ge=Rm()}Fe(e,n){this.we=!0,this.ge=this.ge.insert(e,n)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,ve(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class hx{constructor(e){this.Le=e,this.Be=new Map,this.ke=An(),this.qe=Pm(),this.Qe=new Ve(de)}Ke(e){for(const n of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(n,e.Ve):this.Ue(n,e.key,e.Ve);for(const n of e.removedTargetIds)this.Ue(n,e.key,e.Ve)}We(e){this.forEachTarget(e,n=>{const r=this.Ge(n);switch(e.state){case 0:this.ze(n)&&r.De(e.resumeToken);break;case 1:r.Oe(),r.Se||r.Ce(),r.De(e.resumeToken);break;case 2:r.Oe(),r.Se||this.removeTarget(n);break;case 3:this.ze(n)&&(r.Ne(),r.De(e.resumeToken));break;case 4:this.ze(n)&&(this.je(n),r.De(e.resumeToken));break;default:ie()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Be.forEach((r,i)=>{this.ze(i)&&n(i)})}He(e){const n=e.targetId,r=e.me.count,i=this.Je(n);if(i){const o=i.target;if(Wc(o))if(r===0){const s=new te(o.path);this.Ue(n,s,ft.newNoDocument(s,oe.min()))}else ve(r===1);else{const s=this.Ye(n);if(s!==r){const l=this.Ze(e),u=l?this.Xe(l,e,s):1;if(u!==0){this.je(n);const c=u===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(n,c)}}}}}Ze(e){const n=e.me.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:o=0}=n;let s,l;try{s=sr(r).toUint8Array()}catch(u){if(u instanceof Qv)return Ni("Decoding the base64 bloom filter in existence filter failed ("+u.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw u}try{l=new hf(s,i,o)}catch(u){return Ni(u instanceof Io?"BloomFilter error: ":"Applying bloom filter failed: ",u),null}return l.Ie===0?null:l}Xe(e,n,r){return n.me.count===r-this.nt(e,n.targetId)?0:2}nt(e,n){const r=this.Le.getRemoteKeysForTarget(n);let i=0;return r.forEach(o=>{const s=this.Le.tt(),l=`projects/${s.projectId}/databases/${s.database}/documents/${o.path.canonicalString()}`;e.mightContain(l)||(this.Ue(n,o,null),i++)}),i}rt(e){const n=new Map;this.Be.forEach((o,s)=>{const l=this.Je(s);if(l){if(o.current&&Wc(l.target)){const u=new te(l.target.path);this.ke.get(u)!==null||this.it(s,u)||this.Ue(s,u,ft.newNoDocument(u,e))}o.be&&(n.set(s,o.ve()),o.Ce())}});let r=ue();this.qe.forEach((o,s)=>{let l=!0;s.forEachWhile(u=>{const c=this.Je(u);return!c||c.purpose==="TargetPurposeLimboResolution"||(l=!1,!1)}),l&&(r=r.add(o))}),this.ke.forEach((o,s)=>s.setReadTime(e));const i=new Ll(e,n,this.Qe,this.ke,r);return this.ke=An(),this.qe=Pm(),this.Qe=new Ve(de),i}$e(e,n){if(!this.ze(e))return;const r=this.it(e,n.key)?2:0;this.Ge(e).Fe(n.key,r),this.ke=this.ke.insert(n.key,n),this.qe=this.qe.insert(n.key,this.st(n.key).add(e))}Ue(e,n,r){if(!this.ze(e))return;const i=this.Ge(e);this.it(e,n)?i.Fe(n,1):i.Me(n),this.qe=this.qe.insert(n,this.st(n).delete(e)),r&&(this.ke=this.ke.insert(n,r))}removeTarget(e){this.Be.delete(e)}Ye(e){const n=this.Ge(e).ve();return this.Le.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let n=this.Be.get(e);return n||(n=new Cm,this.Be.set(e,n)),n}st(e){let n=this.qe.get(e);return n||(n=new Xe(de),this.qe=this.qe.insert(e,n)),n}ze(e){const n=this.Je(e)!==null;return n||K("WatchChangeAggregator","Detected inactive target",e),n}Je(e){const n=this.Be.get(e);return n&&n.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new Cm),this.Le.getRemoteKeysForTarget(e).forEach(n=>{this.Ue(e,n,null)})}it(e,n){return this.Le.getRemoteKeysForTarget(e).has(n)}}function Pm(){return new Ve(te.comparator)}function Rm(){return new Ve(te.comparator)}const fx={asc:"ASCENDING",desc:"DESCENDING"},dx={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},px={and:"AND",or:"OR"};class mx{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Qc(t,e){return t.useProto3Json||Nl(e)?e:{value:e}}function ol(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function _0(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function gx(t,e){return ol(t,e.toTimestamp())}function cn(t){return ve(!!t),oe.fromTimestamp(function(n){const r=or(n);return new He(r.seconds,r.nanos)}(t))}function ff(t,e){return Kc(t,e).canonicalString()}function Kc(t,e){const n=function(i){return new xe(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?n:n.child(e)}function w0(t){const e=xe.fromString(t);return ve(x0(e)),e}function Yc(t,e){return ff(t.databaseId,e.path)}function Mu(t,e){const n=w0(e);if(n.get(1)!==t.databaseId.projectId)throw new X(B.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new X(B.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new te(T0(n))}function E0(t,e){return ff(t.databaseId,e)}function yx(t){const e=w0(t);return e.length===4?xe.emptyPath():T0(e)}function Xc(t){return new xe(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function T0(t){return ve(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function km(t,e,n){return{name:Yc(t,e),fields:n.value.mapValue.fields}}function vx(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(c){return c==="NO_CHANGE"?0:c==="ADD"?1:c==="REMOVE"?2:c==="CURRENT"?3:c==="RESET"?4:ie()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],o=function(c,f){return c.useProto3Json?(ve(f===void 0||typeof f=="string"),it.fromBase64String(f||"")):(ve(f===void 0||f instanceof Buffer||f instanceof Uint8Array),it.fromUint8Array(f||new Uint8Array))}(t,e.targetChange.resumeToken),s=e.targetChange.cause,l=s&&function(c){const f=c.code===void 0?B.UNKNOWN:g0(c.code);return new X(f,c.message||"")}(s);n=new v0(r,i,o,l||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=Mu(t,r.document.name),o=cn(r.document.updateTime),s=r.document.createTime?cn(r.document.createTime):oe.min(),l=new zt({mapValue:{fields:r.document.fields}}),u=ft.newFoundDocument(i,o,s,l),c=r.targetIds||[],f=r.removedTargetIds||[];n=new Ta(c,f,u.key,u)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=Mu(t,r.document),o=r.readTime?cn(r.readTime):oe.min(),s=ft.newNoDocument(i,o),l=r.removedTargetIds||[];n=new Ta([],l,s.key,s)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=Mu(t,r.document),o=r.removedTargetIds||[];n=new Ta([],o,i,null)}else{if(!("filter"in e))return ie();{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:o}=r,s=new ax(i,o),l=r.targetId;n=new y0(l,s)}}return n}function _x(t,e){let n;if(e instanceof ws)n={update:km(t,e.key,e.value)};else if(e instanceof m0)n={delete:Yc(t,e.key)};else if(e instanceof qr)n={update:km(t,e.key,e.data),updateMask:Px(e.fieldMask)};else{if(!(e instanceof ix))return ie();n={verify:Yc(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(o,s){const l=s.transform;if(l instanceof rl)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(l instanceof hs)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:l.elements}};if(l instanceof fs)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:l.elements}};if(l instanceof il)return{fieldPath:s.field.canonicalString(),increment:l.Pe};throw ie()}(0,r))),e.precondition.isNone||(n.currentDocument=function(i,o){return o.updateTime!==void 0?{updateTime:gx(i,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:ie()}(t,e.precondition)),n}function wx(t,e){return t&&t.length>0?(ve(e!==void 0),t.map(n=>function(i,o){let s=i.updateTime?cn(i.updateTime):cn(o);return s.isEqual(oe.min())&&(s=cn(o)),new tx(s,i.transformResults||[])}(n,e))):[]}function Ex(t,e){return{documents:[E0(t,e.path)]}}function Tx(t,e){const n={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=E0(t,i);const o=function(c){if(c.length!==0)return I0(nn.create(c,"and"))}(e.filters);o&&(n.structuredQuery.where=o);const s=function(c){if(c.length!==0)return c.map(f=>function(m){return{field:ni(m.field),direction:xx(m.dir)}}(f))}(e.orderBy);s&&(n.structuredQuery.orderBy=s);const l=Qc(t,e.limit);return l!==null&&(n.structuredQuery.limit=l),e.startAt&&(n.structuredQuery.startAt=function(c){return{before:c.inclusive,values:c.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(c){return{before:!c.inclusive,values:c.position}}(e.endAt)),{_t:n,parent:i}}function Sx(t){let e=yx(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){ve(r===1);const f=n.from[0];f.allDescendants?i=f.collectionId:e=e.child(f.collectionId)}let o=[];n.where&&(o=function(p){const m=S0(p);return m instanceof nn&&Jv(m)?m.getFilters():[m]}(n.where));let s=[];n.orderBy&&(s=function(p){return p.map(m=>function(v){return new cs(ri(v.field),function(P){switch(P){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(v.direction))}(m))}(n.orderBy));let l=null;n.limit&&(l=function(p){let m;return m=typeof p=="object"?p.value:p,Nl(m)?null:m}(n.limit));let u=null;n.startAt&&(u=function(p){const m=!!p.before,_=p.values||[];return new nl(_,m)}(n.startAt));let c=null;return n.endAt&&(c=function(p){const m=!p.before,_=p.values||[];return new nl(_,m)}(n.endAt)),zI(e,i,s,o,l,"F",u,c)}function Ix(t,e){const n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return ie()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function S0(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=ri(n.unaryFilter.field);return Ue.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=ri(n.unaryFilter.field);return Ue.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const o=ri(n.unaryFilter.field);return Ue.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const s=ri(n.unaryFilter.field);return Ue.create(s,"!=",{nullValue:"NULL_VALUE"});default:return ie()}}(t):t.fieldFilter!==void 0?function(n){return Ue.create(ri(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return ie()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return nn.create(n.compositeFilter.filters.map(r=>S0(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return ie()}}(n.compositeFilter.op))}(t):ie()}function xx(t){return fx[t]}function Ax(t){return dx[t]}function Cx(t){return px[t]}function ni(t){return{fieldPath:t.canonicalString()}}function ri(t){return tt.fromServerFormat(t.fieldPath)}function I0(t){return t instanceof Ue?function(n){if(n.op==="=="){if(gm(n.value))return{unaryFilter:{field:ni(n.field),op:"IS_NAN"}};if(mm(n.value))return{unaryFilter:{field:ni(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(gm(n.value))return{unaryFilter:{field:ni(n.field),op:"IS_NOT_NAN"}};if(mm(n.value))return{unaryFilter:{field:ni(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ni(n.field),op:Ax(n.op),value:n.value}}}(t):t instanceof nn?function(n){const r=n.getFilters().map(i=>I0(i));return r.length===1?r[0]:{compositeFilter:{op:Cx(n.op),filters:r}}}(t):ie()}function Px(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function x0(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bn{constructor(e,n,r,i,o=oe.min(),s=oe.min(),l=it.EMPTY_BYTE_STRING,u=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=l,this.expectedCount=u}withSequenceNumber(e){return new Bn(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Bn(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Bn(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Bn(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rx{constructor(e){this.ct=e}}function kx(t){const e=Sx({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Gc(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nx{constructor(){this.un=new Vx}addToCollectionParentIndex(e,n){return this.un.add(n),U.resolve()}getCollectionParents(e,n){return U.resolve(this.un.getEntries(n))}addFieldIndex(e,n){return U.resolve()}deleteFieldIndex(e,n){return U.resolve()}deleteAllFieldIndexes(e){return U.resolve()}createTargetIndexes(e,n){return U.resolve()}getDocumentsMatchingTarget(e,n){return U.resolve(null)}getIndexType(e,n){return U.resolve(0)}getFieldIndexes(e,n){return U.resolve([])}getNextCollectionGroupToUpdate(e){return U.resolve(null)}getMinOffset(e,n){return U.resolve(ir.min())}getMinOffsetFromCollectionGroup(e,n){return U.resolve(ir.min())}updateCollectionGroup(e,n,r){return U.resolve()}updateIndexEntries(e,n){return U.resolve()}}class Vx{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new Xe(xe.comparator),o=!i.has(r);return this.index[n]=i.add(r),o}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new Xe(xe.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nm={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class xt{constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new xt(e,xt.DEFAULT_COLLECTION_PERCENTILE,xt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */xt.DEFAULT_COLLECTION_PERCENTILE=10,xt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,xt.DEFAULT=new xt(41943040,xt.DEFAULT_COLLECTION_PERCENTILE,xt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),xt.DISABLED=new xt(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bi{constructor(e){this.Ln=e}next(){return this.Ln+=2,this.Ln}static Bn(){return new bi(0)}static kn(){return new bi(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vm([t,e],[n,r]){const i=de(t,n);return i===0?de(e,r):i}class Dx{constructor(e){this.Un=e,this.buffer=new Xe(Vm),this.Wn=0}Gn(){return++this.Wn}zn(e){const n=[e,this.Gn()];if(this.buffer.size<this.Un)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();Vm(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class Ox{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.jn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Hn(6e4)}stop(){this.jn&&(this.jn.cancel(),this.jn=null)}get started(){return this.jn!==null}Hn(e){K("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.jn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.jn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Wi(n)?K("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",n):await qi(n)}await this.Hn(3e5)})}}class bx{constructor(e,n){this.Jn=e,this.params=n}calculateTargetCount(e,n){return this.Jn.Yn(e).next(r=>Math.floor(n/100*r))}nthSequenceNumber(e,n){if(n===0)return U.resolve(kl.oe);const r=new Dx(n);return this.Jn.forEachTarget(e,i=>r.zn(i.sequenceNumber)).next(()=>this.Jn.Zn(e,i=>r.zn(i))).next(()=>r.maxValue)}removeTargets(e,n,r){return this.Jn.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.Jn.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(K("LruGarbageCollector","Garbage collection skipped; disabled"),U.resolve(Nm)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(K("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Nm):this.Xn(e,n))}getCacheSize(e){return this.Jn.getCacheSize(e)}Xn(e,n){let r,i,o,s,l,u,c;const f=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(p=>(p>this.params.maximumSequenceNumbersToCollect?(K("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${p}`),i=this.params.maximumSequenceNumbersToCollect):i=p,s=Date.now(),this.nthSequenceNumber(e,i))).next(p=>(r=p,l=Date.now(),this.removeTargets(e,r,n))).next(p=>(o=p,u=Date.now(),this.removeOrphanedDocuments(e,r))).next(p=>(c=Date.now(),ei()<=fe.DEBUG&&K("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${s-f}ms
	Determined least recently used ${i} in `+(l-s)+`ms
	Removed ${o} targets in `+(u-l)+`ms
	Removed ${p} documents in `+(c-u)+`ms
Total Duration: ${c-f}ms`),U.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:o,documentsRemoved:p})))}}function Mx(t,e){return new bx(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lx{constructor(){this.changes=new $r(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,ft.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?U.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jx{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fx{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&jo(r.mutation,i,Jt.empty(),He.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,ue()).next(()=>r))}getLocalViewOfDocuments(e,n,r=ue()){const i=Ar();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(o=>{let s=So();return o.forEach((l,u)=>{s=s.insert(l,u.overlayedDocument)}),s}))}getOverlayedDocuments(e,n){const r=Ar();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,ue()))}populateOverlays(e,n,r){const i=[];return r.forEach(o=>{n.has(o)||i.push(o)}),this.documentOverlayCache.getOverlays(e,i).next(o=>{o.forEach((s,l)=>{n.set(s,l)})})}computeViews(e,n,r,i){let o=An();const s=Lo(),l=function(){return Lo()}();return n.forEach((u,c)=>{const f=r.get(c.key);i.has(c.key)&&(f===void 0||f.mutation instanceof qr)?o=o.insert(c.key,c):f!==void 0?(s.set(c.key,f.mutation.getFieldMask()),jo(f.mutation,c,f.mutation.getFieldMask(),He.now())):s.set(c.key,Jt.empty())}),this.recalculateAndSaveOverlays(e,o).next(u=>(u.forEach((c,f)=>s.set(c,f)),n.forEach((c,f)=>{var p;return l.set(c,new jx(f,(p=s.get(c))!==null&&p!==void 0?p:null))}),l))}recalculateAndSaveOverlays(e,n){const r=Lo();let i=new Ve((s,l)=>s-l),o=ue();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(s=>{for(const l of s)l.keys().forEach(u=>{const c=n.get(u);if(c===null)return;let f=r.get(u)||Jt.empty();f=l.applyToLocalView(c,f),r.set(u,f);const p=(i.get(l.batchId)||ue()).add(u);i=i.insert(l.batchId,p)})}).next(()=>{const s=[],l=i.getReverseIterator();for(;l.hasNext();){const u=l.getNext(),c=u.key,f=u.value,p=a0();f.forEach(m=>{if(!o.has(m)){const _=d0(n.get(m),r.get(m));_!==null&&p.set(m,_),o=o.add(m)}}),s.push(this.documentOverlayCache.saveOverlays(e,c,p))}return U.waitFor(s)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(s){return te.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):n0(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(o=>{const s=i-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-o.size):U.resolve(Ar());let l=-1,u=o;return s.next(c=>U.forEach(c,(f,p)=>(l<p.largestBatchId&&(l=p.largestBatchId),o.get(f)?U.resolve():this.remoteDocumentCache.getEntry(e,f).next(m=>{u=u.insert(f,m)}))).next(()=>this.populateOverlays(e,c,o)).next(()=>this.computeViews(e,u,c,ue())).next(f=>({batchId:l,changes:s0(f)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new te(n)).next(r=>{let i=So();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const o=n.collectionGroup;let s=So();return this.indexManager.getCollectionParents(e,o).next(l=>U.forEach(l,u=>{const c=function(p,m){return new Hi(m,null,p.explicitOrderBy.slice(),p.filters.slice(),p.limit,p.limitType,p.startAt,p.endAt)}(n,u.child(o));return this.getDocumentsMatchingCollectionQuery(e,c,r,i).next(f=>{f.forEach((p,m)=>{s=s.insert(p,m)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,n,r,i){let o;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(s=>(o=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,o,i))).next(s=>{o.forEach((u,c)=>{const f=c.getKey();s.get(f)===null&&(s=s.insert(f,ft.newInvalidDocument(f)))});let l=So();return s.forEach((u,c)=>{const f=o.get(u);f!==void 0&&jo(f.mutation,c,Jt.empty(),He.now()),Ol(n,c)&&(l=l.insert(u,c))}),l})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ux{constructor(e){this.serializer=e,this.hr=new Map,this.Pr=new Map}getBundleMetadata(e,n){return U.resolve(this.hr.get(n))}saveBundleMetadata(e,n){return this.hr.set(n.id,function(i){return{id:i.id,version:i.version,createTime:cn(i.createTime)}}(n)),U.resolve()}getNamedQuery(e,n){return U.resolve(this.Pr.get(n))}saveNamedQuery(e,n){return this.Pr.set(n.name,function(i){return{name:i.name,query:kx(i.bundledQuery),readTime:cn(i.readTime)}}(n)),U.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bx{constructor(){this.overlays=new Ve(te.comparator),this.Ir=new Map}getOverlay(e,n){return U.resolve(this.overlays.get(n))}getOverlays(e,n){const r=Ar();return U.forEach(n,i=>this.getOverlay(e,i).next(o=>{o!==null&&r.set(i,o)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,o)=>{this.ht(e,n,o)}),U.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.Ir.get(r);return i!==void 0&&(i.forEach(o=>this.overlays=this.overlays.remove(o)),this.Ir.delete(r)),U.resolve()}getOverlaysForCollection(e,n,r){const i=Ar(),o=n.length+1,s=new te(n.child("")),l=this.overlays.getIteratorFrom(s);for(;l.hasNext();){const u=l.getNext().value,c=u.getKey();if(!n.isPrefixOf(c.path))break;c.path.length===o&&u.largestBatchId>r&&i.set(u.getKey(),u)}return U.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let o=new Ve((c,f)=>c-f);const s=this.overlays.getIterator();for(;s.hasNext();){const c=s.getNext().value;if(c.getKey().getCollectionGroup()===n&&c.largestBatchId>r){let f=o.get(c.largestBatchId);f===null&&(f=Ar(),o=o.insert(c.largestBatchId,f)),f.set(c.getKey(),c)}}const l=Ar(),u=o.getIterator();for(;u.hasNext()&&(u.getNext().value.forEach((c,f)=>l.set(c,f)),!(l.size()>=i)););return U.resolve(l)}ht(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const s=this.Ir.get(i.largestBatchId).delete(r.key);this.Ir.set(i.largestBatchId,s)}this.overlays=this.overlays.insert(r.key,new sx(n,r));let o=this.Ir.get(n);o===void 0&&(o=ue(),this.Ir.set(n,o)),this.Ir.set(n,o.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zx{constructor(){this.sessionToken=it.EMPTY_BYTE_STRING}getSessionToken(e){return U.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,U.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class df{constructor(){this.Tr=new Xe(Qe.Er),this.dr=new Xe(Qe.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(e,n){const r=new Qe(e,n);this.Tr=this.Tr.add(r),this.dr=this.dr.add(r)}Rr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Vr(new Qe(e,n))}mr(e,n){e.forEach(r=>this.removeReference(r,n))}gr(e){const n=new te(new xe([])),r=new Qe(n,e),i=new Qe(n,e+1),o=[];return this.dr.forEachInRange([r,i],s=>{this.Vr(s),o.push(s.key)}),o}pr(){this.Tr.forEach(e=>this.Vr(e))}Vr(e){this.Tr=this.Tr.delete(e),this.dr=this.dr.delete(e)}yr(e){const n=new te(new xe([])),r=new Qe(n,e),i=new Qe(n,e+1);let o=ue();return this.dr.forEachInRange([r,i],s=>{o=o.add(s.key)}),o}containsKey(e){const n=new Qe(e,0),r=this.Tr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class Qe{constructor(e,n){this.key=e,this.wr=n}static Er(e,n){return te.comparator(e.key,n.key)||de(e.wr,n.wr)}static Ar(e,n){return de(e.wr,n.wr)||te.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $x{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Sr=1,this.br=new Xe(Qe.Er)}checkEmpty(e){return U.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const o=this.Sr;this.Sr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const s=new ox(o,n,r,i);this.mutationQueue.push(s);for(const l of i)this.br=this.br.add(new Qe(l.key,o)),this.indexManager.addToCollectionParentIndex(e,l.key.path.popLast());return U.resolve(s)}lookupMutationBatch(e,n){return U.resolve(this.Dr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.vr(r),o=i<0?0:i;return U.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return U.resolve(this.mutationQueue.length===0?-1:this.Sr-1)}getAllMutationBatches(e){return U.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new Qe(n,0),i=new Qe(n,Number.POSITIVE_INFINITY),o=[];return this.br.forEachInRange([r,i],s=>{const l=this.Dr(s.wr);o.push(l)}),U.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Xe(de);return n.forEach(i=>{const o=new Qe(i,0),s=new Qe(i,Number.POSITIVE_INFINITY);this.br.forEachInRange([o,s],l=>{r=r.add(l.wr)})}),U.resolve(this.Cr(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let o=r;te.isDocumentKey(o)||(o=o.child(""));const s=new Qe(new te(o),0);let l=new Xe(de);return this.br.forEachWhile(u=>{const c=u.key.path;return!!r.isPrefixOf(c)&&(c.length===i&&(l=l.add(u.wr)),!0)},s),U.resolve(this.Cr(l))}Cr(e){const n=[];return e.forEach(r=>{const i=this.Dr(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){ve(this.Fr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.br;return U.forEach(n.mutations,i=>{const o=new Qe(i.key,n.batchId);return r=r.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.br=r})}On(e){}containsKey(e,n){const r=new Qe(n,0),i=this.br.firstAfterOrEqual(r);return U.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,U.resolve()}Fr(e,n){return this.vr(e)}vr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Dr(e){const n=this.vr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qx{constructor(e){this.Mr=e,this.docs=function(){return new Ve(te.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),o=i?i.size:0,s=this.Mr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:s}),this.size+=s-o,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return U.resolve(r?r.document.mutableCopy():ft.newInvalidDocument(n))}getEntries(e,n){let r=An();return n.forEach(i=>{const o=this.docs.get(i);r=r.insert(i,o?o.document.mutableCopy():ft.newInvalidDocument(i))}),U.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let o=An();const s=n.path,l=new te(s.child("")),u=this.docs.getIteratorFrom(l);for(;u.hasNext();){const{key:c,value:{document:f}}=u.getNext();if(!s.isPrefixOf(c.path))break;c.path.length>s.length+1||EI(wI(f),r)<=0||(i.has(f.key)||Ol(n,f))&&(o=o.insert(f.key,f.mutableCopy()))}return U.resolve(o)}getAllFromCollectionGroup(e,n,r,i){ie()}Or(e,n){return U.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new Wx(this)}getSize(e){return U.resolve(this.size)}}class Wx extends Lx{constructor(e){super(),this.cr=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.cr.addEntry(e,i)):this.cr.removeEntry(r)}),U.waitFor(n)}getFromCache(e,n){return this.cr.getEntry(e,n)}getAllFromCache(e,n){return this.cr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hx{constructor(e){this.persistence=e,this.Nr=new $r(n=>sf(n),af),this.lastRemoteSnapshotVersion=oe.min(),this.highestTargetId=0,this.Lr=0,this.Br=new df,this.targetCount=0,this.kr=bi.Bn()}forEachTarget(e,n){return this.Nr.forEach((r,i)=>n(i)),U.resolve()}getLastRemoteSnapshotVersion(e){return U.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return U.resolve(this.Lr)}allocateTargetId(e){return this.highestTargetId=this.kr.next(),U.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Lr&&(this.Lr=n),U.resolve()}Kn(e){this.Nr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.kr=new bi(n),this.highestTargetId=n),e.sequenceNumber>this.Lr&&(this.Lr=e.sequenceNumber)}addTargetData(e,n){return this.Kn(n),this.targetCount+=1,U.resolve()}updateTargetData(e,n){return this.Kn(n),U.resolve()}removeTargetData(e,n){return this.Nr.delete(n.target),this.Br.gr(n.targetId),this.targetCount-=1,U.resolve()}removeTargets(e,n,r){let i=0;const o=[];return this.Nr.forEach((s,l)=>{l.sequenceNumber<=n&&r.get(l.targetId)===null&&(this.Nr.delete(s),o.push(this.removeMatchingKeysForTargetId(e,l.targetId)),i++)}),U.waitFor(o).next(()=>i)}getTargetCount(e){return U.resolve(this.targetCount)}getTargetData(e,n){const r=this.Nr.get(n)||null;return U.resolve(r)}addMatchingKeys(e,n,r){return this.Br.Rr(n,r),U.resolve()}removeMatchingKeys(e,n,r){this.Br.mr(n,r);const i=this.persistence.referenceDelegate,o=[];return i&&n.forEach(s=>{o.push(i.markPotentiallyOrphaned(e,s))}),U.waitFor(o)}removeMatchingKeysForTargetId(e,n){return this.Br.gr(n),U.resolve()}getMatchingKeysForTargetId(e,n){const r=this.Br.yr(n);return U.resolve(r)}containsKey(e,n){return U.resolve(this.Br.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A0{constructor(e,n){this.qr={},this.overlays={},this.Qr=new kl(0),this.Kr=!1,this.Kr=!0,this.$r=new zx,this.referenceDelegate=e(this),this.Ur=new Hx(this),this.indexManager=new Nx,this.remoteDocumentCache=function(i){return new qx(i)}(r=>this.referenceDelegate.Wr(r)),this.serializer=new Rx(n),this.Gr=new Ux(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new Bx,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.qr[e.toKey()];return r||(r=new $x(n,this.referenceDelegate),this.qr[e.toKey()]=r),r}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(e,n,r){K("MemoryPersistence","Starting transaction:",e);const i=new Gx(this.Qr.next());return this.referenceDelegate.zr(),r(i).next(o=>this.referenceDelegate.jr(i).next(()=>o)).toPromise().then(o=>(i.raiseOnCommittedEvent(),o))}Hr(e,n){return U.or(Object.values(this.qr).map(r=>()=>r.containsKey(e,n)))}}class Gx extends SI{constructor(e){super(),this.currentSequenceNumber=e}}class pf{constructor(e){this.persistence=e,this.Jr=new df,this.Yr=null}static Zr(e){return new pf(e)}get Xr(){if(this.Yr)return this.Yr;throw ie()}addReference(e,n,r){return this.Jr.addReference(r,n),this.Xr.delete(r.toString()),U.resolve()}removeReference(e,n,r){return this.Jr.removeReference(r,n),this.Xr.add(r.toString()),U.resolve()}markPotentiallyOrphaned(e,n){return this.Xr.add(n.toString()),U.resolve()}removeTarget(e,n){this.Jr.gr(n.targetId).forEach(i=>this.Xr.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(o=>this.Xr.add(o.toString()))}).next(()=>r.removeTargetData(e,n))}zr(){this.Yr=new Set}jr(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return U.forEach(this.Xr,r=>{const i=te.fromPath(r);return this.ei(e,i).next(o=>{o||n.removeEntry(i,oe.min())})}).next(()=>(this.Yr=null,n.apply(e)))}updateLimboDocument(e,n){return this.ei(e,n).next(r=>{r?this.Xr.delete(n.toString()):this.Xr.add(n.toString())})}Wr(e){return 0}ei(e,n){return U.or([()=>U.resolve(this.Jr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Hr(e,n)])}}class sl{constructor(e,n){this.persistence=e,this.ti=new $r(r=>AI(r.path),(r,i)=>r.isEqual(i)),this.garbageCollector=Mx(this,n)}static Zr(e,n){return new sl(e,n)}zr(){}jr(e){return U.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}Yn(e){const n=this.er(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>n.next(i=>r+i))}er(e){let n=0;return this.Zn(e,r=>{n++}).next(()=>n)}Zn(e,n){return U.forEach(this.ti,(r,i)=>this.nr(e,r,i).next(o=>o?U.resolve():n(i)))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const i=this.persistence.getRemoteDocumentCache(),o=i.newChangeBuffer();return i.Or(e,s=>this.nr(e,s,n).next(l=>{l||(r++,o.removeEntry(s,oe.min()))})).next(()=>o.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,n){return this.ti.set(n,e.currentSequenceNumber),U.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.ti.set(r,e.currentSequenceNumber),U.resolve()}removeReference(e,n,r){return this.ti.set(r,e.currentSequenceNumber),U.resolve()}updateLimboDocument(e,n){return this.ti.set(n,e.currentSequenceNumber),U.resolve()}Wr(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=_a(e.data.value)),n}nr(e,n,r){return U.or([()=>this.persistence.Hr(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const i=this.ti.get(n);return U.resolve(i!==void 0&&i>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mf{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.$i=r,this.Ui=i}static Wi(e,n){let r=ue(),i=ue();for(const o of n.docChanges)switch(o.type){case 0:r=r.add(o.doc.key);break;case 1:i=i.add(o.doc.key)}return new mf(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qx{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kx{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=function(){return HT()?8:II(qT())>0?6:4}()}initialize(e,n){this.Ji=e,this.indexManager=n,this.Gi=!0}getDocumentsMatchingQuery(e,n,r,i){const o={result:null};return this.Yi(e,n).next(s=>{o.result=s}).next(()=>{if(!o.result)return this.Zi(e,n,i,r).next(s=>{o.result=s})}).next(()=>{if(o.result)return;const s=new Qx;return this.Xi(e,n,s).next(l=>{if(o.result=l,this.zi)return this.es(e,n,s,l.size)})}).next(()=>o.result)}es(e,n,r,i){return r.documentReadCount<this.ji?(ei()<=fe.DEBUG&&K("QueryEngine","SDK will not create cache indexes for query:",ti(n),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),U.resolve()):(ei()<=fe.DEBUG&&K("QueryEngine","Query:",ti(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.Hi*i?(ei()<=fe.DEBUG&&K("QueryEngine","The SDK decides to create cache indexes for query:",ti(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,un(n))):U.resolve())}Yi(e,n){if(wm(n))return U.resolve(null);let r=un(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=Gc(n,null,"F"),r=un(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(o=>{const s=ue(...o);return this.Ji.getDocuments(e,s).next(l=>this.indexManager.getMinOffset(e,r).next(u=>{const c=this.ts(n,l);return this.ns(n,c,s,u.readTime)?this.Yi(e,Gc(n,null,"F")):this.rs(e,c,n,u)}))})))}Zi(e,n,r,i){return wm(n)||i.isEqual(oe.min())?U.resolve(null):this.Ji.getDocuments(e,r).next(o=>{const s=this.ts(n,o);return this.ns(n,s,r,i)?U.resolve(null):(ei()<=fe.DEBUG&&K("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),ti(n)),this.rs(e,s,n,_I(i,-1)).next(l=>l))})}ts(e,n){let r=new Xe(i0(e));return n.forEach((i,o)=>{Ol(e,o)&&(r=r.add(o))}),r}ns(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const o=e.limitType==="F"?n.last():n.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(i)>0)}Xi(e,n,r){return ei()<=fe.DEBUG&&K("QueryEngine","Using full collection scan to execute query:",ti(n)),this.Ji.getDocumentsMatchingQuery(e,n,ir.min(),r)}rs(e,n,r,i){return this.Ji.getDocumentsMatchingQuery(e,r,i).next(o=>(n.forEach(s=>{o=o.insert(s.key,s)}),o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yx{constructor(e,n,r,i){this.persistence=e,this.ss=n,this.serializer=i,this.os=new Ve(de),this._s=new $r(o=>sf(o),af),this.us=new Map,this.cs=e.getRemoteDocumentCache(),this.Ur=e.getTargetCache(),this.Gr=e.getBundleCache(),this.ls(r)}ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Fx(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.os))}}function Xx(t,e,n,r){return new Yx(t,e,n,r)}async function C0(t,e){const n=ae(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(o=>(i=o,n.ls(e),n.mutationQueue.getAllMutationBatches(r))).next(o=>{const s=[],l=[];let u=ue();for(const c of i){s.push(c.batchId);for(const f of c.mutations)u=u.add(f.key)}for(const c of o){l.push(c.batchId);for(const f of c.mutations)u=u.add(f.key)}return n.localDocuments.getDocuments(r,u).next(c=>({hs:c,removedBatchIds:s,addedBatchIds:l}))})})}function Jx(t,e){const n=ae(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),o=n.cs.newChangeBuffer({trackRemovals:!0});return function(l,u,c,f){const p=c.batch,m=p.keys();let _=U.resolve();return m.forEach(v=>{_=_.next(()=>f.getEntry(u,v)).next(I=>{const P=c.docVersions.get(v);ve(P!==null),I.version.compareTo(P)<0&&(p.applyToRemoteDocument(I,c),I.isValidDocument()&&(I.setReadTime(c.commitVersion),f.addEntry(I)))})}),_.next(()=>l.mutationQueue.removeMutationBatch(u,p))}(n,r,e,o).next(()=>o.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(l){let u=ue();for(let c=0;c<l.mutationResults.length;++c)l.mutationResults[c].transformResults.length>0&&(u=u.add(l.batch.mutations[c].key));return u}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function P0(t){const e=ae(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Ur.getLastRemoteSnapshotVersion(n))}function Zx(t,e){const n=ae(t),r=e.snapshotVersion;let i=n.os;return n.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{const s=n.cs.newChangeBuffer({trackRemovals:!0});i=n.os;const l=[];e.targetChanges.forEach((f,p)=>{const m=i.get(p);if(!m)return;l.push(n.Ur.removeMatchingKeys(o,f.removedDocuments,p).next(()=>n.Ur.addMatchingKeys(o,f.addedDocuments,p)));let _=m.withSequenceNumber(o.currentSequenceNumber);e.targetMismatches.get(p)!==null?_=_.withResumeToken(it.EMPTY_BYTE_STRING,oe.min()).withLastLimboFreeSnapshotVersion(oe.min()):f.resumeToken.approximateByteSize()>0&&(_=_.withResumeToken(f.resumeToken,r)),i=i.insert(p,_),function(I,P,w){return I.resumeToken.approximateByteSize()===0||P.snapshotVersion.toMicroseconds()-I.snapshotVersion.toMicroseconds()>=3e8?!0:w.addedDocuments.size+w.modifiedDocuments.size+w.removedDocuments.size>0}(m,_,f)&&l.push(n.Ur.updateTargetData(o,_))});let u=An(),c=ue();if(e.documentUpdates.forEach(f=>{e.resolvedLimboDocuments.has(f)&&l.push(n.persistence.referenceDelegate.updateLimboDocument(o,f))}),l.push(eA(o,s,e.documentUpdates).next(f=>{u=f.Ps,c=f.Is})),!r.isEqual(oe.min())){const f=n.Ur.getLastRemoteSnapshotVersion(o).next(p=>n.Ur.setTargetsMetadata(o,o.currentSequenceNumber,r));l.push(f)}return U.waitFor(l).next(()=>s.apply(o)).next(()=>n.localDocuments.getLocalViewOfDocuments(o,u,c)).next(()=>u)}).then(o=>(n.os=i,o))}function eA(t,e,n){let r=ue(),i=ue();return n.forEach(o=>r=r.add(o)),e.getEntries(t,r).next(o=>{let s=An();return n.forEach((l,u)=>{const c=o.get(l);u.isFoundDocument()!==c.isFoundDocument()&&(i=i.add(l)),u.isNoDocument()&&u.version.isEqual(oe.min())?(e.removeEntry(l,u.readTime),s=s.insert(l,u)):!c.isValidDocument()||u.version.compareTo(c.version)>0||u.version.compareTo(c.version)===0&&c.hasPendingWrites?(e.addEntry(u),s=s.insert(l,u)):K("LocalStore","Ignoring outdated watch update for ",l,". Current version:",c.version," Watch version:",u.version)}),{Ps:s,Is:i}})}function tA(t,e){const n=ae(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function nA(t,e){const n=ae(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Ur.getTargetData(r,e).next(o=>o?(i=o,U.resolve(i)):n.Ur.allocateTargetId(r).next(s=>(i=new Bn(e,s,"TargetPurposeListen",r.currentSequenceNumber),n.Ur.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.os.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.os=n.os.insert(r.targetId,r),n._s.set(e,r.targetId)),r})}async function Jc(t,e,n){const r=ae(t),i=r.os.get(e),o=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",o,s=>r.persistence.referenceDelegate.removeTarget(s,i))}catch(s){if(!Wi(s))throw s;K("LocalStore",`Failed to update sequence numbers for target ${e}: ${s}`)}r.os=r.os.remove(e),r._s.delete(i.target)}function Dm(t,e,n){const r=ae(t);let i=oe.min(),o=ue();return r.persistence.runTransaction("Execute query","readwrite",s=>function(u,c,f){const p=ae(u),m=p._s.get(f);return m!==void 0?U.resolve(p.os.get(m)):p.Ur.getTargetData(c,f)}(r,s,un(e)).next(l=>{if(l)return i=l.lastLimboFreeSnapshotVersion,r.Ur.getMatchingKeysForTargetId(s,l.targetId).next(u=>{o=u})}).next(()=>r.ss.getDocumentsMatchingQuery(s,e,n?i:oe.min(),n?o:ue())).next(l=>(rA(r,qI(e),l),{documents:l,Ts:o})))}function rA(t,e,n){let r=t.us.get(e)||oe.min();n.forEach((i,o)=>{o.readTime.compareTo(r)>0&&(r=o.readTime)}),t.us.set(e,r)}class Om{constructor(){this.activeTargetIds=YI()}fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Vs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class iA{constructor(){this.so=new Om,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.so.fs(e),this.oo[e]||"not-current"}updateQueryState(e,n,r){this.oo[e]=n}removeLocalQueryTarget(e){this.so.gs(e)}isLocalQueryTarget(e){return this.so.activeTargetIds.has(e)}clearQueryState(e){delete this.oo[e]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(e){return this.so.activeTargetIds.has(e)}start(){return this.so=new Om,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oA{_o(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bm{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(e){this.ho.push(e)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){K("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.ho)e(0)}lo(){K("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.ho)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let oa=null;function Lu(){return oa===null?oa=function(){return 268435456+Math.round(2147483648*Math.random())}():oa++,"0x"+oa.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sA={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aA{constructor(e){this.Io=e.Io,this.To=e.To}Eo(e){this.Ao=e}Ro(e){this.Vo=e}mo(e){this.fo=e}onMessage(e){this.po=e}close(){this.To()}send(e){this.Io(e)}yo(){this.Ao()}wo(){this.Vo()}So(e){this.fo(e)}bo(e){this.po(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ut="WebChannelConnection";class lA extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const r=n.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Do=r+"://"+n.host,this.vo=`projects/${i}/databases/${o}`,this.Co=this.databaseId.database==="(default)"?`project_id=${i}`:`project_id=${i}&database_id=${o}`}get Fo(){return!1}Mo(n,r,i,o,s){const l=Lu(),u=this.xo(n,r.toUriEncodedString());K("RestConnection",`Sending RPC '${n}' ${l}:`,u,i);const c={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(c,o,s),this.No(n,u,c,i).then(f=>(K("RestConnection",`Received RPC '${n}' ${l}: `,f),f),f=>{throw Ni("RestConnection",`RPC '${n}' ${l} failed with error: `,f,"url: ",u,"request:",i),f})}Lo(n,r,i,o,s,l){return this.Mo(n,r,i,o,s)}Oo(n,r,i){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+$i}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((o,s)=>n[s]=o),i&&i.headers.forEach((o,s)=>n[s]=o)}xo(n,r){const i=sA[n];return`${this.Do}/v1/${r}:${i}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}No(e,n,r,i){const o=Lu();return new Promise((s,l)=>{const u=new Uv;u.setWithCredentials(!0),u.listenOnce(Bv.COMPLETE,()=>{try{switch(u.getLastErrorCode()){case va.NO_ERROR:const f=u.getResponseJson();K(ut,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(f)),s(f);break;case va.TIMEOUT:K(ut,`RPC '${e}' ${o} timed out`),l(new X(B.DEADLINE_EXCEEDED,"Request time out"));break;case va.HTTP_ERROR:const p=u.getStatus();if(K(ut,`RPC '${e}' ${o} failed with status:`,p,"response text:",u.getResponseText()),p>0){let m=u.getResponseJson();Array.isArray(m)&&(m=m[0]);const _=m==null?void 0:m.error;if(_&&_.status&&_.message){const v=function(P){const w=P.toLowerCase().replace(/_/g,"-");return Object.values(B).indexOf(w)>=0?w:B.UNKNOWN}(_.status);l(new X(v,_.message))}else l(new X(B.UNKNOWN,"Server responded with status "+u.getStatus()))}else l(new X(B.UNAVAILABLE,"Connection failed."));break;default:ie()}}finally{K(ut,`RPC '${e}' ${o} completed.`)}});const c=JSON.stringify(i);K(ut,`RPC '${e}' ${o} sending request:`,i),u.send(n,"POST",c,r,15)})}Bo(e,n,r){const i=Lu(),o=[this.Do,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=qv(),l=$v(),u={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},c=this.longPollingOptions.timeoutSeconds;c!==void 0&&(u.longPollingTimeout=Math.round(1e3*c)),this.useFetchStreams&&(u.useFetchStreams=!0),this.Oo(u.initMessageHeaders,n,r),u.encodeInitMessageHeaders=!0;const f=o.join("");K(ut,`Creating RPC '${e}' stream ${i}: ${f}`,u);const p=s.createWebChannel(f,u);let m=!1,_=!1;const v=new aA({Io:P=>{_?K(ut,`Not sending because RPC '${e}' stream ${i} is closed:`,P):(m||(K(ut,`Opening RPC '${e}' stream ${i} transport.`),p.open(),m=!0),K(ut,`RPC '${e}' stream ${i} sending:`,P),p.send(P))},To:()=>p.close()}),I=(P,w,E)=>{P.listen(w,x=>{try{E(x)}catch(b){setTimeout(()=>{throw b},0)}})};return I(p,To.EventType.OPEN,()=>{_||(K(ut,`RPC '${e}' stream ${i} transport opened.`),v.yo())}),I(p,To.EventType.CLOSE,()=>{_||(_=!0,K(ut,`RPC '${e}' stream ${i} transport closed`),v.So())}),I(p,To.EventType.ERROR,P=>{_||(_=!0,Ni(ut,`RPC '${e}' stream ${i} transport errored:`,P),v.So(new X(B.UNAVAILABLE,"The operation could not be completed")))}),I(p,To.EventType.MESSAGE,P=>{var w;if(!_){const E=P.data[0];ve(!!E);const x=E,b=x.error||((w=x[0])===null||w===void 0?void 0:w.error);if(b){K(ut,`RPC '${e}' stream ${i} received error:`,b);const z=b.status;let $=function(T){const A=je[T];if(A!==void 0)return g0(A)}(z),S=b.message;$===void 0&&($=B.INTERNAL,S="Unknown error status: "+z+" with message "+b.message),_=!0,v.So(new X($,S)),p.close()}else K(ut,`RPC '${e}' stream ${i} received:`,E),v.bo(E)}}),I(l,zv.STAT_EVENT,P=>{P.stat===Bc.PROXY?K(ut,`RPC '${e}' stream ${i} detected buffering proxy`):P.stat===Bc.NOPROXY&&K(ut,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{v.wo()},0),v}}function ju(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jl(t){return new mx(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R0{constructor(e,n,r=1e3,i=1.5,o=6e4){this.ui=e,this.timerId=n,this.ko=r,this.qo=i,this.Qo=o,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(e){this.cancel();const n=Math.floor(this.Ko+this.zo()),r=Math.max(0,Date.now()-this.Uo),i=Math.max(0,n-r);i>0&&K("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Ko} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,i,()=>(this.Uo=Date.now(),e())),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){this.$o!==null&&(this.$o.skipDelay(),this.$o=null)}cancel(){this.$o!==null&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k0{constructor(e,n,r,i,o,s,l,u){this.ui=e,this.Ho=r,this.Jo=i,this.connection=o,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=l,this.listener=u,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new R0(e,n)}n_(){return this.state===1||this.state===5||this.r_()}r_(){return this.state===2||this.state===3}start(){this.e_=0,this.state!==4?this.auth():this.i_()}async stop(){this.n_()&&await this.close(0)}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&this.Zo===null&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,()=>this.__()))}a_(e){this.u_(),this.stream.send(e)}async __(){if(this.r_())return this.close(0)}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}async close(e,n){this.u_(),this.c_(),this.t_.cancel(),this.Yo++,e!==4?this.t_.reset():n&&n.code===B.RESOURCE_EXHAUSTED?(xn(n.toString()),xn("Using maximum backoff delay to prevent overloading the backend."),this.t_.Wo()):n&&n.code===B.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.l_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.mo(n)}l_(){}auth(){this.state=1;const e=this.h_(this.Yo),n=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Yo===n&&this.P_(r,i)},r=>{e(()=>{const i=new X(B.UNKNOWN,"Fetching auth token failed: "+r.message);return this.I_(i)})})}P_(e,n){const r=this.h_(this.Yo);this.stream=this.T_(e,n),this.stream.Eo(()=>{r(()=>this.listener.Eo())}),this.stream.Ro(()=>{r(()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,()=>(this.r_()&&(this.state=3),Promise.resolve())),this.listener.Ro()))}),this.stream.mo(i=>{r(()=>this.I_(i))}),this.stream.onMessage(i=>{r(()=>++this.e_==1?this.E_(i):this.onNext(i))})}i_(){this.state=5,this.t_.Go(async()=>{this.state=0,this.start()})}I_(e){return K("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}h_(e){return n=>{this.ui.enqueueAndForget(()=>this.Yo===e?n():(K("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class uA extends k0{constructor(e,n,r,i,o,s){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,s),this.serializer=o}T_(e,n){return this.connection.Bo("Listen",e,n)}E_(e){return this.onNext(e)}onNext(e){this.t_.reset();const n=vx(this.serializer,e),r=function(o){if(!("targetChange"in o))return oe.min();const s=o.targetChange;return s.targetIds&&s.targetIds.length?oe.min():s.readTime?cn(s.readTime):oe.min()}(e);return this.listener.d_(n,r)}A_(e){const n={};n.database=Xc(this.serializer),n.addTarget=function(o,s){let l;const u=s.target;if(l=Wc(u)?{documents:Ex(o,u)}:{query:Tx(o,u)._t},l.targetId=s.targetId,s.resumeToken.approximateByteSize()>0){l.resumeToken=_0(o,s.resumeToken);const c=Qc(o,s.expectedCount);c!==null&&(l.expectedCount=c)}else if(s.snapshotVersion.compareTo(oe.min())>0){l.readTime=ol(o,s.snapshotVersion.toTimestamp());const c=Qc(o,s.expectedCount);c!==null&&(l.expectedCount=c)}return l}(this.serializer,e);const r=Ix(this.serializer,e);r&&(n.labels=r),this.a_(n)}R_(e){const n={};n.database=Xc(this.serializer),n.removeTarget=e,this.a_(n)}}class cA extends k0{constructor(e,n,r,i,o,s){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,s),this.serializer=o}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_(e,n){return this.connection.Bo("Write",e,n)}E_(e){return ve(!!e.streamToken),this.lastStreamToken=e.streamToken,ve(!e.writeResults||e.writeResults.length===0),this.listener.f_()}onNext(e){ve(!!e.streamToken),this.lastStreamToken=e.streamToken,this.t_.reset();const n=wx(e.writeResults,e.commitTime),r=cn(e.commitTime);return this.listener.g_(r,n)}p_(){const e={};e.database=Xc(this.serializer),this.a_(e)}m_(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>_x(this.serializer,r))};this.a_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hA extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.y_=!1}w_(){if(this.y_)throw new X(B.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(e,n,r,i){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,s])=>this.connection.Mo(e,Kc(n,r),i,o,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===B.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new X(B.UNKNOWN,o.toString())})}Lo(e,n,r,i,o){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,l])=>this.connection.Lo(e,Kc(n,r),i,s,l,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===B.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new X(B.UNKNOWN,s.toString())})}terminate(){this.y_=!0,this.connection.terminate()}}class fA{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){this.S_===0&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve())))}M_(e){this.state==="Online"?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.C_("Offline")))}set(e){this.x_(),this.S_=0,e==="Online"&&(this.D_=!1),this.C_(e)}C_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}F_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(xn(n),this.D_=!1):K("OnlineStateTracker",n)}x_(){this.b_!==null&&(this.b_.cancel(),this.b_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dA{constructor(e,n,r,i,o){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=o,this.k_._o(s=>{r.enqueueAndForget(async()=>{Wr(this)&&(K("RemoteStore","Restarting streams for network reachability change."),await async function(u){const c=ae(u);c.L_.add(4),await Ts(c),c.q_.set("Unknown"),c.L_.delete(4),await Fl(c)}(this))})}),this.q_=new fA(r,i)}}async function Fl(t){if(Wr(t))for(const e of t.B_)await e(!0)}async function Ts(t){for(const e of t.B_)await e(!1)}function N0(t,e){const n=ae(t);n.N_.has(e.targetId)||(n.N_.set(e.targetId,e),_f(n)?vf(n):Gi(n).r_()&&yf(n,e))}function gf(t,e){const n=ae(t),r=Gi(n);n.N_.delete(e),r.r_()&&V0(n,e),n.N_.size===0&&(r.r_()?r.o_():Wr(n)&&n.q_.set("Unknown"))}function yf(t,e){if(t.Q_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(oe.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Gi(t).A_(e)}function V0(t,e){t.Q_.xe(e),Gi(t).R_(e)}function vf(t){t.Q_=new hx({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>t.N_.get(e)||null,tt:()=>t.datastore.serializer.databaseId}),Gi(t).start(),t.q_.v_()}function _f(t){return Wr(t)&&!Gi(t).n_()&&t.N_.size>0}function Wr(t){return ae(t).L_.size===0}function D0(t){t.Q_=void 0}async function pA(t){t.q_.set("Online")}async function mA(t){t.N_.forEach((e,n)=>{yf(t,e)})}async function gA(t,e){D0(t),_f(t)?(t.q_.M_(e),vf(t)):t.q_.set("Unknown")}async function yA(t,e,n){if(t.q_.set("Online"),e instanceof v0&&e.state===2&&e.cause)try{await async function(i,o){const s=o.cause;for(const l of o.targetIds)i.N_.has(l)&&(await i.remoteSyncer.rejectListen(l,s),i.N_.delete(l),i.Q_.removeTarget(l))}(t,e)}catch(r){K("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),await al(t,r)}else if(e instanceof Ta?t.Q_.Ke(e):e instanceof y0?t.Q_.He(e):t.Q_.We(e),!n.isEqual(oe.min()))try{const r=await P0(t.localStore);n.compareTo(r)>=0&&await function(o,s){const l=o.Q_.rt(s);return l.targetChanges.forEach((u,c)=>{if(u.resumeToken.approximateByteSize()>0){const f=o.N_.get(c);f&&o.N_.set(c,f.withResumeToken(u.resumeToken,s))}}),l.targetMismatches.forEach((u,c)=>{const f=o.N_.get(u);if(!f)return;o.N_.set(u,f.withResumeToken(it.EMPTY_BYTE_STRING,f.snapshotVersion)),V0(o,u);const p=new Bn(f.target,u,c,f.sequenceNumber);yf(o,p)}),o.remoteSyncer.applyRemoteEvent(l)}(t,n)}catch(r){K("RemoteStore","Failed to raise snapshot:",r),await al(t,r)}}async function al(t,e,n){if(!Wi(e))throw e;t.L_.add(1),await Ts(t),t.q_.set("Offline"),n||(n=()=>P0(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{K("RemoteStore","Retrying IndexedDB access"),await n(),t.L_.delete(1),await Fl(t)})}function O0(t,e){return e().catch(n=>al(t,n,e))}async function Ul(t){const e=ae(t),n=lr(e);let r=e.O_.length>0?e.O_[e.O_.length-1].batchId:-1;for(;vA(e);)try{const i=await tA(e.localStore,r);if(i===null){e.O_.length===0&&n.o_();break}r=i.batchId,_A(e,i)}catch(i){await al(e,i)}b0(e)&&M0(e)}function vA(t){return Wr(t)&&t.O_.length<10}function _A(t,e){t.O_.push(e);const n=lr(t);n.r_()&&n.V_&&n.m_(e.mutations)}function b0(t){return Wr(t)&&!lr(t).n_()&&t.O_.length>0}function M0(t){lr(t).start()}async function wA(t){lr(t).p_()}async function EA(t){const e=lr(t);for(const n of t.O_)e.m_(n.mutations)}async function TA(t,e,n){const r=t.O_.shift(),i=cf.from(r,e,n);await O0(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await Ul(t)}async function SA(t,e){e&&lr(t).V_&&await async function(r,i){if(function(s){return lx(s)&&s!==B.ABORTED}(i.code)){const o=r.O_.shift();lr(r).s_(),await O0(r,()=>r.remoteSyncer.rejectFailedWrite(o.batchId,i)),await Ul(r)}}(t,e),b0(t)&&M0(t)}async function Mm(t,e){const n=ae(t);n.asyncQueue.verifyOperationInProgress(),K("RemoteStore","RemoteStore received new credentials");const r=Wr(n);n.L_.add(3),await Ts(n),r&&n.q_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.L_.delete(3),await Fl(n)}async function IA(t,e){const n=ae(t);e?(n.L_.delete(2),await Fl(n)):e||(n.L_.add(2),await Ts(n),n.q_.set("Unknown"))}function Gi(t){return t.K_||(t.K_=function(n,r,i){const o=ae(n);return o.w_(),new uA(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(t.datastore,t.asyncQueue,{Eo:pA.bind(null,t),Ro:mA.bind(null,t),mo:gA.bind(null,t),d_:yA.bind(null,t)}),t.B_.push(async e=>{e?(t.K_.s_(),_f(t)?vf(t):t.q_.set("Unknown")):(await t.K_.stop(),D0(t))})),t.K_}function lr(t){return t.U_||(t.U_=function(n,r,i){const o=ae(n);return o.w_(),new cA(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(t.datastore,t.asyncQueue,{Eo:()=>Promise.resolve(),Ro:wA.bind(null,t),mo:SA.bind(null,t),f_:EA.bind(null,t),g_:TA.bind(null,t)}),t.B_.push(async e=>{e?(t.U_.s_(),await Ul(t)):(await t.U_.stop(),t.O_.length>0&&(K("RemoteStore",`Stopping write stream with ${t.O_.length} pending writes`),t.O_=[]))})),t.U_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wf{constructor(e,n,r,i,o){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=o,this.deferred=new er,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(s=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,o){const s=Date.now()+r,l=new wf(e,n,s,i,o);return l.start(r),l}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new X(B.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Ef(t,e){if(xn("AsyncQueue",`${e}: ${t}`),Wi(t))return new X(B.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Si{constructor(e){this.comparator=e?(n,r)=>e(n,r)||te.comparator(n.key,r.key):(n,r)=>te.comparator(n.key,r.key),this.keyedMap=So(),this.sortedSet=new Ve(this.comparator)}static emptySet(e){return new Si(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Si)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,o=r.getNext().key;if(!i.isEqual(o))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new Si;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lm{constructor(){this.W_=new Ve(te.comparator)}track(e){const n=e.doc.key,r=this.W_.get(n);r?e.type!==0&&r.type===3?this.W_=this.W_.insert(n,e):e.type===3&&r.type!==1?this.W_=this.W_.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.W_=this.W_.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.W_=this.W_.remove(n):e.type===1&&r.type===2?this.W_=this.W_.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):ie():this.W_=this.W_.insert(n,e)}G_(){const e=[];return this.W_.inorderTraversal((n,r)=>{e.push(r)}),e}}class Mi{constructor(e,n,r,i,o,s,l,u,c){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=o,this.fromCache=s,this.syncStateChanged=l,this.excludesMetadataChanges=u,this.hasCachedResults=c}static fromInitialDocuments(e,n,r,i,o){const s=[];return n.forEach(l=>{s.push({type:0,doc:l})}),new Mi(e,n,Si.emptySet(n),s,r,i,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Dl(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xA{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some(e=>e.J_())}}class AA{constructor(){this.queries=jm(),this.onlineState="Unknown",this.Y_=new Set}terminate(){(function(n,r){const i=ae(n),o=i.queries;i.queries=jm(),o.forEach((s,l)=>{for(const u of l.j_)u.onError(r)})})(this,new X(B.ABORTED,"Firestore shutting down"))}}function jm(){return new $r(t=>r0(t),Dl)}async function L0(t,e){const n=ae(t);let r=3;const i=e.query;let o=n.queries.get(i);o?!o.H_()&&e.J_()&&(r=2):(o=new xA,r=e.J_()?0:1);try{switch(r){case 0:o.z_=await n.onListen(i,!0);break;case 1:o.z_=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(s){const l=Ef(s,`Initialization of query '${ti(e.query)}' failed`);return void e.onError(l)}n.queries.set(i,o),o.j_.push(e),e.Z_(n.onlineState),o.z_&&e.X_(o.z_)&&Tf(n)}async function j0(t,e){const n=ae(t),r=e.query;let i=3;const o=n.queries.get(r);if(o){const s=o.j_.indexOf(e);s>=0&&(o.j_.splice(s,1),o.j_.length===0?i=e.J_()?0:1:!o.H_()&&e.J_()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function CA(t,e){const n=ae(t);let r=!1;for(const i of e){const o=i.query,s=n.queries.get(o);if(s){for(const l of s.j_)l.X_(i)&&(r=!0);s.z_=i}}r&&Tf(n)}function PA(t,e,n){const r=ae(t),i=r.queries.get(e);if(i)for(const o of i.j_)o.onError(n);r.queries.delete(e)}function Tf(t){t.Y_.forEach(e=>{e.next()})}var Zc,Fm;(Fm=Zc||(Zc={})).ea="default",Fm.Cache="cache";class F0{constructor(e,n,r){this.query=e,this.ta=n,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=r||{}}X_(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new Mi(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.na?this.ia(e)&&(this.ta.next(e),n=!0):this.sa(e,this.onlineState)&&(this.oa(e),n=!0),this.ra=e,n}onError(e){this.ta.error(e)}Z_(e){this.onlineState=e;let n=!1;return this.ra&&!this.na&&this.sa(this.ra,e)&&(this.oa(this.ra),n=!0),n}sa(e,n){if(!e.fromCache||!this.J_())return!0;const r=n!=="Offline";return(!this.options._a||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}ia(e){if(e.docChanges.length>0)return!0;const n=this.ra&&this.ra.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}oa(e){e=Mi.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.na=!0,this.ta.next(e)}J_(){return this.options.source!==Zc.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U0{constructor(e){this.key=e}}class B0{constructor(e){this.key=e}}class RA{constructor(e,n){this.query=e,this.Ta=n,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=ue(),this.mutatedKeys=ue(),this.Aa=i0(e),this.Ra=new Si(this.Aa)}get Va(){return this.Ta}ma(e,n){const r=n?n.fa:new Lm,i=n?n.Ra:this.Ra;let o=n?n.mutatedKeys:this.mutatedKeys,s=i,l=!1;const u=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,c=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((f,p)=>{const m=i.get(f),_=Ol(this.query,p)?p:null,v=!!m&&this.mutatedKeys.has(m.key),I=!!_&&(_.hasLocalMutations||this.mutatedKeys.has(_.key)&&_.hasCommittedMutations);let P=!1;m&&_?m.data.isEqual(_.data)?v!==I&&(r.track({type:3,doc:_}),P=!0):this.ga(m,_)||(r.track({type:2,doc:_}),P=!0,(u&&this.Aa(_,u)>0||c&&this.Aa(_,c)<0)&&(l=!0)):!m&&_?(r.track({type:0,doc:_}),P=!0):m&&!_&&(r.track({type:1,doc:m}),P=!0,(u||c)&&(l=!0)),P&&(_?(s=s.add(_),o=I?o.add(f):o.delete(f)):(s=s.delete(f),o=o.delete(f)))}),this.query.limit!==null)for(;s.size>this.query.limit;){const f=this.query.limitType==="F"?s.last():s.first();s=s.delete(f.key),o=o.delete(f.key),r.track({type:1,doc:f})}return{Ra:s,fa:r,ns:l,mutatedKeys:o}}ga(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){const o=this.Ra;this.Ra=e.Ra,this.mutatedKeys=e.mutatedKeys;const s=e.fa.G_();s.sort((f,p)=>function(_,v){const I=P=>{switch(P){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ie()}};return I(_)-I(v)}(f.type,p.type)||this.Aa(f.doc,p.doc)),this.pa(r),i=i!=null&&i;const l=n&&!i?this.ya():[],u=this.da.size===0&&this.current&&!i?1:0,c=u!==this.Ea;return this.Ea=u,s.length!==0||c?{snapshot:new Mi(this.query,e.Ra,o,s,e.mutatedKeys,u===0,c,!1,!!r&&r.resumeToken.approximateByteSize()>0),wa:l}:{wa:l}}Z_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new Lm,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(e){return!this.Ta.has(e)&&!!this.Ra.has(e)&&!this.Ra.get(e).hasLocalMutations}pa(e){e&&(e.addedDocuments.forEach(n=>this.Ta=this.Ta.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ta=this.Ta.delete(n)),this.current=e.current)}ya(){if(!this.current)return[];const e=this.da;this.da=ue(),this.Ra.forEach(r=>{this.Sa(r.key)&&(this.da=this.da.add(r.key))});const n=[];return e.forEach(r=>{this.da.has(r)||n.push(new B0(r))}),this.da.forEach(r=>{e.has(r)||n.push(new U0(r))}),n}ba(e){this.Ta=e.Ts,this.da=ue();const n=this.ma(e.documents);return this.applyChanges(n,!0)}Da(){return Mi.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,this.Ea===0,this.hasCachedResults)}}class kA{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class NA{constructor(e){this.key=e,this.va=!1}}class VA{constructor(e,n,r,i,o,s){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=o,this.maxConcurrentLimboResolutions=s,this.Ca={},this.Fa=new $r(l=>r0(l),Dl),this.Ma=new Map,this.xa=new Set,this.Oa=new Ve(te.comparator),this.Na=new Map,this.La=new df,this.Ba={},this.ka=new Map,this.qa=bi.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return this.Qa===!0}}async function DA(t,e,n=!0){const r=G0(t);let i;const o=r.Fa.get(e);return o?(r.sharedClientState.addLocalQueryTarget(o.targetId),i=o.view.Da()):i=await z0(r,e,n,!0),i}async function OA(t,e){const n=G0(t);await z0(n,e,!0,!1)}async function z0(t,e,n,r){const i=await nA(t.localStore,un(e)),o=i.targetId,s=t.sharedClientState.addLocalQueryTarget(o,n);let l;return r&&(l=await bA(t,e,o,s==="current",i.resumeToken)),t.isPrimaryClient&&n&&N0(t.remoteStore,i),l}async function bA(t,e,n,r,i){t.Ka=(p,m,_)=>async function(I,P,w,E){let x=P.view.ma(w);x.ns&&(x=await Dm(I.localStore,P.query,!1).then(({documents:S})=>P.view.ma(S,x)));const b=E&&E.targetChanges.get(P.targetId),z=E&&E.targetMismatches.get(P.targetId)!=null,$=P.view.applyChanges(x,I.isPrimaryClient,b,z);return Bm(I,P.targetId,$.wa),$.snapshot}(t,p,m,_);const o=await Dm(t.localStore,e,!0),s=new RA(e,o.Ts),l=s.ma(o.documents),u=Es.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),c=s.applyChanges(l,t.isPrimaryClient,u);Bm(t,n,c.wa);const f=new kA(e,n,s);return t.Fa.set(e,f),t.Ma.has(n)?t.Ma.get(n).push(e):t.Ma.set(n,[e]),c.snapshot}async function MA(t,e,n){const r=ae(t),i=r.Fa.get(e),o=r.Ma.get(i.targetId);if(o.length>1)return r.Ma.set(i.targetId,o.filter(s=>!Dl(s,e))),void r.Fa.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await Jc(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&gf(r.remoteStore,i.targetId),eh(r,i.targetId)}).catch(qi)):(eh(r,i.targetId),await Jc(r.localStore,i.targetId,!0))}async function LA(t,e){const n=ae(t),r=n.Fa.get(e),i=n.Ma.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),gf(n.remoteStore,r.targetId))}async function jA(t,e,n){const r=WA(t);try{const i=await function(s,l){const u=ae(s),c=He.now(),f=l.reduce((_,v)=>_.add(v.key),ue());let p,m;return u.persistence.runTransaction("Locally write mutations","readwrite",_=>{let v=An(),I=ue();return u.cs.getEntries(_,f).next(P=>{v=P,v.forEach((w,E)=>{E.isValidDocument()||(I=I.add(w))})}).next(()=>u.localDocuments.getOverlayedDocuments(_,v)).next(P=>{p=P;const w=[];for(const E of l){const x=rx(E,p.get(E.key).overlayedDocument);x!=null&&w.push(new qr(E.key,x,Kv(x.value.mapValue),_n.exists(!0)))}return u.mutationQueue.addMutationBatch(_,c,w,l)}).next(P=>{m=P;const w=P.applyToLocalDocumentSet(p,I);return u.documentOverlayCache.saveOverlays(_,P.batchId,w)})}).then(()=>({batchId:m.batchId,changes:s0(p)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(s,l,u){let c=s.Ba[s.currentUser.toKey()];c||(c=new Ve(de)),c=c.insert(l,u),s.Ba[s.currentUser.toKey()]=c}(r,i.batchId,n),await Ss(r,i.changes),await Ul(r.remoteStore)}catch(i){const o=Ef(i,"Failed to persist write");n.reject(o)}}async function $0(t,e){const n=ae(t);try{const r=await Zx(n.localStore,e);e.targetChanges.forEach((i,o)=>{const s=n.Na.get(o);s&&(ve(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?s.va=!0:i.modifiedDocuments.size>0?ve(s.va):i.removedDocuments.size>0&&(ve(s.va),s.va=!1))}),await Ss(n,r,e)}catch(r){await qi(r)}}function Um(t,e,n){const r=ae(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.Fa.forEach((o,s)=>{const l=s.view.Z_(e);l.snapshot&&i.push(l.snapshot)}),function(s,l){const u=ae(s);u.onlineState=l;let c=!1;u.queries.forEach((f,p)=>{for(const m of p.j_)m.Z_(l)&&(c=!0)}),c&&Tf(u)}(r.eventManager,e),i.length&&r.Ca.d_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function FA(t,e,n){const r=ae(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.Na.get(e),o=i&&i.key;if(o){let s=new Ve(te.comparator);s=s.insert(o,ft.newNoDocument(o,oe.min()));const l=ue().add(o),u=new Ll(oe.min(),new Map,new Ve(de),s,l);await $0(r,u),r.Oa=r.Oa.remove(o),r.Na.delete(e),Sf(r)}else await Jc(r.localStore,e,!1).then(()=>eh(r,e,n)).catch(qi)}async function UA(t,e){const n=ae(t),r=e.batch.batchId;try{const i=await Jx(n.localStore,e);W0(n,r,null),q0(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Ss(n,i)}catch(i){await qi(i)}}async function BA(t,e,n){const r=ae(t);try{const i=await function(s,l){const u=ae(s);return u.persistence.runTransaction("Reject batch","readwrite-primary",c=>{let f;return u.mutationQueue.lookupMutationBatch(c,l).next(p=>(ve(p!==null),f=p.keys(),u.mutationQueue.removeMutationBatch(c,p))).next(()=>u.mutationQueue.performConsistencyCheck(c)).next(()=>u.documentOverlayCache.removeOverlaysForBatchId(c,f,l)).next(()=>u.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(c,f)).next(()=>u.localDocuments.getDocuments(c,f))})}(r.localStore,e);W0(r,e,n),q0(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await Ss(r,i)}catch(i){await qi(i)}}function q0(t,e){(t.ka.get(e)||[]).forEach(n=>{n.resolve()}),t.ka.delete(e)}function W0(t,e,n){const r=ae(t);let i=r.Ba[r.currentUser.toKey()];if(i){const o=i.get(e);o&&(n?o.reject(n):o.resolve(),i=i.remove(e)),r.Ba[r.currentUser.toKey()]=i}}function eh(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Ma.get(e))t.Fa.delete(r),n&&t.Ca.$a(r,n);t.Ma.delete(e),t.isPrimaryClient&&t.La.gr(e).forEach(r=>{t.La.containsKey(r)||H0(t,r)})}function H0(t,e){t.xa.delete(e.path.canonicalString());const n=t.Oa.get(e);n!==null&&(gf(t.remoteStore,n),t.Oa=t.Oa.remove(e),t.Na.delete(n),Sf(t))}function Bm(t,e,n){for(const r of n)r instanceof U0?(t.La.addReference(r.key,e),zA(t,r)):r instanceof B0?(K("SyncEngine","Document no longer in limbo: "+r.key),t.La.removeReference(r.key,e),t.La.containsKey(r.key)||H0(t,r.key)):ie()}function zA(t,e){const n=e.key,r=n.path.canonicalString();t.Oa.get(n)||t.xa.has(r)||(K("SyncEngine","New document in limbo: "+n),t.xa.add(r),Sf(t))}function Sf(t){for(;t.xa.size>0&&t.Oa.size<t.maxConcurrentLimboResolutions;){const e=t.xa.values().next().value;t.xa.delete(e);const n=new te(xe.fromString(e)),r=t.qa.next();t.Na.set(r,new NA(n)),t.Oa=t.Oa.insert(n,r),N0(t.remoteStore,new Bn(un(lf(n.path)),r,"TargetPurposeLimboResolution",kl.oe))}}async function Ss(t,e,n){const r=ae(t),i=[],o=[],s=[];r.Fa.isEmpty()||(r.Fa.forEach((l,u)=>{s.push(r.Ka(u,e,n).then(c=>{var f;if((c||n)&&r.isPrimaryClient){const p=c?!c.fromCache:(f=n==null?void 0:n.targetChanges.get(u.targetId))===null||f===void 0?void 0:f.current;r.sharedClientState.updateQueryState(u.targetId,p?"current":"not-current")}if(c){i.push(c);const p=mf.Wi(u.targetId,c);o.push(p)}}))}),await Promise.all(s),r.Ca.d_(i),await async function(u,c){const f=ae(u);try{await f.persistence.runTransaction("notifyLocalViewChanges","readwrite",p=>U.forEach(c,m=>U.forEach(m.$i,_=>f.persistence.referenceDelegate.addReference(p,m.targetId,_)).next(()=>U.forEach(m.Ui,_=>f.persistence.referenceDelegate.removeReference(p,m.targetId,_)))))}catch(p){if(!Wi(p))throw p;K("LocalStore","Failed to update sequence numbers: "+p)}for(const p of c){const m=p.targetId;if(!p.fromCache){const _=f.os.get(m),v=_.snapshotVersion,I=_.withLastLimboFreeSnapshotVersion(v);f.os=f.os.insert(m,I)}}}(r.localStore,o))}async function $A(t,e){const n=ae(t);if(!n.currentUser.isEqual(e)){K("SyncEngine","User change. New user:",e.toKey());const r=await C0(n.localStore,e);n.currentUser=e,function(o,s){o.ka.forEach(l=>{l.forEach(u=>{u.reject(new X(B.CANCELLED,s))})}),o.ka.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Ss(n,r.hs)}}function qA(t,e){const n=ae(t),r=n.Na.get(e);if(r&&r.va)return ue().add(r.key);{let i=ue();const o=n.Ma.get(e);if(!o)return i;for(const s of o){const l=n.Fa.get(s);i=i.unionWith(l.view.Va)}return i}}function G0(t){const e=ae(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=$0.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=qA.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=FA.bind(null,e),e.Ca.d_=CA.bind(null,e.eventManager),e.Ca.$a=PA.bind(null,e.eventManager),e}function WA(t){const e=ae(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=UA.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=BA.bind(null,e),e}class ll{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=jl(e.databaseInfo.databaseId),this.sharedClientState=this.Wa(e),this.persistence=this.Ga(e),await this.persistence.start(),this.localStore=this.za(e),this.gcScheduler=this.ja(e,this.localStore),this.indexBackfillerScheduler=this.Ha(e,this.localStore)}ja(e,n){return null}Ha(e,n){return null}za(e){return Xx(this.persistence,new Kx,e.initialUser,this.serializer)}Ga(e){return new A0(pf.Zr,this.serializer)}Wa(e){return new iA}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}ll.provider={build:()=>new ll};class HA extends ll{constructor(e){super(),this.cacheSizeBytes=e}ja(e,n){ve(this.persistence.referenceDelegate instanceof sl);const r=this.persistence.referenceDelegate.garbageCollector;return new Ox(r,e.asyncQueue,n)}Ga(e){const n=this.cacheSizeBytes!==void 0?xt.withCacheSize(this.cacheSizeBytes):xt.DEFAULT;return new A0(r=>sl.Zr(r,n),this.serializer)}}class th{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>Um(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=$A.bind(null,this.syncEngine),await IA(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new AA}()}createDatastore(e){const n=jl(e.databaseInfo.databaseId),r=function(o){return new lA(o)}(e.databaseInfo);return function(o,s,l,u){return new hA(o,s,l,u)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,i,o,s,l){return new dA(r,i,o,s,l)}(this.localStore,this.datastore,e.asyncQueue,n=>Um(this.syncEngine,n,0),function(){return bm.D()?new bm:new oA}())}createSyncEngine(e,n){return function(i,o,s,l,u,c,f){const p=new VA(i,o,s,l,u,c);return f&&(p.Qa=!0),p}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(i){const o=ae(i);K("RemoteStore","RemoteStore shutting down."),o.L_.add(5),await Ts(o),o.k_.shutdown(),o.q_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}th.provider={build:()=>new th};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q0{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ya(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ya(this.observer.error,e):xn("Uncaught Error in snapshot listener:",e.toString()))}Za(){this.muted=!0}Ya(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GA{constructor(e,n,r,i,o){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=ct.UNAUTHENTICATED,this.clientId=Hv.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=o,this.authCredentials.start(r,async s=>{K("FirestoreClient","Received user=",s.uid),await this.authCredentialListener(s),this.user=s}),this.appCheckCredentials.start(r,s=>(K("FirestoreClient","Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new er;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=Ef(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function Fu(t,e){t.asyncQueue.verifyOperationInProgress(),K("FirestoreClient","Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async i=>{r.isEqual(i)||(await C0(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function zm(t,e){t.asyncQueue.verifyOperationInProgress();const n=await QA(t);K("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>Mm(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>Mm(e.remoteStore,i)),t._onlineComponents=e}async function QA(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){K("FirestoreClient","Using user provided OfflineComponentProvider");try{await Fu(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(i){return i.name==="FirebaseError"?i.code===B.FAILED_PRECONDITION||i.code===B.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(n))throw n;Ni("Error using user provided cache. Falling back to memory cache: "+n),await Fu(t,new ll)}}else K("FirestoreClient","Using default OfflineComponentProvider"),await Fu(t,new HA(void 0));return t._offlineComponents}async function K0(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(K("FirestoreClient","Using user provided OnlineComponentProvider"),await zm(t,t._uninitializedComponentsProvider._online)):(K("FirestoreClient","Using default OnlineComponentProvider"),await zm(t,new th))),t._onlineComponents}function KA(t){return K0(t).then(e=>e.syncEngine)}async function nh(t){const e=await K0(t),n=e.eventManager;return n.onListen=DA.bind(null,e.syncEngine),n.onUnlisten=MA.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=OA.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=LA.bind(null,e.syncEngine),n}function YA(t,e,n={}){const r=new er;return t.asyncQueue.enqueueAndForget(async()=>function(o,s,l,u,c){const f=new Q0({next:m=>{f.Za(),s.enqueueAndForget(()=>j0(o,p)),m.fromCache&&u.source==="server"?c.reject(new X(B.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):c.resolve(m)},error:m=>c.reject(m)}),p=new F0(l,f,{includeMetadataChanges:!0,_a:!0});return L0(o,p)}(await nh(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Y0(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $m=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function X0(t,e,n){if(!n)throw new X(B.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function XA(t,e,n,r){if(e===!0&&r===!0)throw new X(B.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function qm(t){if(!te.isDocumentKey(t))throw new X(B.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function Wm(t){if(te.isDocumentKey(t))throw new X(B.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function Bl(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":ie()}function kr(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new X(B.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Bl(t);throw new X(B.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hm{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new X(B.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new X(B.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}XA("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Y0((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(o){if(o.timeoutSeconds!==void 0){if(isNaN(o.timeoutSeconds))throw new X(B.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (must not be NaN)`);if(o.timeoutSeconds<5)throw new X(B.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (minimum allowed value is 5)`);if(o.timeoutSeconds>30)throw new X(B.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class zl{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Hm({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new X(B.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new X(B.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Hm(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new cI;switch(r.type){case"firstParty":return new pI(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new X(B.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=$m.get(n);r&&(K("ComponentProvider","Removing Datastore"),$m.delete(n),r.terminate())}(this),Promise.resolve()}}function JA(t,e,n,r={}){var i;const o=(t=kr(t,zl))._getSettings(),s=`${e}:${n}`;if(o.host!=="firestore.googleapis.com"&&o.host!==s&&Ni("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},o),{host:s,ssl:!1})),r.mockUserToken){let l,u;if(typeof r.mockUserToken=="string")l=r.mockUserToken,u=ct.MOCK_USER;else{l=$T(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);const c=r.mockUserToken.sub||r.mockUserToken.user_id;if(!c)throw new X(B.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");u=new ct(c)}t._authCredentials=new hI(new Wv(l,u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fr{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new fr(this.firestore,e,this._query)}}class bt{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new tr(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new bt(this.firestore,e,this._key)}}class tr extends fr{constructor(e,n,r){super(e,n,lf(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new bt(this.firestore,null,new te(e))}withConverter(e){return new tr(this.firestore,e,this._path)}}function ul(t,e,...n){if(t=Mr(t),X0("collection","path",e),t instanceof zl){const r=xe.fromString(e,...n);return Wm(r),new tr(t,null,r)}{if(!(t instanceof bt||t instanceof tr))throw new X(B.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(xe.fromString(e,...n));return Wm(r),new tr(t.firestore,null,r)}}function ZA(t,e,...n){if(t=Mr(t),arguments.length===1&&(e=Hv.newId()),X0("doc","path",e),t instanceof zl){const r=xe.fromString(e,...n);return qm(r),new bt(t,null,new te(r))}{if(!(t instanceof bt||t instanceof tr))throw new X(B.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(xe.fromString(e,...n));return qm(r),new bt(t.firestore,t instanceof tr?t.converter:null,new te(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gm{constructor(e=Promise.resolve()){this.Pu=[],this.Iu=!1,this.Tu=[],this.Eu=null,this.du=!1,this.Au=!1,this.Ru=[],this.t_=new R0(this,"async_queue_retry"),this.Vu=()=>{const r=ju();r&&K("AsyncQueue","Visibility state changed to "+r.visibilityState),this.t_.jo()},this.mu=e;const n=ju();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.Vu)}get isShuttingDown(){return this.Iu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.fu(),this.gu(e)}enterRestrictedMode(e){if(!this.Iu){this.Iu=!0,this.Au=e||!1;const n=ju();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Vu)}}enqueue(e){if(this.fu(),this.Iu)return new Promise(()=>{});const n=new er;return this.gu(()=>this.Iu&&this.Au?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Pu.push(e),this.pu()))}async pu(){if(this.Pu.length!==0){try{await this.Pu[0](),this.Pu.shift(),this.t_.reset()}catch(e){if(!Wi(e))throw e;K("AsyncQueue","Operation failed with retryable error: "+e)}this.Pu.length>0&&this.t_.Go(()=>this.pu())}}gu(e){const n=this.mu.then(()=>(this.du=!0,e().catch(r=>{this.Eu=r,this.du=!1;const i=function(s){let l=s.message||"";return s.stack&&(l=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),l}(r);throw xn("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.du=!1,r))));return this.mu=n,n}enqueueAfterDelay(e,n,r){this.fu(),this.Ru.indexOf(e)>-1&&(n=0);const i=wf.createAndSchedule(this,e,n,r,o=>this.yu(o));return this.Tu.push(i),i}fu(){this.Eu&&ie()}verifyOperationInProgress(){}async wu(){let e;do e=this.mu,await e;while(e!==this.mu)}Su(e){for(const n of this.Tu)if(n.timerId===e)return!0;return!1}bu(e){return this.wu().then(()=>{this.Tu.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.Tu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.wu()})}Du(e){this.Ru.push(e)}yu(e){const n=this.Tu.indexOf(e);this.Tu.splice(n,1)}}function Qm(t){return function(n,r){if(typeof n!="object"||n===null)return!1;const i=n;for(const o of r)if(o in i&&typeof i[o]=="function")return!0;return!1}(t,["next","error","complete"])}class ds extends zl{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new Gm,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new Gm(e),this._firestoreClient=void 0,await e}}}function eC(t,e){const n=typeof t=="object"?t:JS(),r=typeof t=="string"?t:"(default)",i=QS(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const o=BT("firestore");o&&JA(i,...o)}return i}function If(t){if(t._terminated)throw new X(B.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||tC(t),t._firestoreClient}function tC(t){var e,n,r;const i=t._freezeSettings(),o=function(l,u,c,f){return new RI(l,u,c,f.host,f.ssl,f.experimentalForceLongPolling,f.experimentalAutoDetectLongPolling,Y0(f.experimentalLongPollingOptions),f.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._componentsProvider||!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),t._firestoreClient=new GA(t._authCredentials,t._appCheckCredentials,t._queue,o,t._componentsProvider&&function(l){const u=l==null?void 0:l._online.build();return{_offline:l==null?void 0:l._offline.build(u),_online:u}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Li{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Li(it.fromBase64String(e))}catch(n){throw new X(B.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Li(it.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xf{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new X(B.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new tt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J0{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Af{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new X(B.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new X(B.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return de(this._lat,e._lat)||de(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cf{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let o=0;o<r.length;++o)if(r[o]!==i[o])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nC=/^__.*__$/;class rC{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new qr(e,this.data,this.fieldMask,n,this.fieldTransforms):new ws(e,this.data,n,this.fieldTransforms)}}function Z0(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ie()}}class Pf{constructor(e,n,r,i,o,s){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,o===void 0&&this.vu(),this.fieldTransforms=o||[],this.fieldMask=s||[]}get path(){return this.settings.path}get Cu(){return this.settings.Cu}Fu(e){return new Pf(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Mu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Fu({path:r,xu:!1});return i.Ou(e),i}Nu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Fu({path:r,xu:!1});return i.vu(),i}Lu(e){return this.Fu({path:void 0,xu:!0})}Bu(e){return cl(e,this.settings.methodName,this.settings.ku||!1,this.path,this.settings.qu)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}vu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Ou(this.path.get(e))}Ou(e){if(e.length===0)throw this.Bu("Document fields must not be empty");if(Z0(this.Cu)&&nC.test(e))throw this.Bu('Document fields cannot begin and end with "__"')}}class iC{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||jl(e)}Qu(e,n,r,i=!1){return new Pf({Cu:e,methodName:n,qu:r,path:tt.emptyPath(),xu:!1,ku:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function e_(t){const e=t._freezeSettings(),n=jl(t._databaseId);return new iC(t._databaseId,!!e.ignoreUndefinedProperties,n)}function oC(t,e,n,r,i,o={}){const s=t.Qu(o.merge||o.mergeFields?2:0,e,n,i);r_("Data must be an object, but it was:",s,r);const l=t_(r,s);let u,c;if(o.merge)u=new Jt(s.fieldMask),c=s.fieldTransforms;else if(o.mergeFields){const f=[];for(const p of o.mergeFields){const m=aC(e,p,n);if(!s.contains(m))throw new X(B.INVALID_ARGUMENT,`Field '${m}' is specified in your field mask but missing from your input data.`);uC(f,m)||f.push(m)}u=new Jt(f),c=s.fieldTransforms.filter(p=>u.covers(p.field))}else u=null,c=s.fieldTransforms;return new rC(new zt(l),u,c)}function sC(t,e,n,r=!1){return Rf(n,t.Qu(r?4:3,e))}function Rf(t,e){if(n_(t=Mr(t)))return r_("Unsupported field value:",e,t),t_(t,e);if(t instanceof J0)return function(r,i){if(!Z0(i.Cu))throw i.Bu(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Bu(`${r._methodName}() is not currently supported inside arrays`);const o=r._toFieldTransform(i);o&&i.fieldTransforms.push(o)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.xu&&e.Cu!==4)throw e.Bu("Nested arrays are not supported");return function(r,i){const o=[];let s=0;for(const l of r){let u=Rf(l,i.Lu(s));u==null&&(u={nullValue:"NULL_VALUE"}),o.push(u),s++}return{arrayValue:{values:o}}}(t,e)}return function(r,i){if((r=Mr(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return XI(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const o=He.fromDate(r);return{timestampValue:ol(i.serializer,o)}}if(r instanceof He){const o=new He(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:ol(i.serializer,o)}}if(r instanceof Af)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Li)return{bytesValue:_0(i.serializer,r._byteString)};if(r instanceof bt){const o=i.databaseId,s=r.firestore._databaseId;if(!s.isEqual(o))throw i.Bu(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:ff(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof Cf)return function(s,l){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:s.toArray().map(u=>{if(typeof u!="number")throw l.Bu("VectorValues must only contain numeric values.");return uf(l.serializer,u)})}}}}}}(r,i);throw i.Bu(`Unsupported field value: ${Bl(r)}`)}(t,e)}function t_(t,e){const n={};return Gv(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):zr(t,(r,i)=>{const o=Rf(i,e.Mu(r));o!=null&&(n[r]=o)}),{mapValue:{fields:n}}}function n_(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof He||t instanceof Af||t instanceof Li||t instanceof bt||t instanceof J0||t instanceof Cf)}function r_(t,e,n){if(!n_(n)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(n)){const r=Bl(n);throw r==="an object"?e.Bu(t+" a custom object"):e.Bu(t+" "+r)}}function aC(t,e,n){if((e=Mr(e))instanceof xf)return e._internalPath;if(typeof e=="string")return i_(t,e);throw cl("Field path arguments must be of type string or ",t,!1,void 0,n)}const lC=new RegExp("[~\\*/\\[\\]]");function i_(t,e,n){if(e.search(lC)>=0)throw cl(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new xf(...e.split("."))._internalPath}catch{throw cl(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function cl(t,e,n,r,i){const o=r&&!r.isEmpty(),s=i!==void 0;let l=`Function ${e}() called with invalid data`;n&&(l+=" (via `toFirestore()`)"),l+=". ";let u="";return(o||s)&&(u+=" (found",o&&(u+=` in field ${r}`),s&&(u+=` in document ${i}`),u+=")"),new X(B.INVALID_ARGUMENT,l+t+u)}function uC(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o_{constructor(e,n,r,i,o){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new bt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new cC(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(kf("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class cC extends o_{data(){return super.data()}}function kf(t,e){return typeof e=="string"?i_(t,e):e instanceof xf?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function s_(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new X(B.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Nf{}class a_ extends Nf{}function hC(t,e,...n){let r=[];e instanceof Nf&&r.push(e),r=r.concat(n),function(o){const s=o.filter(u=>u instanceof Df).length,l=o.filter(u=>u instanceof Vf).length;if(s>1||s>0&&l>0)throw new X(B.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)t=i._apply(t);return t}class Vf extends a_{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new Vf(e,n,r)}_apply(e){const n=this._parse(e);return l_(e._query,n),new fr(e.firestore,e.converter,Hc(e._query,n))}_parse(e){const n=e_(e.firestore);return function(o,s,l,u,c,f,p){let m;if(c.isKeyField()){if(f==="array-contains"||f==="array-contains-any")throw new X(B.INVALID_ARGUMENT,`Invalid Query. You can't perform '${f}' queries on documentId().`);if(f==="in"||f==="not-in"){Ym(p,f);const _=[];for(const v of p)_.push(Km(u,o,v));m={arrayValue:{values:_}}}else m=Km(u,o,p)}else f!=="in"&&f!=="not-in"&&f!=="array-contains-any"||Ym(p,f),m=sC(l,s,p,f==="in"||f==="not-in");return Ue.create(c,f,m)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}class Df extends Nf{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new Df(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:nn.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(i,o){let s=i;const l=o.getFlattenedFilters();for(const u of l)l_(s,u),s=Hc(s,u)}(e._query,n),new fr(e.firestore,e.converter,Hc(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class Of extends a_{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new Of(e,n)}_apply(e){const n=function(i,o,s){if(i.startAt!==null)throw new X(B.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(i.endAt!==null)throw new X(B.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new cs(o,s)}(e._query,this._field,this._direction);return new fr(e.firestore,e.converter,function(i,o){const s=i.explicitOrderBy.concat([o]);return new Hi(i.path,i.collectionGroup,s,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(e._query,n))}}function fC(t,e="asc"){const n=e,r=kf("orderBy",t);return Of._create(r,n)}function Km(t,e,n){if(typeof(n=Mr(n))=="string"){if(n==="")throw new X(B.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!n0(e)&&n.indexOf("/")!==-1)throw new X(B.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(xe.fromString(n));if(!te.isDocumentKey(r))throw new X(B.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return pm(t,new te(r))}if(n instanceof bt)return pm(t,n._key);throw new X(B.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Bl(n)}.`)}function Ym(t,e){if(!Array.isArray(t)||t.length===0)throw new X(B.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function l_(t,e){const n=function(i,o){for(const s of i)for(const l of s.getFlattenedFilters())if(o.indexOf(l.op)>=0)return l.op;return null}(t.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new X(B.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new X(B.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class dC{convertValue(e,n="none"){switch(ar(e)){case 0:return null;case 1:return e.booleanValue;case 2:return be(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(sr(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw ie()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return zr(e,(i,o)=>{r[i]=this.convertValue(o,n)}),r}convertVectorValue(e){var n,r,i;const o=(i=(r=(n=e.fields)===null||n===void 0?void 0:n.value.arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.map(s=>be(s.doubleValue));return new Cf(o)}convertGeoPoint(e){return new Af(be(e.latitude),be(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=Vl(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(as(e));default:return null}}convertTimestamp(e){const n=or(e);return new He(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=xe.fromString(e);ve(x0(r));const i=new ls(r.get(1),r.get(3)),o=new te(r.popFirst(5));return i.isEqual(n)||xn(`Document ${o} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pC(t,e,n){let r;return r=t?t.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xo{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class u_ extends o_{constructor(e,n,r,i,o,s){super(e,n,r,i,s),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Sa(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(kf("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class Sa extends u_{data(e={}){return super.data(e)}}class c_{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new xo(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new Sa(this._firestore,this._userDataWriter,r.key,r,new xo(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new X(B.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,o){if(i._snapshot.oldDocs.isEmpty()){let s=0;return i._snapshot.docChanges.map(l=>{const u=new Sa(i._firestore,i._userDataWriter,l.doc.key,l.doc,new xo(i._snapshot.mutatedKeys.has(l.doc.key),i._snapshot.fromCache),i.query.converter);return l.doc,{type:"added",doc:u,oldIndex:-1,newIndex:s++}})}{let s=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(l=>o||l.type!==3).map(l=>{const u=new Sa(i._firestore,i._userDataWriter,l.doc.key,l.doc,new xo(i._snapshot.mutatedKeys.has(l.doc.key),i._snapshot.fromCache),i.query.converter);let c=-1,f=-1;return l.type!==0&&(c=s.indexOf(l.doc.key),s=s.delete(l.doc.key)),l.type!==1&&(s=s.add(l.doc),f=s.indexOf(l.doc.key)),{type:mC(l.type),doc:u,oldIndex:c,newIndex:f}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function mC(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ie()}}class bf extends dC{constructor(e){super(),this.firestore=e}convertBytes(e){return new Li(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new bt(this.firestore,null,n)}}function gC(t){t=kr(t,fr);const e=kr(t.firestore,ds),n=If(e),r=new bf(e);return s_(t._query),YA(n,t._query).then(i=>new c_(e,r,t,i))}function h_(t,e){const n=kr(t.firestore,ds),r=ZA(t),i=pC(t.converter,e);return vC(n,[oC(e_(t.firestore),"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,_n.exists(!1))]).then(()=>r)}function yC(t,...e){var n,r,i;t=Mr(t);let o={includeMetadataChanges:!1,source:"default"},s=0;typeof e[s]!="object"||Qm(e[s])||(o=e[s],s++);const l={includeMetadataChanges:o.includeMetadataChanges,source:o.source};if(Qm(e[s])){const p=e[s];e[s]=(n=p.next)===null||n===void 0?void 0:n.bind(p),e[s+1]=(r=p.error)===null||r===void 0?void 0:r.bind(p),e[s+2]=(i=p.complete)===null||i===void 0?void 0:i.bind(p)}let u,c,f;if(t instanceof bt)c=kr(t.firestore,ds),f=lf(t._key.path),u={next:p=>{e[s]&&e[s](_C(c,t,p))},error:e[s+1],complete:e[s+2]};else{const p=kr(t,fr);c=kr(p.firestore,ds),f=p._query;const m=new bf(c);u={next:_=>{e[s]&&e[s](new c_(c,m,p,_))},error:e[s+1],complete:e[s+2]},s_(t._query)}return function(m,_,v,I){const P=new Q0(I),w=new F0(_,P,v);return m.asyncQueue.enqueueAndForget(async()=>L0(await nh(m),w)),()=>{P.Za(),m.asyncQueue.enqueueAndForget(async()=>j0(await nh(m),w))}}(If(c),f,l,u)}function vC(t,e){return function(r,i){const o=new er;return r.asyncQueue.enqueueAndForget(async()=>jA(await KA(r),i,o)),o.promise}(If(t),e)}function _C(t,e,n){const r=n.docs.get(e._key),i=new bf(t);return new u_(t,i,e._key,r,new xo(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){(function(i){$i=i})(XS),el(new is("firestore",(r,{instanceIdentifier:i,options:o})=>{const s=r.getProvider("app").getImmediate(),l=new ds(new fI(r.getProvider("auth-internal")),new gI(r.getProvider("app-check-internal")),function(c,f){if(!Object.prototype.hasOwnProperty.apply(c.options,["projectId"]))throw new X(B.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new ls(c.options.projectId,f)}(s,i),s);return o=Object.assign({useFetchStreams:n},o),l._setSettings(o),l},"PUBLIC").setMultipleInstances(!0)),Ti(lm,"4.7.4",e),Ti(lm,"4.7.4","esm2017")})();const wC={apiKey:"AIzaSyBwM6bYlWhTaMEGGC61rhAKDLTaUkiPdzk",authDomain:"birthday-f70ab.firebaseapp.com",projectId:"birthday-f70ab",storageBucket:"birthday-f70ab.appspot.com",messagingSenderId:"540378444726",appId:"1:540378444726:web:20bbf0ce1f97cdf70a0717",measurementId:"G-32X01CMT27"},EC=Mv(wC),hl=eC(EC);function TC(){const[t,e]=q.useState(""),[n,r]=q.useState(""),[i,o]=q.useState(!1),[s,l]=q.useState(""),[u,c]=q.useState([]),[f,p]=q.useState(!0);q.useEffect(()=>{const _=hC(ul(hl,"timeCapsule"),fC("timestamp","desc")),v=yC(_,I=>{const P=[];I.forEach(w=>{P.push({id:w.id,...w.data()})}),c(P),p(!1)});return()=>v()},[]);const m=async()=>{if(!t.trim()||!n.trim()){l("Both name and message are required!");return}o(!0),l("");try{await h_(ul(hl,"timeCapsule"),{name:t,message:n,timestamp:new Date().toISOString()}),e(""),r("")}catch(_){console.error("Error adding document: ",_),l("Failed to save your message. Please try again later.")}finally{o(!1)}};return O.jsxs("div",{className:"max-w-lg mx-auto p-6 bg-white rounded-lg shadow-lg",children:[O.jsx("h2",{className:"text-2xl font-bold mb-4",children:"Leave a Message for the Future"}),s&&O.jsx("p",{className:"text-red-500 mb-4",children:s}),O.jsx("input",{type:"text",value:t,onChange:_=>e(_.target.value),placeholder:"Your name",className:"w-full p-3 border border-gray-300 rounded-md mb-4"}),O.jsx("textarea",{value:n,onChange:_=>r(_.target.value),placeholder:"Your message to the future",className:"w-full p-3 border border-gray-300 rounded-md mb-4",rows:4}),O.jsx("button",{onClick:m,disabled:i,className:`w-full p-3 bg-gradient-to-r from-yellow-400 via-yellow-500 to-orange-600 text-white font-bold rounded-md ${i?"opacity-50 cursor-not-allowed":""}`,children:i?"Saving...":"Save Message"}),f?O.jsx("div",{className:"mt-6 text-center text-gray-500",children:"Loading messages..."}):O.jsxs("div",{className:"mt-6",children:[O.jsx("h3",{className:"text-xl font-semibold mb-4",children:"Messages:"}),O.jsx("div",{children:u.length===0?O.jsx("p",{className:"text-gray-500",children:"No messages yet. Be the first to leave one!"}):u.map(_=>O.jsxs("div",{className:"p-4 mb-4 bg-gray-100 rounded-md shadow-sm",children:[O.jsx("p",{className:"font-bold",children:_.name}),O.jsx("p",{children:_.message}),O.jsx("small",{className:"text-sm text-gray-500",children:new Date(_.timestamp).toLocaleString()})]},_.id))})]})]})}const SC=()=>O.jsx("section",{className:"w-full h-96 relative mt-24 px-4 animate-fade-in z-0",children:O.jsx("video",{className:"absolute inset-0 w-full h-full object-cover rounded-lg shadow-lg",autoPlay:!0,loop:!0,muted:!0,controls:!1,src:"/julian/assets/Happy Birthday Song!!!.mp4",children:"Your browser does not support the video tag."})}),IC=()=>O.jsxs("div",{className:"home-page bg-gradient-to-b from-blue-50 to-blue-100 min-h-screen flex flex-col items-center p-4 overflow-hidden relative",children:[O.jsx(gT,{}),O.jsx(mT,{}),O.jsx(ET,{}),O.jsx(SC,{}),O.jsx(vT,{}),O.jsx(_T,{}),O.jsx(wT,{}),O.jsx(yT,{}),O.jsx(TC,{}),O.jsx(NT,{})]});function xC(){const[t,e]=q.useState([]),[n,r]=q.useState(!0),[i,o]=q.useState(null),[s,l]=q.useState(""),[u,c]=q.useState("");q.useEffect(()=>{(async()=>{try{r(!0);const m=await gC(ul(hl,"wishes"));e(m.docs.map(_=>_.data()))}catch(m){o("Failed to load wishes. Please try again later."),console.error("Error fetching wishes:",m)}finally{r(!1)}})()},[]);const f=async p=>{if(p.preventDefault(),!s||!u){alert("Please fill out both fields.");return}const m={name:s,message:u};try{await h_(ul(hl,"wishes"),m),e(_=>[..._,m]),l(""),c("")}catch(_){console.error("Error adding wish:",_)}};return O.jsxs("div",{className:"wishes-wall max-w-4xl mx-auto p-8 bg-gradient-to-b from-yellow-100 to-yellow-50 rounded-xl shadow-2xl border-4 border-yellow-400 transform transition-all hover:shadow-3xl",children:[O.jsx("h2",{className:"text-4xl font-bold text-center text-yellow-800 mb-8",children:" Birthday Wishes "}),O.jsxs("form",{onSubmit:f,className:"wish-form flex flex-col items-center mb-10 space-y-4",children:[O.jsx("input",{type:"text",placeholder:"Your Name",value:s,onChange:p=>l(p.target.value),className:"w-full max-w-md p-3 text-yellow-900 border-2 border-yellow-400 rounded-lg focus:outline-none focus:ring-2 focus:ring-yellow-500 focus:bg-yellow-50 transform transition-all duration-300 hover:shadow-inner hover:bg-yellow-100",required:!0}),O.jsx("textarea",{placeholder:"Your Birthday Wish",value:u,onChange:p=>c(p.target.value),className:"w-full max-w-md p-3 text-yellow-900 border-2 border-yellow-400 rounded-lg focus:outline-none focus:ring-2 focus:ring-yellow-500 focus:bg-yellow-50 transform transition-all duration-300 hover:shadow-inner hover:bg-yellow-100",required:!0}),O.jsx("button",{type:"submit",className:"px-8 py-2 bg-yellow-600 text-white font-semibold rounded-full shadow-lg transform transition-transform duration-300 hover:scale-105 hover:bg-yellow-700 hover:shadow-2xl focus:outline-none",children:" Send Wish "})]}),n&&O.jsx("p",{className:"text-center text-yellow-700",children:"Loading wishes..."}),i&&O.jsx("p",{className:"text-center text-red-500",children:i}),O.jsx("div",{className:"wishes-container grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:t.map((p,m)=>O.jsxs("div",{className:"wish-card p-5 bg-gradient-to-br from-yellow-50 to-white border border-yellow-300 rounded-lg shadow-xl transform transition-all duration-300 hover:scale-105 hover:shadow-2xl",children:[O.jsx("h3",{className:"text-xl font-semibold text-yellow-900",children:p.name}),O.jsxs("p",{className:"text-yellow-800 mt-3 italic",children:['"',p.message,'"']})]},m))})]})}const AC=[{id:1,name:"Toy Car",price:200,displayPrice:"200 KSh",imageUrl:"/julian/assets/car.png"},{id:2,name:"Story Book",price:500,displayPrice:"500 KSh",imageUrl:"/julian/assets/storybook.png"},{id:3,name:"Birthday Outfit",price:1e3,displayPrice:"1000 KSh",imageUrl:"/julian/assets/outfit.png"},{id:4,name:"Lego Set",price:100,displayPrice:"100 KSh",imageUrl:"/julian/assets/legoset.png"},{id:5,name:"Smart Watch",price:500,displayPrice:"500 KSh",imageUrl:"/julian/assets/smartwatch.png"},{id:6,name:"Bicycle",price:5e3,displayPrice:"5000 KSh",imageUrl:"/julian/assets/bicycle.png"},{id:7,name:"Smart Toy",price:1e4,displayPrice:"10000 KSh",imageUrl:"/julian/assets/jettoy.png"},{id:8,name:"Sweet",price:10,displayPrice:"10 KSh",imageUrl:"/julian/assets/sweets.png"},{id:9,name:"Cake",price:20,displayPrice:"20 KSh",imageUrl:"/julian/assets/cake.png"},{id:10,name:"Yoghurt",price:50,displayPrice:"50 KSh",imageUrl:"/julian/assets/yoghurt.png"}],Xm={10:"https://payment.intasend.com/pay/6c98b103-7982-4157-8893-24a1aee23ef5/",20:"https://payment.intasend.com/pay/0cb96d4e-4cd3-4108-bf3d-993502151e0e/",50:"https://payment.intasend.com/pay/1e18a5c7-21da-4876-ae21-a6293a9f1fd8/",100:"https://payment.intasend.com/pay/9a08aec7-a59b-4b87-972d-5a8911ea8142/",200:"https://payment.intasend.com/pay/7565f265-647b-4e18-8ddf-3147eaf878c8/",500:"https://payment.intasend.com/pay/93b367db-9695-4352-8468-584f10c0aa68/",1e3:"https://payment.intasend.com/pay/20f8d627-d1ec-463d-b509-c10bfe0fa46e/",1e4:"https://payment.intasend.com/pay/2eaaf8fc-eb78-4b24-b2d0-a06d803316c3/"},f_=t=>{const n=Object.keys(Xm).map(Number).sort((r,i)=>r-i).find(r=>r>=t);return n?Xm[n]:null},CC=({item:t})=>{const e=f_(t.price);return O.jsxs("div",{className:`gift-item border p-4 rounded-lg shadow-lg transform transition ${e?"hover:scale-105 hover:shadow-xl cursor-pointer":"opacity-50 cursor-not-allowed"}`,onClick:()=>e&&window.open(e,"_blank"),children:[O.jsx("img",{src:t.imageUrl,alt:t.name,onError:n=>n.currentTarget.src="/julianbirthday/assets/placeholder.png",className:"w-full h-48 object-cover rounded-t-lg"}),O.jsxs("div",{className:"mt-4 text-center",children:[O.jsx("h3",{className:"text-xl font-semibold text-gray-800",children:t.name}),O.jsx("p",{className:"text-gray-600",children:t.displayPrice}),O.jsx("span",{className:`text-sm mt-2 inline-block ${e?"text-green-600":"text-red-500"}`,children:e?"Click to purchase gift":"No payment link available"})]})]})},PC=()=>{const t=AC.filter(e=>f_(e.price));return O.jsxs("div",{className:"gift-registry max-w-6xl mx-auto p-8",children:[O.jsx("h2",{className:"text-2xl font-bold text-center text-gray-800 mb-4",children:"Gift Registry for Julian"}),O.jsx("p",{className:"text-center text-gray-600 mb-6",children:"Choose from the wishlist to contribute a gift,  click on photo you will be directed and choose mpesa option, check your phone and input your pin!"}),O.jsx("div",{className:"gift-list grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6",children:t.map(e=>O.jsx(CC,{item:e},e.id))})]})};var d_={exports:{}};(function(t,e){(function(n,r){t.exports=r(q)})(typeof self<"u"?self:Jm,function(n){return function(r){var i={};function o(s){if(i[s])return i[s].exports;var l=i[s]={i:s,l:!1,exports:{}};return r[s].call(l.exports,l,l.exports,o),l.l=!0,l.exports}return o.m=r,o.c=i,o.d=function(s,l,u){o.o(s,l)||Object.defineProperty(s,l,{enumerable:!0,get:u})},o.r=function(s){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(s,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(s,"__esModule",{value:!0})},o.t=function(s,l){if(1&l&&(s=o(s)),8&l||4&l&&typeof s=="object"&&s&&s.__esModule)return s;var u=Object.create(null);if(o.r(u),Object.defineProperty(u,"default",{enumerable:!0,value:s}),2&l&&typeof s!="string")for(var c in s)o.d(u,c,(function(f){return s[f]}).bind(null,c));return u},o.n=function(s){var l=s&&s.__esModule?function(){return s.default}:function(){return s};return o.d(l,"a",l),l},o.o=function(s,l){return Object.prototype.hasOwnProperty.call(s,l)},o.p="",o(o.s=2)}([function(r,i){r.exports=n},function(r,i,o){var s={linear:function(l,u,c,f){return(c-u)*l/f+u},easeInQuad:function(l,u,c,f){return(c-u)*(l/=f)*l+u},easeOutQuad:function(l,u,c,f){return-(c-u)*(l/=f)*(l-2)+u},easeInOutQuad:function(l,u,c,f){var p=c-u;return(l/=f/2)<1?p/2*l*l+u:-p/2*(--l*(l-2)-1)+u},easeInCubic:function(l,u,c,f){return(c-u)*(l/=f)*l*l+u},easeOutCubic:function(l,u,c,f){return(c-u)*((l=l/f-1)*l*l+1)+u},easeInOutCubic:function(l,u,c,f){var p=c-u;return(l/=f/2)<1?p/2*l*l*l+u:p/2*((l-=2)*l*l+2)+u},easeInQuart:function(l,u,c,f){return(c-u)*(l/=f)*l*l*l+u},easeOutQuart:function(l,u,c,f){return-(c-u)*((l=l/f-1)*l*l*l-1)+u},easeInOutQuart:function(l,u,c,f){var p=c-u;return(l/=f/2)<1?p/2*l*l*l*l+u:-p/2*((l-=2)*l*l*l-2)+u},easeInQuint:function(l,u,c,f){return(c-u)*(l/=f)*l*l*l*l+u},easeOutQuint:function(l,u,c,f){return(c-u)*((l=l/f-1)*l*l*l*l+1)+u},easeInOutQuint:function(l,u,c,f){var p=c-u;return(l/=f/2)<1?p/2*l*l*l*l*l+u:p/2*((l-=2)*l*l*l*l+2)+u},easeInSine:function(l,u,c,f){var p=c-u;return-p*Math.cos(l/f*(Math.PI/2))+p+u},easeOutSine:function(l,u,c,f){return(c-u)*Math.sin(l/f*(Math.PI/2))+u},easeInOutSine:function(l,u,c,f){return-(c-u)/2*(Math.cos(Math.PI*l/f)-1)+u},easeInExpo:function(l,u,c,f){return l==0?u:(c-u)*Math.pow(2,10*(l/f-1))+u},easeOutExpo:function(l,u,c,f){var p=c-u;return l==f?u+p:p*(1-Math.pow(2,-10*l/f))+u},easeInOutExpo:function(l,u,c,f){var p=c-u;return l===0?u:l===f?u+p:(l/=f/2)<1?p/2*Math.pow(2,10*(l-1))+u:p/2*(2-Math.pow(2,-10*--l))+u},easeInCirc:function(l,u,c,f){return-(c-u)*(Math.sqrt(1-(l/=f)*l)-1)+u},easeOutCirc:function(l,u,c,f){return(c-u)*Math.sqrt(1-(l=l/f-1)*l)+u},easeInOutCirc:function(l,u,c,f){var p=c-u;return(l/=f/2)<1?-p/2*(Math.sqrt(1-l*l)-1)+u:p/2*(Math.sqrt(1-(l-=2)*l)+1)+u},easeInElastic:function(l,u,c,f){var p,m,_,v=c-u;return _=1.70158,l===0?u:(l/=f)==1?u+v:((m=0)||(m=.3*f),(p=v)<Math.abs(v)?(p=v,_=m/4):_=m/(2*Math.PI)*Math.asin(v/p),-p*Math.pow(2,10*(l-=1))*Math.sin((l*f-_)*(2*Math.PI)/m)+u)},easeOutElastic:function(l,u,c,f){var p,m,_,v=c-u;return _=1.70158,l===0?u:(l/=f)==1?u+v:((m=0)||(m=.3*f),(p=v)<Math.abs(v)?(p=v,_=m/4):_=m/(2*Math.PI)*Math.asin(v/p),p*Math.pow(2,-10*l)*Math.sin((l*f-_)*(2*Math.PI)/m)+v+u)},easeInOutElastic:function(l,u,c,f){var p,m,_,v=c-u;return _=1.70158,l===0?u:(l/=f/2)==2?u+v:((m=0)||(m=f*.44999999999999996),(p=v)<Math.abs(v)?(p=v,_=m/4):_=m/(2*Math.PI)*Math.asin(v/p),l<1?p*Math.pow(2,10*(l-=1))*Math.sin((l*f-_)*(2*Math.PI)/m)*-.5+u:p*Math.pow(2,-10*(l-=1))*Math.sin((l*f-_)*(2*Math.PI)/m)*.5+v+u)},easeInBack:function(l,u,c,f,p){return p===void 0&&(p=1.70158),(c-u)*(l/=f)*l*((p+1)*l-p)+u},easeOutBack:function(l,u,c,f,p){return p===void 0&&(p=1.70158),(c-u)*((l=l/f-1)*l*((p+1)*l+p)+1)+u},easeInOutBack:function(l,u,c,f,p){var m=c-u;return p===void 0&&(p=1.70158),(l/=f/2)<1?m/2*(l*l*((1+(p*=1.525))*l-p))+u:m/2*((l-=2)*l*((1+(p*=1.525))*l+p)+2)+u},easeInBounce:function(l,u,c,f){var p=c-u;return p-s.easeOutBounce(f-l,0,p,f)+u},easeOutBounce:function(l,u,c,f){var p=c-u;return(l/=f)<.36363636363636365?p*(7.5625*l*l)+u:l<.7272727272727273?p*(7.5625*(l-=.5454545454545454)*l+.75)+u:l<.9090909090909091?p*(7.5625*(l-=.8181818181818182)*l+.9375)+u:p*(7.5625*(l-=.9545454545454546)*l+.984375)+u},easeInOutBounce:function(l,u,c,f){var p=c-u;return l<f/2?.5*s.easeInBounce(2*l,0,p,f)+u:.5*s.easeOutBounce(2*l-f,0,p,f)+.5*p+u}};r.exports=s},function(r,i,o){r.exports=o(3)},function(r,i,o){o.r(i),o.d(i,"ReactConfetti",function(){return M});var s,l,u=o(0),c=o.n(u),f=o(1),p=o.n(f);function m(k,L){return k+Math.random()*(L-k)}function _(k,L){for(var F=0;F<L.length;F++){var D=L[F];D.enumerable=D.enumerable||!1,D.configurable=!0,"value"in D&&(D.writable=!0),Object.defineProperty(k,D.key,D)}}function v(k,L,F){return L in k?Object.defineProperty(k,L,{value:F,enumerable:!0,configurable:!0,writable:!0}):k[L]=F,k}(function(k){k[k.Circle=0]="Circle",k[k.Square=1]="Square",k[k.Strip=2]="Strip"})(s||(s={})),function(k){k[k.Positive=1]="Positive",k[k.Negative=-1]="Negative"}(l||(l={}));var I=function(){function k(D,Z,H,J){(function(Hr,Qi){if(!(Hr instanceof Qi))throw new TypeError("Cannot call a class as a function")})(this,k),v(this,"context",void 0),v(this,"radius",void 0),v(this,"x",void 0),v(this,"y",void 0),v(this,"w",void 0),v(this,"h",void 0),v(this,"vx",void 0),v(this,"vy",void 0),v(this,"shape",void 0),v(this,"angle",void 0),v(this,"angularSpin",void 0),v(this,"color",void 0),v(this,"rotateY",void 0),v(this,"rotationDirection",void 0),v(this,"getOptions",void 0),this.getOptions=Z;var ee,se,ce=this.getOptions(),$e=ce.colors,It=ce.initialVelocityX,mt=ce.initialVelocityY;this.context=D,this.x=H,this.y=J,this.w=m(5,20),this.h=m(5,20),this.radius=m(5,10),this.vx=typeof It=="number"?m(-It,It):m(It.min,It.max),this.vy=typeof mt=="number"?m(-mt,0):m(mt.min,mt.max),this.shape=(ee=0,se=2,Math.floor(ee+Math.random()*(se-ee+1))),this.angle=m(0,360)*Math.PI/180,this.angularSpin=m(-.2,.2),this.color=$e[Math.floor(Math.random()*$e.length)],this.rotateY=m(0,1),this.rotationDirection=m(0,1)?l.Positive:l.Negative}var L,F;return L=k,(F=[{key:"update",value:function(){var D=this.getOptions(),Z=D.gravity,H=D.wind,J=D.friction,ee=D.opacity,se=D.drawShape;this.x+=this.vx,this.y+=this.vy,this.vy+=Z,this.vx+=H,this.vx*=J,this.vy*=J,this.rotateY>=1&&this.rotationDirection===l.Positive?this.rotationDirection=l.Negative:this.rotateY<=-1&&this.rotationDirection===l.Negative&&(this.rotationDirection=l.Positive);var ce=.1*this.rotationDirection;if(this.rotateY+=ce,this.angle+=this.angularSpin,this.context.save(),this.context.translate(this.x,this.y),this.context.rotate(this.angle),this.context.scale(1,this.rotateY),this.context.rotate(this.angle),this.context.beginPath(),this.context.fillStyle=this.color,this.context.strokeStyle=this.color,this.context.globalAlpha=ee,this.context.lineCap="round",this.context.lineWidth=2,se&&typeof se=="function")se.call(this,this.context);else switch(this.shape){case s.Circle:this.context.beginPath(),this.context.arc(0,0,this.radius,0,2*Math.PI),this.context.fill();break;case s.Square:this.context.fillRect(-this.w/2,-this.h/2,this.w,this.h);break;case s.Strip:this.context.fillRect(-this.w/6,-this.h/2,this.w/3,this.h)}this.context.closePath(),this.context.restore()}}])&&_(L.prototype,F),k}();function P(k,L,F){return L in k?Object.defineProperty(k,L,{value:F,enumerable:!0,configurable:!0,writable:!0}):k[L]=F,k}var w=function k(L,F){var D=this;(function(H,J){if(!(H instanceof J))throw new TypeError("Cannot call a class as a function")})(this,k),P(this,"canvas",void 0),P(this,"context",void 0),P(this,"getOptions",void 0),P(this,"x",0),P(this,"y",0),P(this,"w",0),P(this,"h",0),P(this,"lastNumberOfPieces",0),P(this,"tweenInitTime",Date.now()),P(this,"particles",[]),P(this,"particlesGenerated",0),P(this,"removeParticleAt",function(H){D.particles.splice(H,1)}),P(this,"getParticle",function(){var H=m(D.x,D.w+D.x),J=m(D.y,D.h+D.y);return new I(D.context,D.getOptions,H,J)}),P(this,"animate",function(){var H=D.canvas,J=D.context,ee=D.particlesGenerated,se=D.lastNumberOfPieces,ce=D.getOptions(),$e=ce.run,It=ce.recycle,mt=ce.numberOfPieces,Hr=ce.debug,Qi=ce.tweenFunction,dr=ce.tweenDuration;if(!$e)return!1;var pr=D.particles.length,Pn=It?pr:ee,Le=Date.now();if(Pn<mt){se!==mt&&(D.tweenInitTime=Le,D.lastNumberOfPieces=mt);for(var Ge=D.tweenInitTime,Gr=Qi(Le-Ge>dr?dr:Math.max(0,Le-Ge),Pn,mt,dr),Ki=Math.round(Gr-Pn),Yi=0;Yi<Ki;Yi++)D.particles.push(D.getParticle());D.particlesGenerated+=Ki}return Hr&&(J.font="12px sans-serif",J.fillStyle="#333",J.textAlign="right",J.fillText("Particles: ".concat(pr),H.width-10,H.height-20)),D.particles.forEach(function(mr,Rn){mr.update(),(mr.y>H.height||mr.y<-100||mr.x>H.width+100||mr.x<-100)&&(It&&Pn<=mt?D.particles[Rn]=D.getParticle():D.removeParticleAt(Rn))}),pr>0||Pn<mt}),this.canvas=L;var Z=this.canvas.getContext("2d");if(!Z)throw new Error("Could not get canvas context");this.context=Z,this.getOptions=F};function E(k,L){var F=Object.keys(k);if(Object.getOwnPropertySymbols){var D=Object.getOwnPropertySymbols(k);L&&(D=D.filter(function(Z){return Object.getOwnPropertyDescriptor(k,Z).enumerable})),F.push.apply(F,D)}return F}function x(k){for(var L=1;L<arguments.length;L++){var F=arguments[L]!=null?arguments[L]:{};L%2?E(Object(F),!0).forEach(function(D){z(k,D,F[D])}):Object.getOwnPropertyDescriptors?Object.defineProperties(k,Object.getOwnPropertyDescriptors(F)):E(Object(F)).forEach(function(D){Object.defineProperty(k,D,Object.getOwnPropertyDescriptor(F,D))})}return k}function b(k,L){for(var F=0;F<L.length;F++){var D=L[F];D.enumerable=D.enumerable||!1,D.configurable=!0,"value"in D&&(D.writable=!0),Object.defineProperty(k,D.key,D)}}function z(k,L,F){return L in k?Object.defineProperty(k,L,{value:F,enumerable:!0,configurable:!0,writable:!0}):k[L]=F,k}var $={width:typeof window<"u"?window.innerWidth:300,height:typeof window<"u"?window.innerHeight:200,numberOfPieces:200,friction:.99,wind:0,gravity:.1,initialVelocityX:4,initialVelocityY:10,colors:["#f44336","#e91e63","#9c27b0","#673ab7","#3f51b5","#2196f3","#03a9f4","#00bcd4","#009688","#4CAF50","#8BC34A","#CDDC39","#FFEB3B","#FFC107","#FF9800","#FF5722","#795548"],opacity:1,debug:!1,tweenFunction:p.a.easeInOutQuad,tweenDuration:5e3,recycle:!0,run:!0},S=function(){function k(D,Z){var H=this;(function(ee,se){if(!(ee instanceof se))throw new TypeError("Cannot call a class as a function")})(this,k),z(this,"canvas",void 0),z(this,"context",void 0),z(this,"_options",void 0),z(this,"generator",void 0),z(this,"rafId",void 0),z(this,"setOptionsWithDefaults",function(ee){var se={confettiSource:{x:0,y:0,w:H.canvas.width,h:0}};H._options=x(x(x({},se),$),ee),Object.assign(H,ee.confettiSource)}),z(this,"update",function(){var ee=H.options,se=ee.run,ce=ee.onConfettiComplete,$e=H.canvas,It=H.context;se&&(It.fillStyle="white",It.clearRect(0,0,$e.width,$e.height)),H.generator.animate()?H.rafId=requestAnimationFrame(H.update):(ce&&typeof ce=="function"&&H.generator.particlesGenerated>0&&ce.call(H,H),H._options.run=!1)}),z(this,"reset",function(){H.generator&&H.generator.particlesGenerated>0&&(H.generator.particlesGenerated=0,H.generator.particles=[],H.generator.lastNumberOfPieces=0)}),z(this,"stop",function(){H.options={run:!1},H.rafId&&(cancelAnimationFrame(H.rafId),H.rafId=void 0)}),this.canvas=D;var J=this.canvas.getContext("2d");if(!J)throw new Error("Could not get canvas context");this.context=J,this.generator=new w(this.canvas,function(){return H.options}),this.options=Z,this.update()}var L,F;return L=k,(F=[{key:"options",get:function(){return this._options},set:function(D){var Z=this._options&&this._options.run,H=this._options&&this._options.recycle;this.setOptionsWithDefaults(D),this.generator&&(Object.assign(this.generator,this.options.confettiSource),typeof D.recycle=="boolean"&&D.recycle&&H===!1&&(this.generator.lastNumberOfPieces=this.generator.particles.length)),typeof D.run=="boolean"&&D.run&&Z===!1&&this.update()}}])&&b(L.prototype,F),k}();function y(k){return function(L){if(Array.isArray(L))return Et(L)}(k)||function(L){if(typeof Symbol<"u"&&Symbol.iterator in Object(L))return Array.from(L)}(k)||ze(k)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function T(k){return(T=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(L){return typeof L}:function(L){return L&&typeof Symbol=="function"&&L.constructor===Symbol&&L!==Symbol.prototype?"symbol":typeof L})(k)}function A(){return(A=Object.assign||function(k){for(var L=1;L<arguments.length;L++){var F=arguments[L];for(var D in F)Object.prototype.hasOwnProperty.call(F,D)&&(k[D]=F[D])}return k}).apply(this,arguments)}function R(k,L){var F=Object.keys(k);if(Object.getOwnPropertySymbols){var D=Object.getOwnPropertySymbols(k);L&&(D=D.filter(function(Z){return Object.getOwnPropertyDescriptor(k,Z).enumerable})),F.push.apply(F,D)}return F}function N(k){for(var L=1;L<arguments.length;L++){var F=arguments[L]!=null?arguments[L]:{};L%2?R(Object(F),!0).forEach(function(D){ye(k,D,F[D])}):Object.getOwnPropertyDescriptors?Object.defineProperties(k,Object.getOwnPropertyDescriptors(F)):R(Object(F)).forEach(function(D){Object.defineProperty(k,D,Object.getOwnPropertyDescriptor(F,D))})}return k}function C(k,L){return function(F){if(Array.isArray(F))return F}(k)||function(F,D){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(F)))){var Z=[],H=!0,J=!1,ee=void 0;try{for(var se,ce=F[Symbol.iterator]();!(H=(se=ce.next()).done)&&(Z.push(se.value),!D||Z.length!==D);H=!0);}catch($e){J=!0,ee=$e}finally{try{H||ce.return==null||ce.return()}finally{if(J)throw ee}}return Z}}(k,L)||ze(k,L)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function ze(k,L){if(k){if(typeof k=="string")return Et(k,L);var F=Object.prototype.toString.call(k).slice(8,-1);return F==="Object"&&k.constructor&&(F=k.constructor.name),F==="Map"||F==="Set"?Array.from(k):F==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(F)?Et(k,L):void 0}}function Et(k,L){(L==null||L>k.length)&&(L=k.length);for(var F=0,D=new Array(L);F<L;F++)D[F]=k[F];return D}function Ft(k,L){if(!(k instanceof L))throw new TypeError("Cannot call a class as a function")}function Tt(k,L){for(var F=0;F<L.length;F++){var D=L[F];D.enumerable=D.enumerable||!1,D.configurable=!0,"value"in D&&(D.writable=!0),Object.defineProperty(k,D.key,D)}}function Q(k,L){return(Q=Object.setPrototypeOf||function(F,D){return F.__proto__=D,F})(k,L)}function ne(k){var L=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}();return function(){var F,D=pe(k);if(L){var Z=pe(this).constructor;F=Reflect.construct(D,arguments,Z)}else F=D.apply(this,arguments);return re(this,F)}}function re(k,L){return!L||T(L)!=="object"&&typeof L!="function"?_e(k):L}function _e(k){if(k===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return k}function pe(k){return(pe=Object.setPrototypeOf?Object.getPrototypeOf:function(L){return L.__proto__||Object.getPrototypeOf(L)})(k)}function ye(k,L,F){return L in k?Object.defineProperty(k,L,{value:F,enumerable:!0,configurable:!0,writable:!0}):k[L]=F,k}var St=c.a.createRef(),Pe=function(k){(function(H,J){if(typeof J!="function"&&J!==null)throw new TypeError("Super expression must either be null or a function");H.prototype=Object.create(J&&J.prototype,{constructor:{value:H,writable:!0,configurable:!0}}),J&&Q(H,J)})(Z,k);var L,F,D=ne(Z);function Z(H){var J;Ft(this,Z);for(var ee=arguments.length,se=new Array(ee>1?ee-1:0),ce=1;ce<ee;ce++)se[ce-1]=arguments[ce];return ye(_e(J=D.call.apply(D,[this,H].concat(se))),"canvas",c.a.createRef()),ye(_e(J),"confetti",void 0),J.canvas=H.canvasRef||St,J}return L=Z,(F=[{key:"componentDidMount",value:function(){if(this.canvas.current){var H=pt(this.props)[0];this.confetti=new S(this.canvas.current,H)}}},{key:"componentDidUpdate",value:function(){var H=pt(this.props)[0];this.confetti&&(this.confetti.options=H)}},{key:"componentWillUnmount",value:function(){this.confetti&&this.confetti.stop(),this.confetti=void 0}},{key:"render",value:function(){var H=C(pt(this.props),2),J=H[0],ee=H[1],se=N({zIndex:2,position:"absolute",pointerEvents:"none",top:0,left:0,bottom:0,right:0},ee.style);return c.a.createElement("canvas",A({width:J.width,height:J.height,ref:this.canvas},ee,{style:se}))}}])&&Tt(L.prototype,F),Z}(u.Component);function pt(k){var L={},F={},D=[].concat(y(Object.keys($)),["confettiSource","drawShape","onConfettiComplete"]),Z=["canvasRef"];for(var H in k){var J=k[H];D.includes(H)?L[H]=J:Z.includes(H)?Z[H]=J:F[H]=J}return[L,F,{}]}ye(Pe,"defaultProps",N({},$)),ye(Pe,"displayName","ReactConfetti");var M=c.a.forwardRef(function(k,L){return c.a.createElement(Pe,A({canvasRef:L},k))});i.default=M}]).default})})(d_);var RC=d_.exports;const kC=rh(RC);function NC(){const t=["First pop!","Happy Birthday!","Here's a surprise wish!","Congrats on popping the balloon!","Keep going!","Amazing pop!","Special gift coming your way!","Another one popped!","You're unstoppable!","You're on fire!","Boom! A new wish!","Great job!"],[e,n]=q.useState(null),[r,i]=q.useState(new Set),[o,s]=q.useState(!1),[l,u]=q.useState(!1),[c,f]=q.useState(30),[p,m]=q.useState(1),[_,v]=q.useState([]),I=["red","yellow","blue","green","pink"],P=()=>{const x=[];for(let b=0;b<10;b++){const z=Math.random()<.2?"bonus":"normal";x.push(z)}v(x)};q.useEffect(()=>{P()},[]);const w=x=>{if(r.has(x))return;const b=t[Math.floor(Math.random()*t.length)];n(b),i(z=>new Set(z).add(x)),_[x]==="bonus"?(f($=>$+5),n("Bonus time! +5 seconds"),new Audio("./src/assets/.mp3").play()):_[x]==="penalty"?(f($=>$-3),n("Oh no! Time penalty! -3 seconds"),new Audio("./src/assets/penalty-sound.mp3").play()):new Audio("./src/assets/pop-94319.mp3").play(),r.size===9&&(s(!0),u(!0),new Audio("./src/assets/hooray-36461.mp3").play())},E=()=>{n(null),i(new Set),s(!1),u(!1),f(30),m(1),P()};return q.useEffect(()=>{if(c>0&&!o){const x=setInterval(()=>{f(b=>b-p)},1e3);return()=>clearInterval(x)}else c===0&&s(!0)},[c,o,p]),q.useEffect(()=>{c<=10&&m(2),c<=5&&m(3)},[c]),q.useEffect(()=>{if(l){const x=setTimeout(()=>u(!1),3e3);return()=>clearTimeout(x)}},[l]),O.jsxs("div",{className:"games-page min-h-screen flex flex-col items-center justify-center bg-gradient-to-b from-pink-100 to-yellow-200 py-16 px-4",children:[O.jsx("h2",{className:"text-4xl font-extrabold text-purple-700 mb-6 drop-shadow-lg text-center",children:" Balloon Pop Game "}),O.jsxs("p",{className:"text-lg font-bold text-gray-700 mb-4",children:["Time Left: ",c," seconds"]}),O.jsx("div",{className:"progress-bar bg-gray-300 w-full h-4 rounded-full mb-4",children:O.jsx("div",{className:"progress bg-green-500 h-4 rounded-full",style:{width:`${r.size/10*100}%`}})}),O.jsx("div",{className:"balloon-container grid grid-cols-2 sm:grid-cols-3 md:grid-cols-5 gap-4 mb-8",children:[...Array(10)].map((x,b)=>O.jsx("div",{className:`balloon w-20 h-20 sm:w-24 sm:h-24 rounded-full bg-${I[b%5]}-400 flex items-center justify-center text-5xl cursor-pointer transform transition-transform duration-300 
              ${r.has(b)?"scale-50 opacity-50 bg-gray-400":"hover:scale-110 hover:rotate-6"}`,onClick:()=>w(b),children:""},b))}),e&&O.jsx("div",{className:"pop-message text-lg font-semibold text-center bg-purple-300 p-4 rounded-md shadow-xl animate-fade-in mb-4",children:O.jsx("p",{children:e})}),o&&O.jsx("div",{className:"game-over-message text-2xl font-bold text-red-600 mb-8",children:O.jsx("p",{children:" All balloons popped! Game over! "})}),l&&O.jsx(kC,{}),O.jsx("button",{className:"mt-8 py-3 px-8 bg-blue-500 text-white rounded-lg hover:bg-blue-600 transition duration-300",onClick:E,children:o?"Play Again":"Reset Game"})]})}function VC(){const[t,e]=q.useState("200"),n={100:"https://payment.intasend.com/pay/9a08aec7-a59b-4b87-972d-5a8911ea8142/",200:"https://payment.intasend.com/pay/7565f265-647b-4e18-8ddf-3147eaf878c8/",500:"https://payment.intasend.com/pay/93b367db-9695-4352-8468-584f10c0aa68/",1e3:"https://payment.intasend.com/pay/20f8d627-d1ec-463d-b509-c10bfe0fa46e/",1e4:"https://payment.intasend.com/pay/2eaaf8fc-eb78-4b24-b2d0-a06d803316c3/"},r=()=>{const i=n[t];i?window.location.href=i:alert("Payment link not available")};return O.jsxs("div",{className:"ticket-purchase max-w-md mx-auto p-6 bg-gradient-to-br from-yellow-100 to-orange-200 rounded-lg shadow-2xl text-center",children:[O.jsx("h2",{className:"text-3xl font-extrabold mb-4 text-orange-800",children:" Buy a Ticket "}),O.jsx("p",{className:"mb-6 text-lg text-gray-700",children:"Celebrate with us! Select your ticket type below and join the fun!"}),O.jsxs("div",{className:"text-yellow-600 flex justify-center items-center space-x-2 mb-4",children:[O.jsx(kT,{size:24}),O.jsxs("select",{value:t,onChange:i=>e(i.target.value),className:"ticket-select w-full p-2 bg-white border border-orange-400 rounded-lg focus:outline-none focus:ring-2 focus:ring-orange-500",children:[O.jsx("option",{value:"200",children:" General Ticket - 200 Ksh"}),O.jsx("option",{value:"500",children:" VIP Ticket - 500 Ksh"}),O.jsx("option",{value:"1000",children:" VVIP Ticket - 1000 Ksh"})]})]}),O.jsxs("button",{onClick:r,className:"purchase-button w-full bg-orange-500 text-white p-3 rounded-lg font-bold text-lg hover:bg-orange-600 transition relative overflow-hidden",children:[O.jsx("span",{className:"relative z-10",children:" Purchase Ticket "}),O.jsx("div",{className:"absolute inset-0 bg-yellow-400 opacity-0 hover:opacity-20 transition-transform transform scale-105 rounded-lg mix-blend-screen animate-pulse"})]})]})}function DC(){return O.jsxs(cT,{basename:"/julian",children:["  ",O.jsx("div",{className:"app bg-blue-50 min-h-screen",children:O.jsxs(rT,{children:[O.jsx(Zr,{path:"/",element:O.jsx(IC,{})}),O.jsx(Zr,{path:"/WishesPage",element:O.jsx(xC,{})}),O.jsx(Zr,{path:"/GiftRegistryPage",element:O.jsx(PC,{})}),O.jsx(Zr,{path:"/BirthdayGames",element:O.jsx(NC,{})}),O.jsx(Zr,{path:"/TicketPurchasePage",element:O.jsx(VC,{})})]})})]})}hv(document.getElementById("root")).render(O.jsx(q.StrictMode,{children:O.jsx(DC,{})}));
