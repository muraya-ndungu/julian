function m_(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const o=Object.getOwnPropertyDescriptor(r,i);o&&Object.defineProperty(t,i,o.get?o:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const s of o.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&r(s)}).observe(document,{childList:!0,subtree:!0});function n(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(i){if(i.ep)return;i.ep=!0;const o=n(i);fetch(i.href,o)}})();var Lm=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Xc(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var jm={exports:{}},al={},Fm={exports:{}},le={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ls=Symbol.for("react.element"),g_=Symbol.for("react.portal"),y_=Symbol.for("react.fragment"),v_=Symbol.for("react.strict_mode"),__=Symbol.for("react.profiler"),w_=Symbol.for("react.provider"),E_=Symbol.for("react.context"),T_=Symbol.for("react.forward_ref"),S_=Symbol.for("react.suspense"),I_=Symbol.for("react.memo"),C_=Symbol.for("react.lazy"),gd=Symbol.iterator;function P_(t){return t===null||typeof t!="object"?null:(t=gd&&t[gd]||t["@@iterator"],typeof t=="function"?t:null)}var Um={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Bm=Object.assign,zm={};function bi(t,e,n){this.props=t,this.context=e,this.refs=zm,this.updater=n||Um}bi.prototype.isReactComponent={};bi.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};bi.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function $m(){}$m.prototype=bi.prototype;function Jc(t,e,n){this.props=t,this.context=e,this.refs=zm,this.updater=n||Um}var Zc=Jc.prototype=new $m;Zc.constructor=Jc;Bm(Zc,bi.prototype);Zc.isPureReactComponent=!0;var yd=Array.isArray,Wm=Object.prototype.hasOwnProperty,eh={current:null},qm={key:!0,ref:!0,__self:!0,__source:!0};function Hm(t,e,n){var r,i={},o=null,s=null;if(e!=null)for(r in e.ref!==void 0&&(s=e.ref),e.key!==void 0&&(o=""+e.key),e)Wm.call(e,r)&&!qm.hasOwnProperty(r)&&(i[r]=e[r]);var l=arguments.length-2;if(l===1)i.children=n;else if(1<l){for(var u=Array(l),h=0;h<l;h++)u[h]=arguments[h+2];i.children=u}if(t&&t.defaultProps)for(r in l=t.defaultProps,l)i[r]===void 0&&(i[r]=l[r]);return{$$typeof:ls,type:t,key:o,ref:s,props:i,_owner:eh.current}}function A_(t,e){return{$$typeof:ls,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function th(t){return typeof t=="object"&&t!==null&&t.$$typeof===ls}function R_(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var vd=/\/+/g;function tu(t,e){return typeof t=="object"&&t!==null&&t.key!=null?R_(""+t.key):e.toString(36)}function ta(t,e,n,r,i){var o=typeof t;(o==="undefined"||o==="boolean")&&(t=null);var s=!1;if(t===null)s=!0;else switch(o){case"string":case"number":s=!0;break;case"object":switch(t.$$typeof){case ls:case g_:s=!0}}if(s)return s=t,i=i(s),t=r===""?"."+tu(s,0):r,yd(i)?(n="",t!=null&&(n=t.replace(vd,"$&/")+"/"),ta(i,e,n,"",function(h){return h})):i!=null&&(th(i)&&(i=A_(i,n+(!i.key||s&&s.key===i.key?"":(""+i.key).replace(vd,"$&/")+"/")+t)),e.push(i)),1;if(s=0,r=r===""?".":r+":",yd(t))for(var l=0;l<t.length;l++){o=t[l];var u=r+tu(o,l);s+=ta(o,e,n,u,i)}else if(u=P_(t),typeof u=="function")for(t=u.call(t),l=0;!(o=t.next()).done;)o=o.value,u=r+tu(o,l++),s+=ta(o,e,n,u,i);else if(o==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return s}function Vs(t,e,n){if(t==null)return t;var r=[],i=0;return ta(t,r,"","",function(o){return e.call(n,o,i++)}),r}function x_(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var _t={current:null},na={transition:null},k_={ReactCurrentDispatcher:_t,ReactCurrentBatchConfig:na,ReactCurrentOwner:eh};function Km(){throw Error("act(...) is not supported in production builds of React.")}le.Children={map:Vs,forEach:function(t,e,n){Vs(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return Vs(t,function(){e++}),e},toArray:function(t){return Vs(t,function(e){return e})||[]},only:function(t){if(!th(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};le.Component=bi;le.Fragment=y_;le.Profiler=__;le.PureComponent=Jc;le.StrictMode=v_;le.Suspense=S_;le.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=k_;le.act=Km;le.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=Bm({},t.props),i=t.key,o=t.ref,s=t._owner;if(e!=null){if(e.ref!==void 0&&(o=e.ref,s=eh.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var l=t.type.defaultProps;for(u in e)Wm.call(e,u)&&!qm.hasOwnProperty(u)&&(r[u]=e[u]===void 0&&l!==void 0?l[u]:e[u])}var u=arguments.length-2;if(u===1)r.children=n;else if(1<u){l=Array(u);for(var h=0;h<u;h++)l[h]=arguments[h+2];r.children=l}return{$$typeof:ls,type:t.type,key:i,ref:o,props:r,_owner:s}};le.createContext=function(t){return t={$$typeof:E_,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:w_,_context:t},t.Consumer=t};le.createElement=Hm;le.createFactory=function(t){var e=Hm.bind(null,t);return e.type=t,e};le.createRef=function(){return{current:null}};le.forwardRef=function(t){return{$$typeof:T_,render:t}};le.isValidElement=th;le.lazy=function(t){return{$$typeof:C_,_payload:{_status:-1,_result:t},_init:x_}};le.memo=function(t,e){return{$$typeof:I_,type:t,compare:e===void 0?null:e}};le.startTransition=function(t){var e=na.transition;na.transition={};try{t()}finally{na.transition=e}};le.unstable_act=Km;le.useCallback=function(t,e){return _t.current.useCallback(t,e)};le.useContext=function(t){return _t.current.useContext(t)};le.useDebugValue=function(){};le.useDeferredValue=function(t){return _t.current.useDeferredValue(t)};le.useEffect=function(t,e){return _t.current.useEffect(t,e)};le.useId=function(){return _t.current.useId()};le.useImperativeHandle=function(t,e,n){return _t.current.useImperativeHandle(t,e,n)};le.useInsertionEffect=function(t,e){return _t.current.useInsertionEffect(t,e)};le.useLayoutEffect=function(t,e){return _t.current.useLayoutEffect(t,e)};le.useMemo=function(t,e){return _t.current.useMemo(t,e)};le.useReducer=function(t,e,n){return _t.current.useReducer(t,e,n)};le.useRef=function(t){return _t.current.useRef(t)};le.useState=function(t){return _t.current.useState(t)};le.useSyncExternalStore=function(t,e,n){return _t.current.useSyncExternalStore(t,e,n)};le.useTransition=function(){return _t.current.useTransition()};le.version="18.3.1";Fm.exports=le;var q=Fm.exports;const zn=Xc(q),N_=m_({__proto__:null,default:zn},[q]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var D_=q,V_=Symbol.for("react.element"),O_=Symbol.for("react.fragment"),b_=Object.prototype.hasOwnProperty,M_=D_.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,L_={key:!0,ref:!0,__self:!0,__source:!0};function Qm(t,e,n){var r,i={},o=null,s=null;n!==void 0&&(o=""+n),e.key!==void 0&&(o=""+e.key),e.ref!==void 0&&(s=e.ref);for(r in e)b_.call(e,r)&&!L_.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:V_,type:t,key:o,ref:s,props:i,_owner:M_.current}}al.Fragment=O_;al.jsx=Qm;al.jsxs=Qm;jm.exports=al;var F=jm.exports,Gm={exports:{}},Mt={},Ym={exports:{}},Xm={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(Q,ne){var re=Q.length;Q.push(ne);e:for(;0<re;){var _e=re-1>>>1,pe=Q[_e];if(0<i(pe,ne))Q[_e]=ne,Q[re]=pe,re=_e;else break e}}function n(Q){return Q.length===0?null:Q[0]}function r(Q){if(Q.length===0)return null;var ne=Q[0],re=Q.pop();if(re!==ne){Q[0]=re;e:for(var _e=0,pe=Q.length,ye=pe>>>1;_e<ye;){var St=2*(_e+1)-1,Re=Q[St],pt=St+1,b=Q[pt];if(0>i(Re,re))pt<pe&&0>i(b,Re)?(Q[_e]=b,Q[pt]=re,_e=pt):(Q[_e]=Re,Q[St]=re,_e=St);else if(pt<pe&&0>i(b,re))Q[_e]=b,Q[pt]=re,_e=pt;else break e}}return ne}function i(Q,ne){var re=Q.sortIndex-ne.sortIndex;return re!==0?re:Q.id-ne.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;t.unstable_now=function(){return o.now()}}else{var s=Date,l=s.now();t.unstable_now=function(){return s.now()-l}}var u=[],h=[],d=1,p=null,m=3,E=!1,v=!1,C=!1,R=typeof setTimeout=="function"?setTimeout:null,_=typeof clearTimeout=="function"?clearTimeout:null,w=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function I(Q){for(var ne=n(h);ne!==null;){if(ne.callback===null)r(h);else if(ne.startTime<=Q)r(h),ne.sortIndex=ne.expirationTime,e(u,ne);else break;ne=n(h)}}function O(Q){if(C=!1,I(Q),!v)if(n(u)!==null)v=!0,jt(B);else{var ne=n(h);ne!==null&&Tt(O,ne.startTime-Q)}}function B(Q,ne){v=!1,C&&(C=!1,_(y),y=-1),E=!0;var re=m;try{for(I(ne),p=n(u);p!==null&&(!(p.expirationTime>ne)||Q&&!x());){var _e=p.callback;if(typeof _e=="function"){p.callback=null,m=p.priorityLevel;var pe=_e(p.expirationTime<=ne);ne=t.unstable_now(),typeof pe=="function"?p.callback=pe:p===n(u)&&r(u),I(ne)}else r(u);p=n(u)}if(p!==null)var ye=!0;else{var St=n(h);St!==null&&Tt(O,St.startTime-ne),ye=!1}return ye}finally{p=null,m=re,E=!1}}var $=!1,S=null,y=-1,T=5,P=-1;function x(){return!(t.unstable_now()-P<T)}function N(){if(S!==null){var Q=t.unstable_now();P=Q;var ne=!0;try{ne=S(!0,Q)}finally{ne?A():($=!1,S=null)}}else $=!1}var A;if(typeof w=="function")A=function(){w(N)};else if(typeof MessageChannel<"u"){var Be=new MessageChannel,Et=Be.port2;Be.port1.onmessage=N,A=function(){Et.postMessage(null)}}else A=function(){R(N,0)};function jt(Q){S=Q,$||($=!0,A())}function Tt(Q,ne){y=R(function(){Q(t.unstable_now())},ne)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(Q){Q.callback=null},t.unstable_continueExecution=function(){v||E||(v=!0,jt(B))},t.unstable_forceFrameRate=function(Q){0>Q||125<Q?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):T=0<Q?Math.floor(1e3/Q):5},t.unstable_getCurrentPriorityLevel=function(){return m},t.unstable_getFirstCallbackNode=function(){return n(u)},t.unstable_next=function(Q){switch(m){case 1:case 2:case 3:var ne=3;break;default:ne=m}var re=m;m=ne;try{return Q()}finally{m=re}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(Q,ne){switch(Q){case 1:case 2:case 3:case 4:case 5:break;default:Q=3}var re=m;m=Q;try{return ne()}finally{m=re}},t.unstable_scheduleCallback=function(Q,ne,re){var _e=t.unstable_now();switch(typeof re=="object"&&re!==null?(re=re.delay,re=typeof re=="number"&&0<re?_e+re:_e):re=_e,Q){case 1:var pe=-1;break;case 2:pe=250;break;case 5:pe=1073741823;break;case 4:pe=1e4;break;default:pe=5e3}return pe=re+pe,Q={id:d++,callback:ne,priorityLevel:Q,startTime:re,expirationTime:pe,sortIndex:-1},re>_e?(Q.sortIndex=re,e(h,Q),n(u)===null&&Q===n(h)&&(C?(_(y),y=-1):C=!0,Tt(O,re-_e))):(Q.sortIndex=pe,e(u,Q),v||E||(v=!0,jt(B))),Q},t.unstable_shouldYield=x,t.unstable_wrapCallback=function(Q){var ne=m;return function(){var re=m;m=ne;try{return Q.apply(this,arguments)}finally{m=re}}}})(Xm);Ym.exports=Xm;var j_=Ym.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var F_=q,bt=j_;function W(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Jm=new Set,Oo={};function br(t,e){Ei(t,e),Ei(t+"Capture",e)}function Ei(t,e){for(Oo[t]=e,t=0;t<e.length;t++)Jm.add(e[t])}var wn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Mu=Object.prototype.hasOwnProperty,U_=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,_d={},wd={};function B_(t){return Mu.call(wd,t)?!0:Mu.call(_d,t)?!1:U_.test(t)?wd[t]=!0:(_d[t]=!0,!1)}function z_(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function $_(t,e,n,r){if(e===null||typeof e>"u"||z_(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function wt(t,e,n,r,i,o,s){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=o,this.removeEmptyString=s}var rt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){rt[t]=new wt(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];rt[e]=new wt(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){rt[t]=new wt(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){rt[t]=new wt(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){rt[t]=new wt(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){rt[t]=new wt(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){rt[t]=new wt(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){rt[t]=new wt(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){rt[t]=new wt(t,5,!1,t.toLowerCase(),null,!1,!1)});var nh=/[\-:]([a-z])/g;function rh(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(nh,rh);rt[e]=new wt(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(nh,rh);rt[e]=new wt(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(nh,rh);rt[e]=new wt(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){rt[t]=new wt(t,1,!1,t.toLowerCase(),null,!1,!1)});rt.xlinkHref=new wt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){rt[t]=new wt(t,1,!1,t.toLowerCase(),null,!0,!0)});function ih(t,e,n,r){var i=rt.hasOwnProperty(e)?rt[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&($_(e,n,i,r)&&(n=null),r||i===null?B_(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var An=F_.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Os=Symbol.for("react.element"),ti=Symbol.for("react.portal"),ni=Symbol.for("react.fragment"),oh=Symbol.for("react.strict_mode"),Lu=Symbol.for("react.profiler"),Zm=Symbol.for("react.provider"),eg=Symbol.for("react.context"),sh=Symbol.for("react.forward_ref"),ju=Symbol.for("react.suspense"),Fu=Symbol.for("react.suspense_list"),ah=Symbol.for("react.memo"),On=Symbol.for("react.lazy"),tg=Symbol.for("react.offscreen"),Ed=Symbol.iterator;function oo(t){return t===null||typeof t!="object"?null:(t=Ed&&t[Ed]||t["@@iterator"],typeof t=="function"?t:null)}var Ne=Object.assign,nu;function po(t){if(nu===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);nu=e&&e[1]||""}return`
`+nu+t}var ru=!1;function iu(t,e){if(!t||ru)return"";ru=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(h){var r=h}Reflect.construct(t,[],e)}else{try{e.call()}catch(h){r=h}t.call(e.prototype)}else{try{throw Error()}catch(h){r=h}t()}}catch(h){if(h&&r&&typeof h.stack=="string"){for(var i=h.stack.split(`
`),o=r.stack.split(`
`),s=i.length-1,l=o.length-1;1<=s&&0<=l&&i[s]!==o[l];)l--;for(;1<=s&&0<=l;s--,l--)if(i[s]!==o[l]){if(s!==1||l!==1)do if(s--,l--,0>l||i[s]!==o[l]){var u=`
`+i[s].replace(" at new "," at ");return t.displayName&&u.includes("<anonymous>")&&(u=u.replace("<anonymous>",t.displayName)),u}while(1<=s&&0<=l);break}}}finally{ru=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?po(t):""}function W_(t){switch(t.tag){case 5:return po(t.type);case 16:return po("Lazy");case 13:return po("Suspense");case 19:return po("SuspenseList");case 0:case 2:case 15:return t=iu(t.type,!1),t;case 11:return t=iu(t.type.render,!1),t;case 1:return t=iu(t.type,!0),t;default:return""}}function Uu(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case ni:return"Fragment";case ti:return"Portal";case Lu:return"Profiler";case oh:return"StrictMode";case ju:return"Suspense";case Fu:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case eg:return(t.displayName||"Context")+".Consumer";case Zm:return(t._context.displayName||"Context")+".Provider";case sh:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case ah:return e=t.displayName||null,e!==null?e:Uu(t.type)||"Memo";case On:e=t._payload,t=t._init;try{return Uu(t(e))}catch{}}return null}function q_(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Uu(e);case 8:return e===oh?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function nr(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function ng(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function H_(t){var e=ng(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,o=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(s){r=""+s,o.call(this,s)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(s){r=""+s},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function bs(t){t._valueTracker||(t._valueTracker=H_(t))}function rg(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=ng(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function _a(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Bu(t,e){var n=e.checked;return Ne({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function Td(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=nr(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function ig(t,e){e=e.checked,e!=null&&ih(t,"checked",e,!1)}function zu(t,e){ig(t,e);var n=nr(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?$u(t,e.type,n):e.hasOwnProperty("defaultValue")&&$u(t,e.type,nr(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function Sd(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function $u(t,e,n){(e!=="number"||_a(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var mo=Array.isArray;function di(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+nr(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function Wu(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(W(91));return Ne({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function Id(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(W(92));if(mo(n)){if(1<n.length)throw Error(W(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:nr(n)}}function og(t,e){var n=nr(e.value),r=nr(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function Cd(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function sg(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function qu(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?sg(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Ms,ag=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Ms=Ms||document.createElement("div"),Ms.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Ms.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function bo(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var Eo={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},K_=["Webkit","ms","Moz","O"];Object.keys(Eo).forEach(function(t){K_.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Eo[e]=Eo[t]})});function lg(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||Eo.hasOwnProperty(t)&&Eo[t]?(""+e).trim():e+"px"}function ug(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=lg(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var Q_=Ne({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Hu(t,e){if(e){if(Q_[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(W(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(W(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(W(61))}if(e.style!=null&&typeof e.style!="object")throw Error(W(62))}}function Ku(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Qu=null;function lh(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Gu=null,pi=null,mi=null;function Pd(t){if(t=hs(t)){if(typeof Gu!="function")throw Error(W(280));var e=t.stateNode;e&&(e=fl(e),Gu(t.stateNode,t.type,e))}}function cg(t){pi?mi?mi.push(t):mi=[t]:pi=t}function hg(){if(pi){var t=pi,e=mi;if(mi=pi=null,Pd(t),e)for(t=0;t<e.length;t++)Pd(e[t])}}function fg(t,e){return t(e)}function dg(){}var ou=!1;function pg(t,e,n){if(ou)return t(e,n);ou=!0;try{return fg(t,e,n)}finally{ou=!1,(pi!==null||mi!==null)&&(dg(),hg())}}function Mo(t,e){var n=t.stateNode;if(n===null)return null;var r=fl(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(W(231,e,typeof n));return n}var Yu=!1;if(wn)try{var so={};Object.defineProperty(so,"passive",{get:function(){Yu=!0}}),window.addEventListener("test",so,so),window.removeEventListener("test",so,so)}catch{Yu=!1}function G_(t,e,n,r,i,o,s,l,u){var h=Array.prototype.slice.call(arguments,3);try{e.apply(n,h)}catch(d){this.onError(d)}}var To=!1,wa=null,Ea=!1,Xu=null,Y_={onError:function(t){To=!0,wa=t}};function X_(t,e,n,r,i,o,s,l,u){To=!1,wa=null,G_.apply(Y_,arguments)}function J_(t,e,n,r,i,o,s,l,u){if(X_.apply(this,arguments),To){if(To){var h=wa;To=!1,wa=null}else throw Error(W(198));Ea||(Ea=!0,Xu=h)}}function Mr(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function mg(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function Ad(t){if(Mr(t)!==t)throw Error(W(188))}function Z_(t){var e=t.alternate;if(!e){if(e=Mr(t),e===null)throw Error(W(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var o=i.alternate;if(o===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return Ad(i),t;if(o===r)return Ad(i),e;o=o.sibling}throw Error(W(188))}if(n.return!==r.return)n=i,r=o;else{for(var s=!1,l=i.child;l;){if(l===n){s=!0,n=i,r=o;break}if(l===r){s=!0,r=i,n=o;break}l=l.sibling}if(!s){for(l=o.child;l;){if(l===n){s=!0,n=o,r=i;break}if(l===r){s=!0,r=o,n=i;break}l=l.sibling}if(!s)throw Error(W(189))}}if(n.alternate!==r)throw Error(W(190))}if(n.tag!==3)throw Error(W(188));return n.stateNode.current===n?t:e}function gg(t){return t=Z_(t),t!==null?yg(t):null}function yg(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=yg(t);if(e!==null)return e;t=t.sibling}return null}var vg=bt.unstable_scheduleCallback,Rd=bt.unstable_cancelCallback,ew=bt.unstable_shouldYield,tw=bt.unstable_requestPaint,Me=bt.unstable_now,nw=bt.unstable_getCurrentPriorityLevel,uh=bt.unstable_ImmediatePriority,_g=bt.unstable_UserBlockingPriority,Ta=bt.unstable_NormalPriority,rw=bt.unstable_LowPriority,wg=bt.unstable_IdlePriority,ll=null,sn=null;function iw(t){if(sn&&typeof sn.onCommitFiberRoot=="function")try{sn.onCommitFiberRoot(ll,t,void 0,(t.current.flags&128)===128)}catch{}}var Jt=Math.clz32?Math.clz32:aw,ow=Math.log,sw=Math.LN2;function aw(t){return t>>>=0,t===0?32:31-(ow(t)/sw|0)|0}var Ls=64,js=4194304;function go(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Sa(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,o=t.pingedLanes,s=n&268435455;if(s!==0){var l=s&~i;l!==0?r=go(l):(o&=s,o!==0&&(r=go(o)))}else s=n&~i,s!==0?r=go(s):o!==0&&(r=go(o));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,o=e&-e,i>=o||i===16&&(o&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-Jt(e),i=1<<n,r|=t[n],e&=~i;return r}function lw(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function uw(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,o=t.pendingLanes;0<o;){var s=31-Jt(o),l=1<<s,u=i[s];u===-1?(!(l&n)||l&r)&&(i[s]=lw(l,e)):u<=e&&(t.expiredLanes|=l),o&=~l}}function Ju(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function Eg(){var t=Ls;return Ls<<=1,!(Ls&4194240)&&(Ls=64),t}function su(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function us(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Jt(e),t[e]=n}function cw(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-Jt(n),o=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~o}}function ch(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-Jt(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var we=0;function Tg(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var Sg,hh,Ig,Cg,Pg,Zu=!1,Fs=[],$n=null,Wn=null,qn=null,Lo=new Map,jo=new Map,Mn=[],hw="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function xd(t,e){switch(t){case"focusin":case"focusout":$n=null;break;case"dragenter":case"dragleave":Wn=null;break;case"mouseover":case"mouseout":qn=null;break;case"pointerover":case"pointerout":Lo.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":jo.delete(e.pointerId)}}function ao(t,e,n,r,i,o){return t===null||t.nativeEvent!==o?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:o,targetContainers:[i]},e!==null&&(e=hs(e),e!==null&&hh(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function fw(t,e,n,r,i){switch(e){case"focusin":return $n=ao($n,t,e,n,r,i),!0;case"dragenter":return Wn=ao(Wn,t,e,n,r,i),!0;case"mouseover":return qn=ao(qn,t,e,n,r,i),!0;case"pointerover":var o=i.pointerId;return Lo.set(o,ao(Lo.get(o)||null,t,e,n,r,i)),!0;case"gotpointercapture":return o=i.pointerId,jo.set(o,ao(jo.get(o)||null,t,e,n,r,i)),!0}return!1}function Ag(t){var e=Tr(t.target);if(e!==null){var n=Mr(e);if(n!==null){if(e=n.tag,e===13){if(e=mg(n),e!==null){t.blockedOn=e,Pg(t.priority,function(){Ig(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function ra(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=ec(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);Qu=r,n.target.dispatchEvent(r),Qu=null}else return e=hs(n),e!==null&&hh(e),t.blockedOn=n,!1;e.shift()}return!0}function kd(t,e,n){ra(t)&&n.delete(e)}function dw(){Zu=!1,$n!==null&&ra($n)&&($n=null),Wn!==null&&ra(Wn)&&(Wn=null),qn!==null&&ra(qn)&&(qn=null),Lo.forEach(kd),jo.forEach(kd)}function lo(t,e){t.blockedOn===e&&(t.blockedOn=null,Zu||(Zu=!0,bt.unstable_scheduleCallback(bt.unstable_NormalPriority,dw)))}function Fo(t){function e(i){return lo(i,t)}if(0<Fs.length){lo(Fs[0],t);for(var n=1;n<Fs.length;n++){var r=Fs[n];r.blockedOn===t&&(r.blockedOn=null)}}for($n!==null&&lo($n,t),Wn!==null&&lo(Wn,t),qn!==null&&lo(qn,t),Lo.forEach(e),jo.forEach(e),n=0;n<Mn.length;n++)r=Mn[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<Mn.length&&(n=Mn[0],n.blockedOn===null);)Ag(n),n.blockedOn===null&&Mn.shift()}var gi=An.ReactCurrentBatchConfig,Ia=!0;function pw(t,e,n,r){var i=we,o=gi.transition;gi.transition=null;try{we=1,fh(t,e,n,r)}finally{we=i,gi.transition=o}}function mw(t,e,n,r){var i=we,o=gi.transition;gi.transition=null;try{we=4,fh(t,e,n,r)}finally{we=i,gi.transition=o}}function fh(t,e,n,r){if(Ia){var i=ec(t,e,n,r);if(i===null)gu(t,e,r,Ca,n),xd(t,r);else if(fw(i,t,e,n,r))r.stopPropagation();else if(xd(t,r),e&4&&-1<hw.indexOf(t)){for(;i!==null;){var o=hs(i);if(o!==null&&Sg(o),o=ec(t,e,n,r),o===null&&gu(t,e,r,Ca,n),o===i)break;i=o}i!==null&&r.stopPropagation()}else gu(t,e,r,null,n)}}var Ca=null;function ec(t,e,n,r){if(Ca=null,t=lh(r),t=Tr(t),t!==null)if(e=Mr(t),e===null)t=null;else if(n=e.tag,n===13){if(t=mg(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Ca=t,null}function Rg(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(nw()){case uh:return 1;case _g:return 4;case Ta:case rw:return 16;case wg:return 536870912;default:return 16}default:return 16}}var jn=null,dh=null,ia=null;function xg(){if(ia)return ia;var t,e=dh,n=e.length,r,i="value"in jn?jn.value:jn.textContent,o=i.length;for(t=0;t<n&&e[t]===i[t];t++);var s=n-t;for(r=1;r<=s&&e[n-r]===i[o-r];r++);return ia=i.slice(t,1<r?1-r:void 0)}function oa(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Us(){return!0}function Nd(){return!1}function Lt(t){function e(n,r,i,o,s){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=o,this.target=s,this.currentTarget=null;for(var l in t)t.hasOwnProperty(l)&&(n=t[l],this[l]=n?n(o):o[l]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?Us:Nd,this.isPropagationStopped=Nd,this}return Ne(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Us)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Us)},persist:function(){},isPersistent:Us}),e}var Mi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ph=Lt(Mi),cs=Ne({},Mi,{view:0,detail:0}),gw=Lt(cs),au,lu,uo,ul=Ne({},cs,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:mh,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==uo&&(uo&&t.type==="mousemove"?(au=t.screenX-uo.screenX,lu=t.screenY-uo.screenY):lu=au=0,uo=t),au)},movementY:function(t){return"movementY"in t?t.movementY:lu}}),Dd=Lt(ul),yw=Ne({},ul,{dataTransfer:0}),vw=Lt(yw),_w=Ne({},cs,{relatedTarget:0}),uu=Lt(_w),ww=Ne({},Mi,{animationName:0,elapsedTime:0,pseudoElement:0}),Ew=Lt(ww),Tw=Ne({},Mi,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Sw=Lt(Tw),Iw=Ne({},Mi,{data:0}),Vd=Lt(Iw),Cw={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Pw={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Aw={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Rw(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=Aw[t])?!!e[t]:!1}function mh(){return Rw}var xw=Ne({},cs,{key:function(t){if(t.key){var e=Cw[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=oa(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Pw[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:mh,charCode:function(t){return t.type==="keypress"?oa(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?oa(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),kw=Lt(xw),Nw=Ne({},ul,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Od=Lt(Nw),Dw=Ne({},cs,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:mh}),Vw=Lt(Dw),Ow=Ne({},Mi,{propertyName:0,elapsedTime:0,pseudoElement:0}),bw=Lt(Ow),Mw=Ne({},ul,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),Lw=Lt(Mw),jw=[9,13,27,32],gh=wn&&"CompositionEvent"in window,So=null;wn&&"documentMode"in document&&(So=document.documentMode);var Fw=wn&&"TextEvent"in window&&!So,kg=wn&&(!gh||So&&8<So&&11>=So),bd=" ",Md=!1;function Ng(t,e){switch(t){case"keyup":return jw.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Dg(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var ri=!1;function Uw(t,e){switch(t){case"compositionend":return Dg(e);case"keypress":return e.which!==32?null:(Md=!0,bd);case"textInput":return t=e.data,t===bd&&Md?null:t;default:return null}}function Bw(t,e){if(ri)return t==="compositionend"||!gh&&Ng(t,e)?(t=xg(),ia=dh=jn=null,ri=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return kg&&e.locale!=="ko"?null:e.data;default:return null}}var zw={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ld(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!zw[t.type]:e==="textarea"}function Vg(t,e,n,r){cg(r),e=Pa(e,"onChange"),0<e.length&&(n=new ph("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var Io=null,Uo=null;function $w(t){Wg(t,0)}function cl(t){var e=si(t);if(rg(e))return t}function Ww(t,e){if(t==="change")return e}var Og=!1;if(wn){var cu;if(wn){var hu="oninput"in document;if(!hu){var jd=document.createElement("div");jd.setAttribute("oninput","return;"),hu=typeof jd.oninput=="function"}cu=hu}else cu=!1;Og=cu&&(!document.documentMode||9<document.documentMode)}function Fd(){Io&&(Io.detachEvent("onpropertychange",bg),Uo=Io=null)}function bg(t){if(t.propertyName==="value"&&cl(Uo)){var e=[];Vg(e,Uo,t,lh(t)),pg($w,e)}}function qw(t,e,n){t==="focusin"?(Fd(),Io=e,Uo=n,Io.attachEvent("onpropertychange",bg)):t==="focusout"&&Fd()}function Hw(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return cl(Uo)}function Kw(t,e){if(t==="click")return cl(e)}function Qw(t,e){if(t==="input"||t==="change")return cl(e)}function Gw(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var tn=typeof Object.is=="function"?Object.is:Gw;function Bo(t,e){if(tn(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!Mu.call(e,i)||!tn(t[i],e[i]))return!1}return!0}function Ud(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Bd(t,e){var n=Ud(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Ud(n)}}function Mg(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?Mg(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function Lg(){for(var t=window,e=_a();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=_a(t.document)}return e}function yh(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function Yw(t){var e=Lg(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&Mg(n.ownerDocument.documentElement,n)){if(r!==null&&yh(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,o=Math.min(r.start,i);r=r.end===void 0?o:Math.min(r.end,i),!t.extend&&o>r&&(i=r,r=o,o=i),i=Bd(n,o);var s=Bd(n,r);i&&s&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==s.node||t.focusOffset!==s.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),o>r?(t.addRange(e),t.extend(s.node,s.offset)):(e.setEnd(s.node,s.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var Xw=wn&&"documentMode"in document&&11>=document.documentMode,ii=null,tc=null,Co=null,nc=!1;function zd(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;nc||ii==null||ii!==_a(r)||(r=ii,"selectionStart"in r&&yh(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Co&&Bo(Co,r)||(Co=r,r=Pa(tc,"onSelect"),0<r.length&&(e=new ph("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=ii)))}function Bs(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var oi={animationend:Bs("Animation","AnimationEnd"),animationiteration:Bs("Animation","AnimationIteration"),animationstart:Bs("Animation","AnimationStart"),transitionend:Bs("Transition","TransitionEnd")},fu={},jg={};wn&&(jg=document.createElement("div").style,"AnimationEvent"in window||(delete oi.animationend.animation,delete oi.animationiteration.animation,delete oi.animationstart.animation),"TransitionEvent"in window||delete oi.transitionend.transition);function hl(t){if(fu[t])return fu[t];if(!oi[t])return t;var e=oi[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in jg)return fu[t]=e[n];return t}var Fg=hl("animationend"),Ug=hl("animationiteration"),Bg=hl("animationstart"),zg=hl("transitionend"),$g=new Map,$d="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ur(t,e){$g.set(t,e),br(e,[t])}for(var du=0;du<$d.length;du++){var pu=$d[du],Jw=pu.toLowerCase(),Zw=pu[0].toUpperCase()+pu.slice(1);ur(Jw,"on"+Zw)}ur(Fg,"onAnimationEnd");ur(Ug,"onAnimationIteration");ur(Bg,"onAnimationStart");ur("dblclick","onDoubleClick");ur("focusin","onFocus");ur("focusout","onBlur");ur(zg,"onTransitionEnd");Ei("onMouseEnter",["mouseout","mouseover"]);Ei("onMouseLeave",["mouseout","mouseover"]);Ei("onPointerEnter",["pointerout","pointerover"]);Ei("onPointerLeave",["pointerout","pointerover"]);br("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));br("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));br("onBeforeInput",["compositionend","keypress","textInput","paste"]);br("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));br("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));br("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var yo="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),e1=new Set("cancel close invalid load scroll toggle".split(" ").concat(yo));function Wd(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,J_(r,e,void 0,t),t.currentTarget=null}function Wg(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var o=void 0;if(e)for(var s=r.length-1;0<=s;s--){var l=r[s],u=l.instance,h=l.currentTarget;if(l=l.listener,u!==o&&i.isPropagationStopped())break e;Wd(i,l,h),o=u}else for(s=0;s<r.length;s++){if(l=r[s],u=l.instance,h=l.currentTarget,l=l.listener,u!==o&&i.isPropagationStopped())break e;Wd(i,l,h),o=u}}}if(Ea)throw t=Xu,Ea=!1,Xu=null,t}function Ie(t,e){var n=e[ac];n===void 0&&(n=e[ac]=new Set);var r=t+"__bubble";n.has(r)||(qg(e,t,2,!1),n.add(r))}function mu(t,e,n){var r=0;e&&(r|=4),qg(n,t,r,e)}var zs="_reactListening"+Math.random().toString(36).slice(2);function zo(t){if(!t[zs]){t[zs]=!0,Jm.forEach(function(n){n!=="selectionchange"&&(e1.has(n)||mu(n,!1,t),mu(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[zs]||(e[zs]=!0,mu("selectionchange",!1,e))}}function qg(t,e,n,r){switch(Rg(e)){case 1:var i=pw;break;case 4:i=mw;break;default:i=fh}n=i.bind(null,e,n,t),i=void 0,!Yu||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function gu(t,e,n,r,i){var o=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var s=r.tag;if(s===3||s===4){var l=r.stateNode.containerInfo;if(l===i||l.nodeType===8&&l.parentNode===i)break;if(s===4)for(s=r.return;s!==null;){var u=s.tag;if((u===3||u===4)&&(u=s.stateNode.containerInfo,u===i||u.nodeType===8&&u.parentNode===i))return;s=s.return}for(;l!==null;){if(s=Tr(l),s===null)return;if(u=s.tag,u===5||u===6){r=o=s;continue e}l=l.parentNode}}r=r.return}pg(function(){var h=o,d=lh(n),p=[];e:{var m=$g.get(t);if(m!==void 0){var E=ph,v=t;switch(t){case"keypress":if(oa(n)===0)break e;case"keydown":case"keyup":E=kw;break;case"focusin":v="focus",E=uu;break;case"focusout":v="blur",E=uu;break;case"beforeblur":case"afterblur":E=uu;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":E=Dd;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":E=vw;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":E=Vw;break;case Fg:case Ug:case Bg:E=Ew;break;case zg:E=bw;break;case"scroll":E=gw;break;case"wheel":E=Lw;break;case"copy":case"cut":case"paste":E=Sw;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":E=Od}var C=(e&4)!==0,R=!C&&t==="scroll",_=C?m!==null?m+"Capture":null:m;C=[];for(var w=h,I;w!==null;){I=w;var O=I.stateNode;if(I.tag===5&&O!==null&&(I=O,_!==null&&(O=Mo(w,_),O!=null&&C.push($o(w,O,I)))),R)break;w=w.return}0<C.length&&(m=new E(m,v,null,n,d),p.push({event:m,listeners:C}))}}if(!(e&7)){e:{if(m=t==="mouseover"||t==="pointerover",E=t==="mouseout"||t==="pointerout",m&&n!==Qu&&(v=n.relatedTarget||n.fromElement)&&(Tr(v)||v[En]))break e;if((E||m)&&(m=d.window===d?d:(m=d.ownerDocument)?m.defaultView||m.parentWindow:window,E?(v=n.relatedTarget||n.toElement,E=h,v=v?Tr(v):null,v!==null&&(R=Mr(v),v!==R||v.tag!==5&&v.tag!==6)&&(v=null)):(E=null,v=h),E!==v)){if(C=Dd,O="onMouseLeave",_="onMouseEnter",w="mouse",(t==="pointerout"||t==="pointerover")&&(C=Od,O="onPointerLeave",_="onPointerEnter",w="pointer"),R=E==null?m:si(E),I=v==null?m:si(v),m=new C(O,w+"leave",E,n,d),m.target=R,m.relatedTarget=I,O=null,Tr(d)===h&&(C=new C(_,w+"enter",v,n,d),C.target=I,C.relatedTarget=R,O=C),R=O,E&&v)t:{for(C=E,_=v,w=0,I=C;I;I=Gr(I))w++;for(I=0,O=_;O;O=Gr(O))I++;for(;0<w-I;)C=Gr(C),w--;for(;0<I-w;)_=Gr(_),I--;for(;w--;){if(C===_||_!==null&&C===_.alternate)break t;C=Gr(C),_=Gr(_)}C=null}else C=null;E!==null&&qd(p,m,E,C,!1),v!==null&&R!==null&&qd(p,R,v,C,!0)}}e:{if(m=h?si(h):window,E=m.nodeName&&m.nodeName.toLowerCase(),E==="select"||E==="input"&&m.type==="file")var B=Ww;else if(Ld(m))if(Og)B=Qw;else{B=Hw;var $=qw}else(E=m.nodeName)&&E.toLowerCase()==="input"&&(m.type==="checkbox"||m.type==="radio")&&(B=Kw);if(B&&(B=B(t,h))){Vg(p,B,n,d);break e}$&&$(t,m,h),t==="focusout"&&($=m._wrapperState)&&$.controlled&&m.type==="number"&&$u(m,"number",m.value)}switch($=h?si(h):window,t){case"focusin":(Ld($)||$.contentEditable==="true")&&(ii=$,tc=h,Co=null);break;case"focusout":Co=tc=ii=null;break;case"mousedown":nc=!0;break;case"contextmenu":case"mouseup":case"dragend":nc=!1,zd(p,n,d);break;case"selectionchange":if(Xw)break;case"keydown":case"keyup":zd(p,n,d)}var S;if(gh)e:{switch(t){case"compositionstart":var y="onCompositionStart";break e;case"compositionend":y="onCompositionEnd";break e;case"compositionupdate":y="onCompositionUpdate";break e}y=void 0}else ri?Ng(t,n)&&(y="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(y="onCompositionStart");y&&(kg&&n.locale!=="ko"&&(ri||y!=="onCompositionStart"?y==="onCompositionEnd"&&ri&&(S=xg()):(jn=d,dh="value"in jn?jn.value:jn.textContent,ri=!0)),$=Pa(h,y),0<$.length&&(y=new Vd(y,t,null,n,d),p.push({event:y,listeners:$}),S?y.data=S:(S=Dg(n),S!==null&&(y.data=S)))),(S=Fw?Uw(t,n):Bw(t,n))&&(h=Pa(h,"onBeforeInput"),0<h.length&&(d=new Vd("onBeforeInput","beforeinput",null,n,d),p.push({event:d,listeners:h}),d.data=S))}Wg(p,e)})}function $o(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Pa(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,o=i.stateNode;i.tag===5&&o!==null&&(i=o,o=Mo(t,n),o!=null&&r.unshift($o(t,o,i)),o=Mo(t,e),o!=null&&r.push($o(t,o,i))),t=t.return}return r}function Gr(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function qd(t,e,n,r,i){for(var o=e._reactName,s=[];n!==null&&n!==r;){var l=n,u=l.alternate,h=l.stateNode;if(u!==null&&u===r)break;l.tag===5&&h!==null&&(l=h,i?(u=Mo(n,o),u!=null&&s.unshift($o(n,u,l))):i||(u=Mo(n,o),u!=null&&s.push($o(n,u,l)))),n=n.return}s.length!==0&&t.push({event:e,listeners:s})}var t1=/\r\n?/g,n1=/\u0000|\uFFFD/g;function Hd(t){return(typeof t=="string"?t:""+t).replace(t1,`
`).replace(n1,"")}function $s(t,e,n){if(e=Hd(e),Hd(t)!==e&&n)throw Error(W(425))}function Aa(){}var rc=null,ic=null;function oc(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var sc=typeof setTimeout=="function"?setTimeout:void 0,r1=typeof clearTimeout=="function"?clearTimeout:void 0,Kd=typeof Promise=="function"?Promise:void 0,i1=typeof queueMicrotask=="function"?queueMicrotask:typeof Kd<"u"?function(t){return Kd.resolve(null).then(t).catch(o1)}:sc;function o1(t){setTimeout(function(){throw t})}function yu(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),Fo(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);Fo(e)}function Hn(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function Qd(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var Li=Math.random().toString(36).slice(2),on="__reactFiber$"+Li,Wo="__reactProps$"+Li,En="__reactContainer$"+Li,ac="__reactEvents$"+Li,s1="__reactListeners$"+Li,a1="__reactHandles$"+Li;function Tr(t){var e=t[on];if(e)return e;for(var n=t.parentNode;n;){if(e=n[En]||n[on]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=Qd(t);t!==null;){if(n=t[on])return n;t=Qd(t)}return e}t=n,n=t.parentNode}return null}function hs(t){return t=t[on]||t[En],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function si(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(W(33))}function fl(t){return t[Wo]||null}var lc=[],ai=-1;function cr(t){return{current:t}}function Ce(t){0>ai||(t.current=lc[ai],lc[ai]=null,ai--)}function Te(t,e){ai++,lc[ai]=t.current,t.current=e}var rr={},dt=cr(rr),Rt=cr(!1),xr=rr;function Ti(t,e){var n=t.type.contextTypes;if(!n)return rr;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},o;for(o in n)i[o]=e[o];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function xt(t){return t=t.childContextTypes,t!=null}function Ra(){Ce(Rt),Ce(dt)}function Gd(t,e,n){if(dt.current!==rr)throw Error(W(168));Te(dt,e),Te(Rt,n)}function Hg(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(W(108,q_(t)||"Unknown",i));return Ne({},n,r)}function xa(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||rr,xr=dt.current,Te(dt,t),Te(Rt,Rt.current),!0}function Yd(t,e,n){var r=t.stateNode;if(!r)throw Error(W(169));n?(t=Hg(t,e,xr),r.__reactInternalMemoizedMergedChildContext=t,Ce(Rt),Ce(dt),Te(dt,t)):Ce(Rt),Te(Rt,n)}var mn=null,dl=!1,vu=!1;function Kg(t){mn===null?mn=[t]:mn.push(t)}function l1(t){dl=!0,Kg(t)}function hr(){if(!vu&&mn!==null){vu=!0;var t=0,e=we;try{var n=mn;for(we=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}mn=null,dl=!1}catch(i){throw mn!==null&&(mn=mn.slice(t+1)),vg(uh,hr),i}finally{we=e,vu=!1}}return null}var li=[],ui=0,ka=null,Na=0,Ft=[],Ut=0,kr=null,gn=1,yn="";function _r(t,e){li[ui++]=Na,li[ui++]=ka,ka=t,Na=e}function Qg(t,e,n){Ft[Ut++]=gn,Ft[Ut++]=yn,Ft[Ut++]=kr,kr=t;var r=gn;t=yn;var i=32-Jt(r)-1;r&=~(1<<i),n+=1;var o=32-Jt(e)+i;if(30<o){var s=i-i%5;o=(r&(1<<s)-1).toString(32),r>>=s,i-=s,gn=1<<32-Jt(e)+i|n<<i|r,yn=o+t}else gn=1<<o|n<<i|r,yn=t}function vh(t){t.return!==null&&(_r(t,1),Qg(t,1,0))}function _h(t){for(;t===ka;)ka=li[--ui],li[ui]=null,Na=li[--ui],li[ui]=null;for(;t===kr;)kr=Ft[--Ut],Ft[Ut]=null,yn=Ft[--Ut],Ft[Ut]=null,gn=Ft[--Ut],Ft[Ut]=null}var Ot=null,Vt=null,Pe=!1,Yt=null;function Gg(t,e){var n=zt(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function Xd(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Ot=t,Vt=Hn(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Ot=t,Vt=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=kr!==null?{id:gn,overflow:yn}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=zt(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,Ot=t,Vt=null,!0):!1;default:return!1}}function uc(t){return(t.mode&1)!==0&&(t.flags&128)===0}function cc(t){if(Pe){var e=Vt;if(e){var n=e;if(!Xd(t,e)){if(uc(t))throw Error(W(418));e=Hn(n.nextSibling);var r=Ot;e&&Xd(t,e)?Gg(r,n):(t.flags=t.flags&-4097|2,Pe=!1,Ot=t)}}else{if(uc(t))throw Error(W(418));t.flags=t.flags&-4097|2,Pe=!1,Ot=t}}}function Jd(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Ot=t}function Ws(t){if(t!==Ot)return!1;if(!Pe)return Jd(t),Pe=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!oc(t.type,t.memoizedProps)),e&&(e=Vt)){if(uc(t))throw Yg(),Error(W(418));for(;e;)Gg(t,e),e=Hn(e.nextSibling)}if(Jd(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(W(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){Vt=Hn(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}Vt=null}}else Vt=Ot?Hn(t.stateNode.nextSibling):null;return!0}function Yg(){for(var t=Vt;t;)t=Hn(t.nextSibling)}function Si(){Vt=Ot=null,Pe=!1}function wh(t){Yt===null?Yt=[t]:Yt.push(t)}var u1=An.ReactCurrentBatchConfig;function co(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(W(309));var r=n.stateNode}if(!r)throw Error(W(147,t));var i=r,o=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===o?e.ref:(e=function(s){var l=i.refs;s===null?delete l[o]:l[o]=s},e._stringRef=o,e)}if(typeof t!="string")throw Error(W(284));if(!n._owner)throw Error(W(290,t))}return t}function qs(t,e){throw t=Object.prototype.toString.call(e),Error(W(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function Zd(t){var e=t._init;return e(t._payload)}function Xg(t){function e(_,w){if(t){var I=_.deletions;I===null?(_.deletions=[w],_.flags|=16):I.push(w)}}function n(_,w){if(!t)return null;for(;w!==null;)e(_,w),w=w.sibling;return null}function r(_,w){for(_=new Map;w!==null;)w.key!==null?_.set(w.key,w):_.set(w.index,w),w=w.sibling;return _}function i(_,w){return _=Yn(_,w),_.index=0,_.sibling=null,_}function o(_,w,I){return _.index=I,t?(I=_.alternate,I!==null?(I=I.index,I<w?(_.flags|=2,w):I):(_.flags|=2,w)):(_.flags|=1048576,w)}function s(_){return t&&_.alternate===null&&(_.flags|=2),_}function l(_,w,I,O){return w===null||w.tag!==6?(w=Cu(I,_.mode,O),w.return=_,w):(w=i(w,I),w.return=_,w)}function u(_,w,I,O){var B=I.type;return B===ni?d(_,w,I.props.children,O,I.key):w!==null&&(w.elementType===B||typeof B=="object"&&B!==null&&B.$$typeof===On&&Zd(B)===w.type)?(O=i(w,I.props),O.ref=co(_,w,I),O.return=_,O):(O=fa(I.type,I.key,I.props,null,_.mode,O),O.ref=co(_,w,I),O.return=_,O)}function h(_,w,I,O){return w===null||w.tag!==4||w.stateNode.containerInfo!==I.containerInfo||w.stateNode.implementation!==I.implementation?(w=Pu(I,_.mode,O),w.return=_,w):(w=i(w,I.children||[]),w.return=_,w)}function d(_,w,I,O,B){return w===null||w.tag!==7?(w=Ar(I,_.mode,O,B),w.return=_,w):(w=i(w,I),w.return=_,w)}function p(_,w,I){if(typeof w=="string"&&w!==""||typeof w=="number")return w=Cu(""+w,_.mode,I),w.return=_,w;if(typeof w=="object"&&w!==null){switch(w.$$typeof){case Os:return I=fa(w.type,w.key,w.props,null,_.mode,I),I.ref=co(_,null,w),I.return=_,I;case ti:return w=Pu(w,_.mode,I),w.return=_,w;case On:var O=w._init;return p(_,O(w._payload),I)}if(mo(w)||oo(w))return w=Ar(w,_.mode,I,null),w.return=_,w;qs(_,w)}return null}function m(_,w,I,O){var B=w!==null?w.key:null;if(typeof I=="string"&&I!==""||typeof I=="number")return B!==null?null:l(_,w,""+I,O);if(typeof I=="object"&&I!==null){switch(I.$$typeof){case Os:return I.key===B?u(_,w,I,O):null;case ti:return I.key===B?h(_,w,I,O):null;case On:return B=I._init,m(_,w,B(I._payload),O)}if(mo(I)||oo(I))return B!==null?null:d(_,w,I,O,null);qs(_,I)}return null}function E(_,w,I,O,B){if(typeof O=="string"&&O!==""||typeof O=="number")return _=_.get(I)||null,l(w,_,""+O,B);if(typeof O=="object"&&O!==null){switch(O.$$typeof){case Os:return _=_.get(O.key===null?I:O.key)||null,u(w,_,O,B);case ti:return _=_.get(O.key===null?I:O.key)||null,h(w,_,O,B);case On:var $=O._init;return E(_,w,I,$(O._payload),B)}if(mo(O)||oo(O))return _=_.get(I)||null,d(w,_,O,B,null);qs(w,O)}return null}function v(_,w,I,O){for(var B=null,$=null,S=w,y=w=0,T=null;S!==null&&y<I.length;y++){S.index>y?(T=S,S=null):T=S.sibling;var P=m(_,S,I[y],O);if(P===null){S===null&&(S=T);break}t&&S&&P.alternate===null&&e(_,S),w=o(P,w,y),$===null?B=P:$.sibling=P,$=P,S=T}if(y===I.length)return n(_,S),Pe&&_r(_,y),B;if(S===null){for(;y<I.length;y++)S=p(_,I[y],O),S!==null&&(w=o(S,w,y),$===null?B=S:$.sibling=S,$=S);return Pe&&_r(_,y),B}for(S=r(_,S);y<I.length;y++)T=E(S,_,y,I[y],O),T!==null&&(t&&T.alternate!==null&&S.delete(T.key===null?y:T.key),w=o(T,w,y),$===null?B=T:$.sibling=T,$=T);return t&&S.forEach(function(x){return e(_,x)}),Pe&&_r(_,y),B}function C(_,w,I,O){var B=oo(I);if(typeof B!="function")throw Error(W(150));if(I=B.call(I),I==null)throw Error(W(151));for(var $=B=null,S=w,y=w=0,T=null,P=I.next();S!==null&&!P.done;y++,P=I.next()){S.index>y?(T=S,S=null):T=S.sibling;var x=m(_,S,P.value,O);if(x===null){S===null&&(S=T);break}t&&S&&x.alternate===null&&e(_,S),w=o(x,w,y),$===null?B=x:$.sibling=x,$=x,S=T}if(P.done)return n(_,S),Pe&&_r(_,y),B;if(S===null){for(;!P.done;y++,P=I.next())P=p(_,P.value,O),P!==null&&(w=o(P,w,y),$===null?B=P:$.sibling=P,$=P);return Pe&&_r(_,y),B}for(S=r(_,S);!P.done;y++,P=I.next())P=E(S,_,y,P.value,O),P!==null&&(t&&P.alternate!==null&&S.delete(P.key===null?y:P.key),w=o(P,w,y),$===null?B=P:$.sibling=P,$=P);return t&&S.forEach(function(N){return e(_,N)}),Pe&&_r(_,y),B}function R(_,w,I,O){if(typeof I=="object"&&I!==null&&I.type===ni&&I.key===null&&(I=I.props.children),typeof I=="object"&&I!==null){switch(I.$$typeof){case Os:e:{for(var B=I.key,$=w;$!==null;){if($.key===B){if(B=I.type,B===ni){if($.tag===7){n(_,$.sibling),w=i($,I.props.children),w.return=_,_=w;break e}}else if($.elementType===B||typeof B=="object"&&B!==null&&B.$$typeof===On&&Zd(B)===$.type){n(_,$.sibling),w=i($,I.props),w.ref=co(_,$,I),w.return=_,_=w;break e}n(_,$);break}else e(_,$);$=$.sibling}I.type===ni?(w=Ar(I.props.children,_.mode,O,I.key),w.return=_,_=w):(O=fa(I.type,I.key,I.props,null,_.mode,O),O.ref=co(_,w,I),O.return=_,_=O)}return s(_);case ti:e:{for($=I.key;w!==null;){if(w.key===$)if(w.tag===4&&w.stateNode.containerInfo===I.containerInfo&&w.stateNode.implementation===I.implementation){n(_,w.sibling),w=i(w,I.children||[]),w.return=_,_=w;break e}else{n(_,w);break}else e(_,w);w=w.sibling}w=Pu(I,_.mode,O),w.return=_,_=w}return s(_);case On:return $=I._init,R(_,w,$(I._payload),O)}if(mo(I))return v(_,w,I,O);if(oo(I))return C(_,w,I,O);qs(_,I)}return typeof I=="string"&&I!==""||typeof I=="number"?(I=""+I,w!==null&&w.tag===6?(n(_,w.sibling),w=i(w,I),w.return=_,_=w):(n(_,w),w=Cu(I,_.mode,O),w.return=_,_=w),s(_)):n(_,w)}return R}var Ii=Xg(!0),Jg=Xg(!1),Da=cr(null),Va=null,ci=null,Eh=null;function Th(){Eh=ci=Va=null}function Sh(t){var e=Da.current;Ce(Da),t._currentValue=e}function hc(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function yi(t,e){Va=t,Eh=ci=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(At=!0),t.firstContext=null)}function Wt(t){var e=t._currentValue;if(Eh!==t)if(t={context:t,memoizedValue:e,next:null},ci===null){if(Va===null)throw Error(W(308));ci=t,Va.dependencies={lanes:0,firstContext:t}}else ci=ci.next=t;return e}var Sr=null;function Ih(t){Sr===null?Sr=[t]:Sr.push(t)}function Zg(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,Ih(e)):(n.next=i.next,i.next=n),e.interleaved=n,Tn(t,r)}function Tn(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var bn=!1;function Ch(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function ey(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function vn(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Kn(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,me&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,Tn(t,n)}return i=r.interleaved,i===null?(e.next=e,Ih(r)):(e.next=i.next,i.next=e),r.interleaved=e,Tn(t,n)}function sa(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,ch(t,n)}}function ep(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,o=null;if(n=n.firstBaseUpdate,n!==null){do{var s={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};o===null?i=o=s:o=o.next=s,n=n.next}while(n!==null);o===null?i=o=e:o=o.next=e}else i=o=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function Oa(t,e,n,r){var i=t.updateQueue;bn=!1;var o=i.firstBaseUpdate,s=i.lastBaseUpdate,l=i.shared.pending;if(l!==null){i.shared.pending=null;var u=l,h=u.next;u.next=null,s===null?o=h:s.next=h,s=u;var d=t.alternate;d!==null&&(d=d.updateQueue,l=d.lastBaseUpdate,l!==s&&(l===null?d.firstBaseUpdate=h:l.next=h,d.lastBaseUpdate=u))}if(o!==null){var p=i.baseState;s=0,d=h=u=null,l=o;do{var m=l.lane,E=l.eventTime;if((r&m)===m){d!==null&&(d=d.next={eventTime:E,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var v=t,C=l;switch(m=e,E=n,C.tag){case 1:if(v=C.payload,typeof v=="function"){p=v.call(E,p,m);break e}p=v;break e;case 3:v.flags=v.flags&-65537|128;case 0:if(v=C.payload,m=typeof v=="function"?v.call(E,p,m):v,m==null)break e;p=Ne({},p,m);break e;case 2:bn=!0}}l.callback!==null&&l.lane!==0&&(t.flags|=64,m=i.effects,m===null?i.effects=[l]:m.push(l))}else E={eventTime:E,lane:m,tag:l.tag,payload:l.payload,callback:l.callback,next:null},d===null?(h=d=E,u=p):d=d.next=E,s|=m;if(l=l.next,l===null){if(l=i.shared.pending,l===null)break;m=l,l=m.next,m.next=null,i.lastBaseUpdate=m,i.shared.pending=null}}while(!0);if(d===null&&(u=p),i.baseState=u,i.firstBaseUpdate=h,i.lastBaseUpdate=d,e=i.shared.interleaved,e!==null){i=e;do s|=i.lane,i=i.next;while(i!==e)}else o===null&&(i.shared.lanes=0);Dr|=s,t.lanes=s,t.memoizedState=p}}function tp(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(W(191,i));i.call(r)}}}var fs={},an=cr(fs),qo=cr(fs),Ho=cr(fs);function Ir(t){if(t===fs)throw Error(W(174));return t}function Ph(t,e){switch(Te(Ho,e),Te(qo,t),Te(an,fs),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:qu(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=qu(e,t)}Ce(an),Te(an,e)}function Ci(){Ce(an),Ce(qo),Ce(Ho)}function ty(t){Ir(Ho.current);var e=Ir(an.current),n=qu(e,t.type);e!==n&&(Te(qo,t),Te(an,n))}function Ah(t){qo.current===t&&(Ce(an),Ce(qo))}var xe=cr(0);function ba(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var _u=[];function Rh(){for(var t=0;t<_u.length;t++)_u[t]._workInProgressVersionPrimary=null;_u.length=0}var aa=An.ReactCurrentDispatcher,wu=An.ReactCurrentBatchConfig,Nr=0,ke=null,$e=null,Ge=null,Ma=!1,Po=!1,Ko=0,c1=0;function at(){throw Error(W(321))}function xh(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!tn(t[n],e[n]))return!1;return!0}function kh(t,e,n,r,i,o){if(Nr=o,ke=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,aa.current=t===null||t.memoizedState===null?p1:m1,t=n(r,i),Po){o=0;do{if(Po=!1,Ko=0,25<=o)throw Error(W(301));o+=1,Ge=$e=null,e.updateQueue=null,aa.current=g1,t=n(r,i)}while(Po)}if(aa.current=La,e=$e!==null&&$e.next!==null,Nr=0,Ge=$e=ke=null,Ma=!1,e)throw Error(W(300));return t}function Nh(){var t=Ko!==0;return Ko=0,t}function rn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ge===null?ke.memoizedState=Ge=t:Ge=Ge.next=t,Ge}function qt(){if($e===null){var t=ke.alternate;t=t!==null?t.memoizedState:null}else t=$e.next;var e=Ge===null?ke.memoizedState:Ge.next;if(e!==null)Ge=e,$e=t;else{if(t===null)throw Error(W(310));$e=t,t={memoizedState:$e.memoizedState,baseState:$e.baseState,baseQueue:$e.baseQueue,queue:$e.queue,next:null},Ge===null?ke.memoizedState=Ge=t:Ge=Ge.next=t}return Ge}function Qo(t,e){return typeof e=="function"?e(t):e}function Eu(t){var e=qt(),n=e.queue;if(n===null)throw Error(W(311));n.lastRenderedReducer=t;var r=$e,i=r.baseQueue,o=n.pending;if(o!==null){if(i!==null){var s=i.next;i.next=o.next,o.next=s}r.baseQueue=i=o,n.pending=null}if(i!==null){o=i.next,r=r.baseState;var l=s=null,u=null,h=o;do{var d=h.lane;if((Nr&d)===d)u!==null&&(u=u.next={lane:0,action:h.action,hasEagerState:h.hasEagerState,eagerState:h.eagerState,next:null}),r=h.hasEagerState?h.eagerState:t(r,h.action);else{var p={lane:d,action:h.action,hasEagerState:h.hasEagerState,eagerState:h.eagerState,next:null};u===null?(l=u=p,s=r):u=u.next=p,ke.lanes|=d,Dr|=d}h=h.next}while(h!==null&&h!==o);u===null?s=r:u.next=l,tn(r,e.memoizedState)||(At=!0),e.memoizedState=r,e.baseState=s,e.baseQueue=u,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do o=i.lane,ke.lanes|=o,Dr|=o,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function Tu(t){var e=qt(),n=e.queue;if(n===null)throw Error(W(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,o=e.memoizedState;if(i!==null){n.pending=null;var s=i=i.next;do o=t(o,s.action),s=s.next;while(s!==i);tn(o,e.memoizedState)||(At=!0),e.memoizedState=o,e.baseQueue===null&&(e.baseState=o),n.lastRenderedState=o}return[o,r]}function ny(){}function ry(t,e){var n=ke,r=qt(),i=e(),o=!tn(r.memoizedState,i);if(o&&(r.memoizedState=i,At=!0),r=r.queue,Dh(sy.bind(null,n,r,t),[t]),r.getSnapshot!==e||o||Ge!==null&&Ge.memoizedState.tag&1){if(n.flags|=2048,Go(9,oy.bind(null,n,r,i,e),void 0,null),Ye===null)throw Error(W(349));Nr&30||iy(n,e,i)}return i}function iy(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=ke.updateQueue,e===null?(e={lastEffect:null,stores:null},ke.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function oy(t,e,n,r){e.value=n,e.getSnapshot=r,ay(e)&&ly(t)}function sy(t,e,n){return n(function(){ay(e)&&ly(t)})}function ay(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!tn(t,n)}catch{return!0}}function ly(t){var e=Tn(t,1);e!==null&&Zt(e,t,1,-1)}function np(t){var e=rn();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Qo,lastRenderedState:t},e.queue=t,t=t.dispatch=d1.bind(null,ke,t),[e.memoizedState,t]}function Go(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=ke.updateQueue,e===null?(e={lastEffect:null,stores:null},ke.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function uy(){return qt().memoizedState}function la(t,e,n,r){var i=rn();ke.flags|=t,i.memoizedState=Go(1|e,n,void 0,r===void 0?null:r)}function pl(t,e,n,r){var i=qt();r=r===void 0?null:r;var o=void 0;if($e!==null){var s=$e.memoizedState;if(o=s.destroy,r!==null&&xh(r,s.deps)){i.memoizedState=Go(e,n,o,r);return}}ke.flags|=t,i.memoizedState=Go(1|e,n,o,r)}function rp(t,e){return la(8390656,8,t,e)}function Dh(t,e){return pl(2048,8,t,e)}function cy(t,e){return pl(4,2,t,e)}function hy(t,e){return pl(4,4,t,e)}function fy(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function dy(t,e,n){return n=n!=null?n.concat([t]):null,pl(4,4,fy.bind(null,e,t),n)}function Vh(){}function py(t,e){var n=qt();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&xh(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function my(t,e){var n=qt();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&xh(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function gy(t,e,n){return Nr&21?(tn(n,e)||(n=Eg(),ke.lanes|=n,Dr|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,At=!0),t.memoizedState=n)}function h1(t,e){var n=we;we=n!==0&&4>n?n:4,t(!0);var r=wu.transition;wu.transition={};try{t(!1),e()}finally{we=n,wu.transition=r}}function yy(){return qt().memoizedState}function f1(t,e,n){var r=Gn(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},vy(t))_y(e,n);else if(n=Zg(t,e,n,r),n!==null){var i=vt();Zt(n,t,r,i),wy(n,e,r)}}function d1(t,e,n){var r=Gn(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(vy(t))_y(e,i);else{var o=t.alternate;if(t.lanes===0&&(o===null||o.lanes===0)&&(o=e.lastRenderedReducer,o!==null))try{var s=e.lastRenderedState,l=o(s,n);if(i.hasEagerState=!0,i.eagerState=l,tn(l,s)){var u=e.interleaved;u===null?(i.next=i,Ih(e)):(i.next=u.next,u.next=i),e.interleaved=i;return}}catch{}finally{}n=Zg(t,e,i,r),n!==null&&(i=vt(),Zt(n,t,r,i),wy(n,e,r))}}function vy(t){var e=t.alternate;return t===ke||e!==null&&e===ke}function _y(t,e){Po=Ma=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function wy(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,ch(t,n)}}var La={readContext:Wt,useCallback:at,useContext:at,useEffect:at,useImperativeHandle:at,useInsertionEffect:at,useLayoutEffect:at,useMemo:at,useReducer:at,useRef:at,useState:at,useDebugValue:at,useDeferredValue:at,useTransition:at,useMutableSource:at,useSyncExternalStore:at,useId:at,unstable_isNewReconciler:!1},p1={readContext:Wt,useCallback:function(t,e){return rn().memoizedState=[t,e===void 0?null:e],t},useContext:Wt,useEffect:rp,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,la(4194308,4,fy.bind(null,e,t),n)},useLayoutEffect:function(t,e){return la(4194308,4,t,e)},useInsertionEffect:function(t,e){return la(4,2,t,e)},useMemo:function(t,e){var n=rn();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=rn();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=f1.bind(null,ke,t),[r.memoizedState,t]},useRef:function(t){var e=rn();return t={current:t},e.memoizedState=t},useState:np,useDebugValue:Vh,useDeferredValue:function(t){return rn().memoizedState=t},useTransition:function(){var t=np(!1),e=t[0];return t=h1.bind(null,t[1]),rn().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=ke,i=rn();if(Pe){if(n===void 0)throw Error(W(407));n=n()}else{if(n=e(),Ye===null)throw Error(W(349));Nr&30||iy(r,e,n)}i.memoizedState=n;var o={value:n,getSnapshot:e};return i.queue=o,rp(sy.bind(null,r,o,t),[t]),r.flags|=2048,Go(9,oy.bind(null,r,o,n,e),void 0,null),n},useId:function(){var t=rn(),e=Ye.identifierPrefix;if(Pe){var n=yn,r=gn;n=(r&~(1<<32-Jt(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=Ko++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=c1++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},m1={readContext:Wt,useCallback:py,useContext:Wt,useEffect:Dh,useImperativeHandle:dy,useInsertionEffect:cy,useLayoutEffect:hy,useMemo:my,useReducer:Eu,useRef:uy,useState:function(){return Eu(Qo)},useDebugValue:Vh,useDeferredValue:function(t){var e=qt();return gy(e,$e.memoizedState,t)},useTransition:function(){var t=Eu(Qo)[0],e=qt().memoizedState;return[t,e]},useMutableSource:ny,useSyncExternalStore:ry,useId:yy,unstable_isNewReconciler:!1},g1={readContext:Wt,useCallback:py,useContext:Wt,useEffect:Dh,useImperativeHandle:dy,useInsertionEffect:cy,useLayoutEffect:hy,useMemo:my,useReducer:Tu,useRef:uy,useState:function(){return Tu(Qo)},useDebugValue:Vh,useDeferredValue:function(t){var e=qt();return $e===null?e.memoizedState=t:gy(e,$e.memoizedState,t)},useTransition:function(){var t=Tu(Qo)[0],e=qt().memoizedState;return[t,e]},useMutableSource:ny,useSyncExternalStore:ry,useId:yy,unstable_isNewReconciler:!1};function Qt(t,e){if(t&&t.defaultProps){e=Ne({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function fc(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:Ne({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var ml={isMounted:function(t){return(t=t._reactInternals)?Mr(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=vt(),i=Gn(t),o=vn(r,i);o.payload=e,n!=null&&(o.callback=n),e=Kn(t,o,i),e!==null&&(Zt(e,t,i,r),sa(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=vt(),i=Gn(t),o=vn(r,i);o.tag=1,o.payload=e,n!=null&&(o.callback=n),e=Kn(t,o,i),e!==null&&(Zt(e,t,i,r),sa(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=vt(),r=Gn(t),i=vn(n,r);i.tag=2,e!=null&&(i.callback=e),e=Kn(t,i,r),e!==null&&(Zt(e,t,r,n),sa(e,t,r))}};function ip(t,e,n,r,i,o,s){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,o,s):e.prototype&&e.prototype.isPureReactComponent?!Bo(n,r)||!Bo(i,o):!0}function Ey(t,e,n){var r=!1,i=rr,o=e.contextType;return typeof o=="object"&&o!==null?o=Wt(o):(i=xt(e)?xr:dt.current,r=e.contextTypes,o=(r=r!=null)?Ti(t,i):rr),e=new e(n,o),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=ml,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=o),e}function op(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&ml.enqueueReplaceState(e,e.state,null)}function dc(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs={},Ch(t);var o=e.contextType;typeof o=="object"&&o!==null?i.context=Wt(o):(o=xt(e)?xr:dt.current,i.context=Ti(t,o)),i.state=t.memoizedState,o=e.getDerivedStateFromProps,typeof o=="function"&&(fc(t,e,o,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&ml.enqueueReplaceState(i,i.state,null),Oa(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function Pi(t,e){try{var n="",r=e;do n+=W_(r),r=r.return;while(r);var i=n}catch(o){i=`
Error generating stack: `+o.message+`
`+o.stack}return{value:t,source:e,stack:i,digest:null}}function Su(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function pc(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var y1=typeof WeakMap=="function"?WeakMap:Map;function Ty(t,e,n){n=vn(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){Fa||(Fa=!0,Ic=r),pc(t,e)},n}function Sy(t,e,n){n=vn(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){pc(t,e)}}var o=t.stateNode;return o!==null&&typeof o.componentDidCatch=="function"&&(n.callback=function(){pc(t,e),typeof r!="function"&&(Qn===null?Qn=new Set([this]):Qn.add(this));var s=e.stack;this.componentDidCatch(e.value,{componentStack:s!==null?s:""})}),n}function sp(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new y1;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=N1.bind(null,t,e,n),e.then(t,t))}function ap(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function lp(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=vn(-1,1),e.tag=2,Kn(n,e,1))),n.lanes|=1),t)}var v1=An.ReactCurrentOwner,At=!1;function yt(t,e,n,r){e.child=t===null?Jg(e,null,n,r):Ii(e,t.child,n,r)}function up(t,e,n,r,i){n=n.render;var o=e.ref;return yi(e,i),r=kh(t,e,n,r,o,i),n=Nh(),t!==null&&!At?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Sn(t,e,i)):(Pe&&n&&vh(e),e.flags|=1,yt(t,e,r,i),e.child)}function cp(t,e,n,r,i){if(t===null){var o=n.type;return typeof o=="function"&&!Bh(o)&&o.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=o,Iy(t,e,o,r,i)):(t=fa(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(o=t.child,!(t.lanes&i)){var s=o.memoizedProps;if(n=n.compare,n=n!==null?n:Bo,n(s,r)&&t.ref===e.ref)return Sn(t,e,i)}return e.flags|=1,t=Yn(o,r),t.ref=e.ref,t.return=e,e.child=t}function Iy(t,e,n,r,i){if(t!==null){var o=t.memoizedProps;if(Bo(o,r)&&t.ref===e.ref)if(At=!1,e.pendingProps=r=o,(t.lanes&i)!==0)t.flags&131072&&(At=!0);else return e.lanes=t.lanes,Sn(t,e,i)}return mc(t,e,n,r,i)}function Cy(t,e,n){var r=e.pendingProps,i=r.children,o=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Te(fi,Dt),Dt|=n;else{if(!(n&1073741824))return t=o!==null?o.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Te(fi,Dt),Dt|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=o!==null?o.baseLanes:n,Te(fi,Dt),Dt|=r}else o!==null?(r=o.baseLanes|n,e.memoizedState=null):r=n,Te(fi,Dt),Dt|=r;return yt(t,e,i,n),e.child}function Py(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function mc(t,e,n,r,i){var o=xt(n)?xr:dt.current;return o=Ti(e,o),yi(e,i),n=kh(t,e,n,r,o,i),r=Nh(),t!==null&&!At?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Sn(t,e,i)):(Pe&&r&&vh(e),e.flags|=1,yt(t,e,n,i),e.child)}function hp(t,e,n,r,i){if(xt(n)){var o=!0;xa(e)}else o=!1;if(yi(e,i),e.stateNode===null)ua(t,e),Ey(e,n,r),dc(e,n,r,i),r=!0;else if(t===null){var s=e.stateNode,l=e.memoizedProps;s.props=l;var u=s.context,h=n.contextType;typeof h=="object"&&h!==null?h=Wt(h):(h=xt(n)?xr:dt.current,h=Ti(e,h));var d=n.getDerivedStateFromProps,p=typeof d=="function"||typeof s.getSnapshotBeforeUpdate=="function";p||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(l!==r||u!==h)&&op(e,s,r,h),bn=!1;var m=e.memoizedState;s.state=m,Oa(e,r,s,i),u=e.memoizedState,l!==r||m!==u||Rt.current||bn?(typeof d=="function"&&(fc(e,n,d,r),u=e.memoizedState),(l=bn||ip(e,n,l,r,m,u,h))?(p||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount()),typeof s.componentDidMount=="function"&&(e.flags|=4194308)):(typeof s.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=u),s.props=r,s.state=u,s.context=h,r=l):(typeof s.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{s=e.stateNode,ey(t,e),l=e.memoizedProps,h=e.type===e.elementType?l:Qt(e.type,l),s.props=h,p=e.pendingProps,m=s.context,u=n.contextType,typeof u=="object"&&u!==null?u=Wt(u):(u=xt(n)?xr:dt.current,u=Ti(e,u));var E=n.getDerivedStateFromProps;(d=typeof E=="function"||typeof s.getSnapshotBeforeUpdate=="function")||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(l!==p||m!==u)&&op(e,s,r,u),bn=!1,m=e.memoizedState,s.state=m,Oa(e,r,s,i);var v=e.memoizedState;l!==p||m!==v||Rt.current||bn?(typeof E=="function"&&(fc(e,n,E,r),v=e.memoizedState),(h=bn||ip(e,n,h,r,m,v,u)||!1)?(d||typeof s.UNSAFE_componentWillUpdate!="function"&&typeof s.componentWillUpdate!="function"||(typeof s.componentWillUpdate=="function"&&s.componentWillUpdate(r,v,u),typeof s.UNSAFE_componentWillUpdate=="function"&&s.UNSAFE_componentWillUpdate(r,v,u)),typeof s.componentDidUpdate=="function"&&(e.flags|=4),typeof s.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof s.componentDidUpdate!="function"||l===t.memoizedProps&&m===t.memoizedState||(e.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&m===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=v),s.props=r,s.state=v,s.context=u,r=h):(typeof s.componentDidUpdate!="function"||l===t.memoizedProps&&m===t.memoizedState||(e.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&m===t.memoizedState||(e.flags|=1024),r=!1)}return gc(t,e,n,r,o,i)}function gc(t,e,n,r,i,o){Py(t,e);var s=(e.flags&128)!==0;if(!r&&!s)return i&&Yd(e,n,!1),Sn(t,e,o);r=e.stateNode,v1.current=e;var l=s&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&s?(e.child=Ii(e,t.child,null,o),e.child=Ii(e,null,l,o)):yt(t,e,l,o),e.memoizedState=r.state,i&&Yd(e,n,!0),e.child}function Ay(t){var e=t.stateNode;e.pendingContext?Gd(t,e.pendingContext,e.pendingContext!==e.context):e.context&&Gd(t,e.context,!1),Ph(t,e.containerInfo)}function fp(t,e,n,r,i){return Si(),wh(i),e.flags|=256,yt(t,e,n,r),e.child}var yc={dehydrated:null,treeContext:null,retryLane:0};function vc(t){return{baseLanes:t,cachePool:null,transitions:null}}function Ry(t,e,n){var r=e.pendingProps,i=xe.current,o=!1,s=(e.flags&128)!==0,l;if((l=s)||(l=t!==null&&t.memoizedState===null?!1:(i&2)!==0),l?(o=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),Te(xe,i&1),t===null)return cc(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(s=r.children,t=r.fallback,o?(r=e.mode,o=e.child,s={mode:"hidden",children:s},!(r&1)&&o!==null?(o.childLanes=0,o.pendingProps=s):o=vl(s,r,0,null),t=Ar(t,r,n,null),o.return=e,t.return=e,o.sibling=t,e.child=o,e.child.memoizedState=vc(n),e.memoizedState=yc,t):Oh(e,s));if(i=t.memoizedState,i!==null&&(l=i.dehydrated,l!==null))return _1(t,e,s,r,l,i,n);if(o){o=r.fallback,s=e.mode,i=t.child,l=i.sibling;var u={mode:"hidden",children:r.children};return!(s&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=u,e.deletions=null):(r=Yn(i,u),r.subtreeFlags=i.subtreeFlags&14680064),l!==null?o=Yn(l,o):(o=Ar(o,s,n,null),o.flags|=2),o.return=e,r.return=e,r.sibling=o,e.child=r,r=o,o=e.child,s=t.child.memoizedState,s=s===null?vc(n):{baseLanes:s.baseLanes|n,cachePool:null,transitions:s.transitions},o.memoizedState=s,o.childLanes=t.childLanes&~n,e.memoizedState=yc,r}return o=t.child,t=o.sibling,r=Yn(o,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function Oh(t,e){return e=vl({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Hs(t,e,n,r){return r!==null&&wh(r),Ii(e,t.child,null,n),t=Oh(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function _1(t,e,n,r,i,o,s){if(n)return e.flags&256?(e.flags&=-257,r=Su(Error(W(422))),Hs(t,e,s,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(o=r.fallback,i=e.mode,r=vl({mode:"visible",children:r.children},i,0,null),o=Ar(o,i,s,null),o.flags|=2,r.return=e,o.return=e,r.sibling=o,e.child=r,e.mode&1&&Ii(e,t.child,null,s),e.child.memoizedState=vc(s),e.memoizedState=yc,o);if(!(e.mode&1))return Hs(t,e,s,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var l=r.dgst;return r=l,o=Error(W(419)),r=Su(o,r,void 0),Hs(t,e,s,r)}if(l=(s&t.childLanes)!==0,At||l){if(r=Ye,r!==null){switch(s&-s){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|s)?0:i,i!==0&&i!==o.retryLane&&(o.retryLane=i,Tn(t,i),Zt(r,t,i,-1))}return Uh(),r=Su(Error(W(421))),Hs(t,e,s,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=D1.bind(null,t),i._reactRetry=e,null):(t=o.treeContext,Vt=Hn(i.nextSibling),Ot=e,Pe=!0,Yt=null,t!==null&&(Ft[Ut++]=gn,Ft[Ut++]=yn,Ft[Ut++]=kr,gn=t.id,yn=t.overflow,kr=e),e=Oh(e,r.children),e.flags|=4096,e)}function dp(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),hc(t.return,e,n)}function Iu(t,e,n,r,i){var o=t.memoizedState;o===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(o.isBackwards=e,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=i)}function xy(t,e,n){var r=e.pendingProps,i=r.revealOrder,o=r.tail;if(yt(t,e,r.children,n),r=xe.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&dp(t,n,e);else if(t.tag===19)dp(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(Te(xe,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&ba(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),Iu(e,!1,i,n,o);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&ba(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}Iu(e,!0,n,null,o);break;case"together":Iu(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function ua(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Sn(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),Dr|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(W(153));if(e.child!==null){for(t=e.child,n=Yn(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Yn(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function w1(t,e,n){switch(e.tag){case 3:Ay(e),Si();break;case 5:ty(e);break;case 1:xt(e.type)&&xa(e);break;case 4:Ph(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;Te(Da,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(Te(xe,xe.current&1),e.flags|=128,null):n&e.child.childLanes?Ry(t,e,n):(Te(xe,xe.current&1),t=Sn(t,e,n),t!==null?t.sibling:null);Te(xe,xe.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return xy(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Te(xe,xe.current),r)break;return null;case 22:case 23:return e.lanes=0,Cy(t,e,n)}return Sn(t,e,n)}var ky,_c,Ny,Dy;ky=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};_c=function(){};Ny=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,Ir(an.current);var o=null;switch(n){case"input":i=Bu(t,i),r=Bu(t,r),o=[];break;case"select":i=Ne({},i,{value:void 0}),r=Ne({},r,{value:void 0}),o=[];break;case"textarea":i=Wu(t,i),r=Wu(t,r),o=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=Aa)}Hu(n,r);var s;n=null;for(h in i)if(!r.hasOwnProperty(h)&&i.hasOwnProperty(h)&&i[h]!=null)if(h==="style"){var l=i[h];for(s in l)l.hasOwnProperty(s)&&(n||(n={}),n[s]="")}else h!=="dangerouslySetInnerHTML"&&h!=="children"&&h!=="suppressContentEditableWarning"&&h!=="suppressHydrationWarning"&&h!=="autoFocus"&&(Oo.hasOwnProperty(h)?o||(o=[]):(o=o||[]).push(h,null));for(h in r){var u=r[h];if(l=i!=null?i[h]:void 0,r.hasOwnProperty(h)&&u!==l&&(u!=null||l!=null))if(h==="style")if(l){for(s in l)!l.hasOwnProperty(s)||u&&u.hasOwnProperty(s)||(n||(n={}),n[s]="");for(s in u)u.hasOwnProperty(s)&&l[s]!==u[s]&&(n||(n={}),n[s]=u[s])}else n||(o||(o=[]),o.push(h,n)),n=u;else h==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,l=l?l.__html:void 0,u!=null&&l!==u&&(o=o||[]).push(h,u)):h==="children"?typeof u!="string"&&typeof u!="number"||(o=o||[]).push(h,""+u):h!=="suppressContentEditableWarning"&&h!=="suppressHydrationWarning"&&(Oo.hasOwnProperty(h)?(u!=null&&h==="onScroll"&&Ie("scroll",t),o||l===u||(o=[])):(o=o||[]).push(h,u))}n&&(o=o||[]).push("style",n);var h=o;(e.updateQueue=h)&&(e.flags|=4)}};Dy=function(t,e,n,r){n!==r&&(e.flags|=4)};function ho(t,e){if(!Pe)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function lt(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function E1(t,e,n){var r=e.pendingProps;switch(_h(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return lt(e),null;case 1:return xt(e.type)&&Ra(),lt(e),null;case 3:return r=e.stateNode,Ci(),Ce(Rt),Ce(dt),Rh(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(Ws(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Yt!==null&&(Ac(Yt),Yt=null))),_c(t,e),lt(e),null;case 5:Ah(e);var i=Ir(Ho.current);if(n=e.type,t!==null&&e.stateNode!=null)Ny(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(W(166));return lt(e),null}if(t=Ir(an.current),Ws(e)){r=e.stateNode,n=e.type;var o=e.memoizedProps;switch(r[on]=e,r[Wo]=o,t=(e.mode&1)!==0,n){case"dialog":Ie("cancel",r),Ie("close",r);break;case"iframe":case"object":case"embed":Ie("load",r);break;case"video":case"audio":for(i=0;i<yo.length;i++)Ie(yo[i],r);break;case"source":Ie("error",r);break;case"img":case"image":case"link":Ie("error",r),Ie("load",r);break;case"details":Ie("toggle",r);break;case"input":Td(r,o),Ie("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},Ie("invalid",r);break;case"textarea":Id(r,o),Ie("invalid",r)}Hu(n,o),i=null;for(var s in o)if(o.hasOwnProperty(s)){var l=o[s];s==="children"?typeof l=="string"?r.textContent!==l&&(o.suppressHydrationWarning!==!0&&$s(r.textContent,l,t),i=["children",l]):typeof l=="number"&&r.textContent!==""+l&&(o.suppressHydrationWarning!==!0&&$s(r.textContent,l,t),i=["children",""+l]):Oo.hasOwnProperty(s)&&l!=null&&s==="onScroll"&&Ie("scroll",r)}switch(n){case"input":bs(r),Sd(r,o,!0);break;case"textarea":bs(r),Cd(r);break;case"select":case"option":break;default:typeof o.onClick=="function"&&(r.onclick=Aa)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{s=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=sg(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=s.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=s.createElement(n,{is:r.is}):(t=s.createElement(n),n==="select"&&(s=t,r.multiple?s.multiple=!0:r.size&&(s.size=r.size))):t=s.createElementNS(t,n),t[on]=e,t[Wo]=r,ky(t,e,!1,!1),e.stateNode=t;e:{switch(s=Ku(n,r),n){case"dialog":Ie("cancel",t),Ie("close",t),i=r;break;case"iframe":case"object":case"embed":Ie("load",t),i=r;break;case"video":case"audio":for(i=0;i<yo.length;i++)Ie(yo[i],t);i=r;break;case"source":Ie("error",t),i=r;break;case"img":case"image":case"link":Ie("error",t),Ie("load",t),i=r;break;case"details":Ie("toggle",t),i=r;break;case"input":Td(t,r),i=Bu(t,r),Ie("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=Ne({},r,{value:void 0}),Ie("invalid",t);break;case"textarea":Id(t,r),i=Wu(t,r),Ie("invalid",t);break;default:i=r}Hu(n,i),l=i;for(o in l)if(l.hasOwnProperty(o)){var u=l[o];o==="style"?ug(t,u):o==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,u!=null&&ag(t,u)):o==="children"?typeof u=="string"?(n!=="textarea"||u!=="")&&bo(t,u):typeof u=="number"&&bo(t,""+u):o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&o!=="autoFocus"&&(Oo.hasOwnProperty(o)?u!=null&&o==="onScroll"&&Ie("scroll",t):u!=null&&ih(t,o,u,s))}switch(n){case"input":bs(t),Sd(t,r,!1);break;case"textarea":bs(t),Cd(t);break;case"option":r.value!=null&&t.setAttribute("value",""+nr(r.value));break;case"select":t.multiple=!!r.multiple,o=r.value,o!=null?di(t,!!r.multiple,o,!1):r.defaultValue!=null&&di(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=Aa)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return lt(e),null;case 6:if(t&&e.stateNode!=null)Dy(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(W(166));if(n=Ir(Ho.current),Ir(an.current),Ws(e)){if(r=e.stateNode,n=e.memoizedProps,r[on]=e,(o=r.nodeValue!==n)&&(t=Ot,t!==null))switch(t.tag){case 3:$s(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&$s(r.nodeValue,n,(t.mode&1)!==0)}o&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[on]=e,e.stateNode=r}return lt(e),null;case 13:if(Ce(xe),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Pe&&Vt!==null&&e.mode&1&&!(e.flags&128))Yg(),Si(),e.flags|=98560,o=!1;else if(o=Ws(e),r!==null&&r.dehydrated!==null){if(t===null){if(!o)throw Error(W(318));if(o=e.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(W(317));o[on]=e}else Si(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;lt(e),o=!1}else Yt!==null&&(Ac(Yt),Yt=null),o=!0;if(!o)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||xe.current&1?qe===0&&(qe=3):Uh())),e.updateQueue!==null&&(e.flags|=4),lt(e),null);case 4:return Ci(),_c(t,e),t===null&&zo(e.stateNode.containerInfo),lt(e),null;case 10:return Sh(e.type._context),lt(e),null;case 17:return xt(e.type)&&Ra(),lt(e),null;case 19:if(Ce(xe),o=e.memoizedState,o===null)return lt(e),null;if(r=(e.flags&128)!==0,s=o.rendering,s===null)if(r)ho(o,!1);else{if(qe!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(s=ba(t),s!==null){for(e.flags|=128,ho(o,!1),r=s.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)o=n,t=r,o.flags&=14680066,s=o.alternate,s===null?(o.childLanes=0,o.lanes=t,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=s.childLanes,o.lanes=s.lanes,o.child=s.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=s.memoizedProps,o.memoizedState=s.memoizedState,o.updateQueue=s.updateQueue,o.type=s.type,t=s.dependencies,o.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return Te(xe,xe.current&1|2),e.child}t=t.sibling}o.tail!==null&&Me()>Ai&&(e.flags|=128,r=!0,ho(o,!1),e.lanes=4194304)}else{if(!r)if(t=ba(s),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),ho(o,!0),o.tail===null&&o.tailMode==="hidden"&&!s.alternate&&!Pe)return lt(e),null}else 2*Me()-o.renderingStartTime>Ai&&n!==1073741824&&(e.flags|=128,r=!0,ho(o,!1),e.lanes=4194304);o.isBackwards?(s.sibling=e.child,e.child=s):(n=o.last,n!==null?n.sibling=s:e.child=s,o.last=s)}return o.tail!==null?(e=o.tail,o.rendering=e,o.tail=e.sibling,o.renderingStartTime=Me(),e.sibling=null,n=xe.current,Te(xe,r?n&1|2:n&1),e):(lt(e),null);case 22:case 23:return Fh(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?Dt&1073741824&&(lt(e),e.subtreeFlags&6&&(e.flags|=8192)):lt(e),null;case 24:return null;case 25:return null}throw Error(W(156,e.tag))}function T1(t,e){switch(_h(e),e.tag){case 1:return xt(e.type)&&Ra(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Ci(),Ce(Rt),Ce(dt),Rh(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return Ah(e),null;case 13:if(Ce(xe),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(W(340));Si()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Ce(xe),null;case 4:return Ci(),null;case 10:return Sh(e.type._context),null;case 22:case 23:return Fh(),null;case 24:return null;default:return null}}var Ks=!1,ht=!1,S1=typeof WeakSet=="function"?WeakSet:Set,Y=null;function hi(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Oe(t,e,r)}else n.current=null}function wc(t,e,n){try{n()}catch(r){Oe(t,e,r)}}var pp=!1;function I1(t,e){if(rc=Ia,t=Lg(),yh(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch{n=null;break e}var s=0,l=-1,u=-1,h=0,d=0,p=t,m=null;t:for(;;){for(var E;p!==n||i!==0&&p.nodeType!==3||(l=s+i),p!==o||r!==0&&p.nodeType!==3||(u=s+r),p.nodeType===3&&(s+=p.nodeValue.length),(E=p.firstChild)!==null;)m=p,p=E;for(;;){if(p===t)break t;if(m===n&&++h===i&&(l=s),m===o&&++d===r&&(u=s),(E=p.nextSibling)!==null)break;p=m,m=p.parentNode}p=E}n=l===-1||u===-1?null:{start:l,end:u}}else n=null}n=n||{start:0,end:0}}else n=null;for(ic={focusedElem:t,selectionRange:n},Ia=!1,Y=e;Y!==null;)if(e=Y,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,Y=t;else for(;Y!==null;){e=Y;try{var v=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(v!==null){var C=v.memoizedProps,R=v.memoizedState,_=e.stateNode,w=_.getSnapshotBeforeUpdate(e.elementType===e.type?C:Qt(e.type,C),R);_.__reactInternalSnapshotBeforeUpdate=w}break;case 3:var I=e.stateNode.containerInfo;I.nodeType===1?I.textContent="":I.nodeType===9&&I.documentElement&&I.removeChild(I.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(W(163))}}catch(O){Oe(e,e.return,O)}if(t=e.sibling,t!==null){t.return=e.return,Y=t;break}Y=e.return}return v=pp,pp=!1,v}function Ao(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var o=i.destroy;i.destroy=void 0,o!==void 0&&wc(e,n,o)}i=i.next}while(i!==r)}}function gl(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function Ec(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function Vy(t){var e=t.alternate;e!==null&&(t.alternate=null,Vy(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[on],delete e[Wo],delete e[ac],delete e[s1],delete e[a1])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function Oy(t){return t.tag===5||t.tag===3||t.tag===4}function mp(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||Oy(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Tc(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=Aa));else if(r!==4&&(t=t.child,t!==null))for(Tc(t,e,n),t=t.sibling;t!==null;)Tc(t,e,n),t=t.sibling}function Sc(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(Sc(t,e,n),t=t.sibling;t!==null;)Sc(t,e,n),t=t.sibling}var Ze=null,Gt=!1;function Vn(t,e,n){for(n=n.child;n!==null;)by(t,e,n),n=n.sibling}function by(t,e,n){if(sn&&typeof sn.onCommitFiberUnmount=="function")try{sn.onCommitFiberUnmount(ll,n)}catch{}switch(n.tag){case 5:ht||hi(n,e);case 6:var r=Ze,i=Gt;Ze=null,Vn(t,e,n),Ze=r,Gt=i,Ze!==null&&(Gt?(t=Ze,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):Ze.removeChild(n.stateNode));break;case 18:Ze!==null&&(Gt?(t=Ze,n=n.stateNode,t.nodeType===8?yu(t.parentNode,n):t.nodeType===1&&yu(t,n),Fo(t)):yu(Ze,n.stateNode));break;case 4:r=Ze,i=Gt,Ze=n.stateNode.containerInfo,Gt=!0,Vn(t,e,n),Ze=r,Gt=i;break;case 0:case 11:case 14:case 15:if(!ht&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var o=i,s=o.destroy;o=o.tag,s!==void 0&&(o&2||o&4)&&wc(n,e,s),i=i.next}while(i!==r)}Vn(t,e,n);break;case 1:if(!ht&&(hi(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(l){Oe(n,e,l)}Vn(t,e,n);break;case 21:Vn(t,e,n);break;case 22:n.mode&1?(ht=(r=ht)||n.memoizedState!==null,Vn(t,e,n),ht=r):Vn(t,e,n);break;default:Vn(t,e,n)}}function gp(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new S1),e.forEach(function(r){var i=V1.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function Kt(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var o=t,s=e,l=s;e:for(;l!==null;){switch(l.tag){case 5:Ze=l.stateNode,Gt=!1;break e;case 3:Ze=l.stateNode.containerInfo,Gt=!0;break e;case 4:Ze=l.stateNode.containerInfo,Gt=!0;break e}l=l.return}if(Ze===null)throw Error(W(160));by(o,s,i),Ze=null,Gt=!1;var u=i.alternate;u!==null&&(u.return=null),i.return=null}catch(h){Oe(i,e,h)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)My(e,t),e=e.sibling}function My(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Kt(e,t),nn(t),r&4){try{Ao(3,t,t.return),gl(3,t)}catch(C){Oe(t,t.return,C)}try{Ao(5,t,t.return)}catch(C){Oe(t,t.return,C)}}break;case 1:Kt(e,t),nn(t),r&512&&n!==null&&hi(n,n.return);break;case 5:if(Kt(e,t),nn(t),r&512&&n!==null&&hi(n,n.return),t.flags&32){var i=t.stateNode;try{bo(i,"")}catch(C){Oe(t,t.return,C)}}if(r&4&&(i=t.stateNode,i!=null)){var o=t.memoizedProps,s=n!==null?n.memoizedProps:o,l=t.type,u=t.updateQueue;if(t.updateQueue=null,u!==null)try{l==="input"&&o.type==="radio"&&o.name!=null&&ig(i,o),Ku(l,s);var h=Ku(l,o);for(s=0;s<u.length;s+=2){var d=u[s],p=u[s+1];d==="style"?ug(i,p):d==="dangerouslySetInnerHTML"?ag(i,p):d==="children"?bo(i,p):ih(i,d,p,h)}switch(l){case"input":zu(i,o);break;case"textarea":og(i,o);break;case"select":var m=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!o.multiple;var E=o.value;E!=null?di(i,!!o.multiple,E,!1):m!==!!o.multiple&&(o.defaultValue!=null?di(i,!!o.multiple,o.defaultValue,!0):di(i,!!o.multiple,o.multiple?[]:"",!1))}i[Wo]=o}catch(C){Oe(t,t.return,C)}}break;case 6:if(Kt(e,t),nn(t),r&4){if(t.stateNode===null)throw Error(W(162));i=t.stateNode,o=t.memoizedProps;try{i.nodeValue=o}catch(C){Oe(t,t.return,C)}}break;case 3:if(Kt(e,t),nn(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Fo(e.containerInfo)}catch(C){Oe(t,t.return,C)}break;case 4:Kt(e,t),nn(t);break;case 13:Kt(e,t),nn(t),i=t.child,i.flags&8192&&(o=i.memoizedState!==null,i.stateNode.isHidden=o,!o||i.alternate!==null&&i.alternate.memoizedState!==null||(Lh=Me())),r&4&&gp(t);break;case 22:if(d=n!==null&&n.memoizedState!==null,t.mode&1?(ht=(h=ht)||d,Kt(e,t),ht=h):Kt(e,t),nn(t),r&8192){if(h=t.memoizedState!==null,(t.stateNode.isHidden=h)&&!d&&t.mode&1)for(Y=t,d=t.child;d!==null;){for(p=Y=d;Y!==null;){switch(m=Y,E=m.child,m.tag){case 0:case 11:case 14:case 15:Ao(4,m,m.return);break;case 1:hi(m,m.return);var v=m.stateNode;if(typeof v.componentWillUnmount=="function"){r=m,n=m.return;try{e=r,v.props=e.memoizedProps,v.state=e.memoizedState,v.componentWillUnmount()}catch(C){Oe(r,n,C)}}break;case 5:hi(m,m.return);break;case 22:if(m.memoizedState!==null){vp(p);continue}}E!==null?(E.return=m,Y=E):vp(p)}d=d.sibling}e:for(d=null,p=t;;){if(p.tag===5){if(d===null){d=p;try{i=p.stateNode,h?(o=i.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none"):(l=p.stateNode,u=p.memoizedProps.style,s=u!=null&&u.hasOwnProperty("display")?u.display:null,l.style.display=lg("display",s))}catch(C){Oe(t,t.return,C)}}}else if(p.tag===6){if(d===null)try{p.stateNode.nodeValue=h?"":p.memoizedProps}catch(C){Oe(t,t.return,C)}}else if((p.tag!==22&&p.tag!==23||p.memoizedState===null||p===t)&&p.child!==null){p.child.return=p,p=p.child;continue}if(p===t)break e;for(;p.sibling===null;){if(p.return===null||p.return===t)break e;d===p&&(d=null),p=p.return}d===p&&(d=null),p.sibling.return=p.return,p=p.sibling}}break;case 19:Kt(e,t),nn(t),r&4&&gp(t);break;case 21:break;default:Kt(e,t),nn(t)}}function nn(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(Oy(n)){var r=n;break e}n=n.return}throw Error(W(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(bo(i,""),r.flags&=-33);var o=mp(t);Sc(t,o,i);break;case 3:case 4:var s=r.stateNode.containerInfo,l=mp(t);Tc(t,l,s);break;default:throw Error(W(161))}}catch(u){Oe(t,t.return,u)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function C1(t,e,n){Y=t,Ly(t)}function Ly(t,e,n){for(var r=(t.mode&1)!==0;Y!==null;){var i=Y,o=i.child;if(i.tag===22&&r){var s=i.memoizedState!==null||Ks;if(!s){var l=i.alternate,u=l!==null&&l.memoizedState!==null||ht;l=Ks;var h=ht;if(Ks=s,(ht=u)&&!h)for(Y=i;Y!==null;)s=Y,u=s.child,s.tag===22&&s.memoizedState!==null?_p(i):u!==null?(u.return=s,Y=u):_p(i);for(;o!==null;)Y=o,Ly(o),o=o.sibling;Y=i,Ks=l,ht=h}yp(t)}else i.subtreeFlags&8772&&o!==null?(o.return=i,Y=o):yp(t)}}function yp(t){for(;Y!==null;){var e=Y;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:ht||gl(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!ht)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:Qt(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=e.updateQueue;o!==null&&tp(e,o,r);break;case 3:var s=e.updateQueue;if(s!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}tp(e,s,n)}break;case 5:var l=e.stateNode;if(n===null&&e.flags&4){n=l;var u=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":u.autoFocus&&n.focus();break;case"img":u.src&&(n.src=u.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var h=e.alternate;if(h!==null){var d=h.memoizedState;if(d!==null){var p=d.dehydrated;p!==null&&Fo(p)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(W(163))}ht||e.flags&512&&Ec(e)}catch(m){Oe(e,e.return,m)}}if(e===t){Y=null;break}if(n=e.sibling,n!==null){n.return=e.return,Y=n;break}Y=e.return}}function vp(t){for(;Y!==null;){var e=Y;if(e===t){Y=null;break}var n=e.sibling;if(n!==null){n.return=e.return,Y=n;break}Y=e.return}}function _p(t){for(;Y!==null;){var e=Y;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{gl(4,e)}catch(u){Oe(e,n,u)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(u){Oe(e,i,u)}}var o=e.return;try{Ec(e)}catch(u){Oe(e,o,u)}break;case 5:var s=e.return;try{Ec(e)}catch(u){Oe(e,s,u)}}}catch(u){Oe(e,e.return,u)}if(e===t){Y=null;break}var l=e.sibling;if(l!==null){l.return=e.return,Y=l;break}Y=e.return}}var P1=Math.ceil,ja=An.ReactCurrentDispatcher,bh=An.ReactCurrentOwner,$t=An.ReactCurrentBatchConfig,me=0,Ye=null,Fe=null,nt=0,Dt=0,fi=cr(0),qe=0,Yo=null,Dr=0,yl=0,Mh=0,Ro=null,Pt=null,Lh=0,Ai=1/0,pn=null,Fa=!1,Ic=null,Qn=null,Qs=!1,Fn=null,Ua=0,xo=0,Cc=null,ca=-1,ha=0;function vt(){return me&6?Me():ca!==-1?ca:ca=Me()}function Gn(t){return t.mode&1?me&2&&nt!==0?nt&-nt:u1.transition!==null?(ha===0&&(ha=Eg()),ha):(t=we,t!==0||(t=window.event,t=t===void 0?16:Rg(t.type)),t):1}function Zt(t,e,n,r){if(50<xo)throw xo=0,Cc=null,Error(W(185));us(t,n,r),(!(me&2)||t!==Ye)&&(t===Ye&&(!(me&2)&&(yl|=n),qe===4&&Ln(t,nt)),kt(t,r),n===1&&me===0&&!(e.mode&1)&&(Ai=Me()+500,dl&&hr()))}function kt(t,e){var n=t.callbackNode;uw(t,e);var r=Sa(t,t===Ye?nt:0);if(r===0)n!==null&&Rd(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&Rd(n),e===1)t.tag===0?l1(wp.bind(null,t)):Kg(wp.bind(null,t)),i1(function(){!(me&6)&&hr()}),n=null;else{switch(Tg(r)){case 1:n=uh;break;case 4:n=_g;break;case 16:n=Ta;break;case 536870912:n=wg;break;default:n=Ta}n=qy(n,jy.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function jy(t,e){if(ca=-1,ha=0,me&6)throw Error(W(327));var n=t.callbackNode;if(vi()&&t.callbackNode!==n)return null;var r=Sa(t,t===Ye?nt:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=Ba(t,r);else{e=r;var i=me;me|=2;var o=Uy();(Ye!==t||nt!==e)&&(pn=null,Ai=Me()+500,Pr(t,e));do try{x1();break}catch(l){Fy(t,l)}while(!0);Th(),ja.current=o,me=i,Fe!==null?e=0:(Ye=null,nt=0,e=qe)}if(e!==0){if(e===2&&(i=Ju(t),i!==0&&(r=i,e=Pc(t,i))),e===1)throw n=Yo,Pr(t,0),Ln(t,r),kt(t,Me()),n;if(e===6)Ln(t,r);else{if(i=t.current.alternate,!(r&30)&&!A1(i)&&(e=Ba(t,r),e===2&&(o=Ju(t),o!==0&&(r=o,e=Pc(t,o))),e===1))throw n=Yo,Pr(t,0),Ln(t,r),kt(t,Me()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(W(345));case 2:wr(t,Pt,pn);break;case 3:if(Ln(t,r),(r&130023424)===r&&(e=Lh+500-Me(),10<e)){if(Sa(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){vt(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=sc(wr.bind(null,t,Pt,pn),e);break}wr(t,Pt,pn);break;case 4:if(Ln(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var s=31-Jt(r);o=1<<s,s=e[s],s>i&&(i=s),r&=~o}if(r=i,r=Me()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*P1(r/1960))-r,10<r){t.timeoutHandle=sc(wr.bind(null,t,Pt,pn),r);break}wr(t,Pt,pn);break;case 5:wr(t,Pt,pn);break;default:throw Error(W(329))}}}return kt(t,Me()),t.callbackNode===n?jy.bind(null,t):null}function Pc(t,e){var n=Ro;return t.current.memoizedState.isDehydrated&&(Pr(t,e).flags|=256),t=Ba(t,e),t!==2&&(e=Pt,Pt=n,e!==null&&Ac(e)),t}function Ac(t){Pt===null?Pt=t:Pt.push.apply(Pt,t)}function A1(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],o=i.getSnapshot;i=i.value;try{if(!tn(o(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Ln(t,e){for(e&=~Mh,e&=~yl,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-Jt(e),r=1<<n;t[n]=-1,e&=~r}}function wp(t){if(me&6)throw Error(W(327));vi();var e=Sa(t,0);if(!(e&1))return kt(t,Me()),null;var n=Ba(t,e);if(t.tag!==0&&n===2){var r=Ju(t);r!==0&&(e=r,n=Pc(t,r))}if(n===1)throw n=Yo,Pr(t,0),Ln(t,e),kt(t,Me()),n;if(n===6)throw Error(W(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,wr(t,Pt,pn),kt(t,Me()),null}function jh(t,e){var n=me;me|=1;try{return t(e)}finally{me=n,me===0&&(Ai=Me()+500,dl&&hr())}}function Vr(t){Fn!==null&&Fn.tag===0&&!(me&6)&&vi();var e=me;me|=1;var n=$t.transition,r=we;try{if($t.transition=null,we=1,t)return t()}finally{we=r,$t.transition=n,me=e,!(me&6)&&hr()}}function Fh(){Dt=fi.current,Ce(fi)}function Pr(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,r1(n)),Fe!==null)for(n=Fe.return;n!==null;){var r=n;switch(_h(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Ra();break;case 3:Ci(),Ce(Rt),Ce(dt),Rh();break;case 5:Ah(r);break;case 4:Ci();break;case 13:Ce(xe);break;case 19:Ce(xe);break;case 10:Sh(r.type._context);break;case 22:case 23:Fh()}n=n.return}if(Ye=t,Fe=t=Yn(t.current,null),nt=Dt=e,qe=0,Yo=null,Mh=yl=Dr=0,Pt=Ro=null,Sr!==null){for(e=0;e<Sr.length;e++)if(n=Sr[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,o=n.pending;if(o!==null){var s=o.next;o.next=i,r.next=s}n.pending=r}Sr=null}return t}function Fy(t,e){do{var n=Fe;try{if(Th(),aa.current=La,Ma){for(var r=ke.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}Ma=!1}if(Nr=0,Ge=$e=ke=null,Po=!1,Ko=0,bh.current=null,n===null||n.return===null){qe=1,Yo=e,Fe=null;break}e:{var o=t,s=n.return,l=n,u=e;if(e=nt,l.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){var h=u,d=l,p=d.tag;if(!(d.mode&1)&&(p===0||p===11||p===15)){var m=d.alternate;m?(d.updateQueue=m.updateQueue,d.memoizedState=m.memoizedState,d.lanes=m.lanes):(d.updateQueue=null,d.memoizedState=null)}var E=ap(s);if(E!==null){E.flags&=-257,lp(E,s,l,o,e),E.mode&1&&sp(o,h,e),e=E,u=h;var v=e.updateQueue;if(v===null){var C=new Set;C.add(u),e.updateQueue=C}else v.add(u);break e}else{if(!(e&1)){sp(o,h,e),Uh();break e}u=Error(W(426))}}else if(Pe&&l.mode&1){var R=ap(s);if(R!==null){!(R.flags&65536)&&(R.flags|=256),lp(R,s,l,o,e),wh(Pi(u,l));break e}}o=u=Pi(u,l),qe!==4&&(qe=2),Ro===null?Ro=[o]:Ro.push(o),o=s;do{switch(o.tag){case 3:o.flags|=65536,e&=-e,o.lanes|=e;var _=Ty(o,u,e);ep(o,_);break e;case 1:l=u;var w=o.type,I=o.stateNode;if(!(o.flags&128)&&(typeof w.getDerivedStateFromError=="function"||I!==null&&typeof I.componentDidCatch=="function"&&(Qn===null||!Qn.has(I)))){o.flags|=65536,e&=-e,o.lanes|=e;var O=Sy(o,l,e);ep(o,O);break e}}o=o.return}while(o!==null)}zy(n)}catch(B){e=B,Fe===n&&n!==null&&(Fe=n=n.return);continue}break}while(!0)}function Uy(){var t=ja.current;return ja.current=La,t===null?La:t}function Uh(){(qe===0||qe===3||qe===2)&&(qe=4),Ye===null||!(Dr&268435455)&&!(yl&268435455)||Ln(Ye,nt)}function Ba(t,e){var n=me;me|=2;var r=Uy();(Ye!==t||nt!==e)&&(pn=null,Pr(t,e));do try{R1();break}catch(i){Fy(t,i)}while(!0);if(Th(),me=n,ja.current=r,Fe!==null)throw Error(W(261));return Ye=null,nt=0,qe}function R1(){for(;Fe!==null;)By(Fe)}function x1(){for(;Fe!==null&&!ew();)By(Fe)}function By(t){var e=Wy(t.alternate,t,Dt);t.memoizedProps=t.pendingProps,e===null?zy(t):Fe=e,bh.current=null}function zy(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=T1(n,e),n!==null){n.flags&=32767,Fe=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{qe=6,Fe=null;return}}else if(n=E1(n,e,Dt),n!==null){Fe=n;return}if(e=e.sibling,e!==null){Fe=e;return}Fe=e=t}while(e!==null);qe===0&&(qe=5)}function wr(t,e,n){var r=we,i=$t.transition;try{$t.transition=null,we=1,k1(t,e,n,r)}finally{$t.transition=i,we=r}return null}function k1(t,e,n,r){do vi();while(Fn!==null);if(me&6)throw Error(W(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(W(177));t.callbackNode=null,t.callbackPriority=0;var o=n.lanes|n.childLanes;if(cw(t,o),t===Ye&&(Fe=Ye=null,nt=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Qs||(Qs=!0,qy(Ta,function(){return vi(),null})),o=(n.flags&15990)!==0,n.subtreeFlags&15990||o){o=$t.transition,$t.transition=null;var s=we;we=1;var l=me;me|=4,bh.current=null,I1(t,n),My(n,t),Yw(ic),Ia=!!rc,ic=rc=null,t.current=n,C1(n),tw(),me=l,we=s,$t.transition=o}else t.current=n;if(Qs&&(Qs=!1,Fn=t,Ua=i),o=t.pendingLanes,o===0&&(Qn=null),iw(n.stateNode),kt(t,Me()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Fa)throw Fa=!1,t=Ic,Ic=null,t;return Ua&1&&t.tag!==0&&vi(),o=t.pendingLanes,o&1?t===Cc?xo++:(xo=0,Cc=t):xo=0,hr(),null}function vi(){if(Fn!==null){var t=Tg(Ua),e=$t.transition,n=we;try{if($t.transition=null,we=16>t?16:t,Fn===null)var r=!1;else{if(t=Fn,Fn=null,Ua=0,me&6)throw Error(W(331));var i=me;for(me|=4,Y=t.current;Y!==null;){var o=Y,s=o.child;if(Y.flags&16){var l=o.deletions;if(l!==null){for(var u=0;u<l.length;u++){var h=l[u];for(Y=h;Y!==null;){var d=Y;switch(d.tag){case 0:case 11:case 15:Ao(8,d,o)}var p=d.child;if(p!==null)p.return=d,Y=p;else for(;Y!==null;){d=Y;var m=d.sibling,E=d.return;if(Vy(d),d===h){Y=null;break}if(m!==null){m.return=E,Y=m;break}Y=E}}}var v=o.alternate;if(v!==null){var C=v.child;if(C!==null){v.child=null;do{var R=C.sibling;C.sibling=null,C=R}while(C!==null)}}Y=o}}if(o.subtreeFlags&2064&&s!==null)s.return=o,Y=s;else e:for(;Y!==null;){if(o=Y,o.flags&2048)switch(o.tag){case 0:case 11:case 15:Ao(9,o,o.return)}var _=o.sibling;if(_!==null){_.return=o.return,Y=_;break e}Y=o.return}}var w=t.current;for(Y=w;Y!==null;){s=Y;var I=s.child;if(s.subtreeFlags&2064&&I!==null)I.return=s,Y=I;else e:for(s=w;Y!==null;){if(l=Y,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:gl(9,l)}}catch(B){Oe(l,l.return,B)}if(l===s){Y=null;break e}var O=l.sibling;if(O!==null){O.return=l.return,Y=O;break e}Y=l.return}}if(me=i,hr(),sn&&typeof sn.onPostCommitFiberRoot=="function")try{sn.onPostCommitFiberRoot(ll,t)}catch{}r=!0}return r}finally{we=n,$t.transition=e}}return!1}function Ep(t,e,n){e=Pi(n,e),e=Ty(t,e,1),t=Kn(t,e,1),e=vt(),t!==null&&(us(t,1,e),kt(t,e))}function Oe(t,e,n){if(t.tag===3)Ep(t,t,n);else for(;e!==null;){if(e.tag===3){Ep(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Qn===null||!Qn.has(r))){t=Pi(n,t),t=Sy(e,t,1),e=Kn(e,t,1),t=vt(),e!==null&&(us(e,1,t),kt(e,t));break}}e=e.return}}function N1(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=vt(),t.pingedLanes|=t.suspendedLanes&n,Ye===t&&(nt&n)===n&&(qe===4||qe===3&&(nt&130023424)===nt&&500>Me()-Lh?Pr(t,0):Mh|=n),kt(t,e)}function $y(t,e){e===0&&(t.mode&1?(e=js,js<<=1,!(js&130023424)&&(js=4194304)):e=1);var n=vt();t=Tn(t,e),t!==null&&(us(t,e,n),kt(t,n))}function D1(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),$y(t,n)}function V1(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(W(314))}r!==null&&r.delete(e),$y(t,n)}var Wy;Wy=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||Rt.current)At=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return At=!1,w1(t,e,n);At=!!(t.flags&131072)}else At=!1,Pe&&e.flags&1048576&&Qg(e,Na,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;ua(t,e),t=e.pendingProps;var i=Ti(e,dt.current);yi(e,n),i=kh(null,e,r,t,i,n);var o=Nh();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,xt(r)?(o=!0,xa(e)):o=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,Ch(e),i.updater=ml,e.stateNode=i,i._reactInternals=e,dc(e,r,t,n),e=gc(null,e,r,!0,o,n)):(e.tag=0,Pe&&o&&vh(e),yt(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(ua(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=b1(r),t=Qt(r,t),i){case 0:e=mc(null,e,r,t,n);break e;case 1:e=hp(null,e,r,t,n);break e;case 11:e=up(null,e,r,t,n);break e;case 14:e=cp(null,e,r,Qt(r.type,t),n);break e}throw Error(W(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Qt(r,i),mc(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Qt(r,i),hp(t,e,r,i,n);case 3:e:{if(Ay(e),t===null)throw Error(W(387));r=e.pendingProps,o=e.memoizedState,i=o.element,ey(t,e),Oa(e,r,null,n);var s=e.memoizedState;if(r=s.element,o.isDehydrated)if(o={element:r,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},e.updateQueue.baseState=o,e.memoizedState=o,e.flags&256){i=Pi(Error(W(423)),e),e=fp(t,e,r,n,i);break e}else if(r!==i){i=Pi(Error(W(424)),e),e=fp(t,e,r,n,i);break e}else for(Vt=Hn(e.stateNode.containerInfo.firstChild),Ot=e,Pe=!0,Yt=null,n=Jg(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Si(),r===i){e=Sn(t,e,n);break e}yt(t,e,r,n)}e=e.child}return e;case 5:return ty(e),t===null&&cc(e),r=e.type,i=e.pendingProps,o=t!==null?t.memoizedProps:null,s=i.children,oc(r,i)?s=null:o!==null&&oc(r,o)&&(e.flags|=32),Py(t,e),yt(t,e,s,n),e.child;case 6:return t===null&&cc(e),null;case 13:return Ry(t,e,n);case 4:return Ph(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=Ii(e,null,r,n):yt(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Qt(r,i),up(t,e,r,i,n);case 7:return yt(t,e,e.pendingProps,n),e.child;case 8:return yt(t,e,e.pendingProps.children,n),e.child;case 12:return yt(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,o=e.memoizedProps,s=i.value,Te(Da,r._currentValue),r._currentValue=s,o!==null)if(tn(o.value,s)){if(o.children===i.children&&!Rt.current){e=Sn(t,e,n);break e}}else for(o=e.child,o!==null&&(o.return=e);o!==null;){var l=o.dependencies;if(l!==null){s=o.child;for(var u=l.firstContext;u!==null;){if(u.context===r){if(o.tag===1){u=vn(-1,n&-n),u.tag=2;var h=o.updateQueue;if(h!==null){h=h.shared;var d=h.pending;d===null?u.next=u:(u.next=d.next,d.next=u),h.pending=u}}o.lanes|=n,u=o.alternate,u!==null&&(u.lanes|=n),hc(o.return,n,e),l.lanes|=n;break}u=u.next}}else if(o.tag===10)s=o.type===e.type?null:o.child;else if(o.tag===18){if(s=o.return,s===null)throw Error(W(341));s.lanes|=n,l=s.alternate,l!==null&&(l.lanes|=n),hc(s,n,e),s=o.sibling}else s=o.child;if(s!==null)s.return=o;else for(s=o;s!==null;){if(s===e){s=null;break}if(o=s.sibling,o!==null){o.return=s.return,s=o;break}s=s.return}o=s}yt(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,yi(e,n),i=Wt(i),r=r(i),e.flags|=1,yt(t,e,r,n),e.child;case 14:return r=e.type,i=Qt(r,e.pendingProps),i=Qt(r.type,i),cp(t,e,r,i,n);case 15:return Iy(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Qt(r,i),ua(t,e),e.tag=1,xt(r)?(t=!0,xa(e)):t=!1,yi(e,n),Ey(e,r,i),dc(e,r,i,n),gc(null,e,r,!0,t,n);case 19:return xy(t,e,n);case 22:return Cy(t,e,n)}throw Error(W(156,e.tag))};function qy(t,e){return vg(t,e)}function O1(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function zt(t,e,n,r){return new O1(t,e,n,r)}function Bh(t){return t=t.prototype,!(!t||!t.isReactComponent)}function b1(t){if(typeof t=="function")return Bh(t)?1:0;if(t!=null){if(t=t.$$typeof,t===sh)return 11;if(t===ah)return 14}return 2}function Yn(t,e){var n=t.alternate;return n===null?(n=zt(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function fa(t,e,n,r,i,o){var s=2;if(r=t,typeof t=="function")Bh(t)&&(s=1);else if(typeof t=="string")s=5;else e:switch(t){case ni:return Ar(n.children,i,o,e);case oh:s=8,i|=8;break;case Lu:return t=zt(12,n,e,i|2),t.elementType=Lu,t.lanes=o,t;case ju:return t=zt(13,n,e,i),t.elementType=ju,t.lanes=o,t;case Fu:return t=zt(19,n,e,i),t.elementType=Fu,t.lanes=o,t;case tg:return vl(n,i,o,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case Zm:s=10;break e;case eg:s=9;break e;case sh:s=11;break e;case ah:s=14;break e;case On:s=16,r=null;break e}throw Error(W(130,t==null?t:typeof t,""))}return e=zt(s,n,e,i),e.elementType=t,e.type=r,e.lanes=o,e}function Ar(t,e,n,r){return t=zt(7,t,r,e),t.lanes=n,t}function vl(t,e,n,r){return t=zt(22,t,r,e),t.elementType=tg,t.lanes=n,t.stateNode={isHidden:!1},t}function Cu(t,e,n){return t=zt(6,t,null,e),t.lanes=n,t}function Pu(t,e,n){return e=zt(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function M1(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=su(0),this.expirationTimes=su(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=su(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function zh(t,e,n,r,i,o,s,l,u){return t=new M1(t,e,n,l,u),e===1?(e=1,o===!0&&(e|=8)):e=0,o=zt(3,null,null,e),t.current=o,o.stateNode=t,o.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Ch(o),t}function L1(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:ti,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function Hy(t){if(!t)return rr;t=t._reactInternals;e:{if(Mr(t)!==t||t.tag!==1)throw Error(W(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(xt(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(W(171))}if(t.tag===1){var n=t.type;if(xt(n))return Hg(t,n,e)}return e}function Ky(t,e,n,r,i,o,s,l,u){return t=zh(n,r,!0,t,i,o,s,l,u),t.context=Hy(null),n=t.current,r=vt(),i=Gn(n),o=vn(r,i),o.callback=e??null,Kn(n,o,i),t.current.lanes=i,us(t,i,r),kt(t,r),t}function _l(t,e,n,r){var i=e.current,o=vt(),s=Gn(i);return n=Hy(n),e.context===null?e.context=n:e.pendingContext=n,e=vn(o,s),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=Kn(i,e,s),t!==null&&(Zt(t,i,s,o),sa(t,i,s)),s}function za(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function Tp(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function $h(t,e){Tp(t,e),(t=t.alternate)&&Tp(t,e)}function j1(){return null}var Qy=typeof reportError=="function"?reportError:function(t){console.error(t)};function Wh(t){this._internalRoot=t}wl.prototype.render=Wh.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(W(409));_l(t,e,null,null)};wl.prototype.unmount=Wh.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Vr(function(){_l(null,t,null,null)}),e[En]=null}};function wl(t){this._internalRoot=t}wl.prototype.unstable_scheduleHydration=function(t){if(t){var e=Cg();t={blockedOn:null,target:t,priority:e};for(var n=0;n<Mn.length&&e!==0&&e<Mn[n].priority;n++);Mn.splice(n,0,t),n===0&&Ag(t)}};function qh(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function El(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function Sp(){}function F1(t,e,n,r,i){if(i){if(typeof r=="function"){var o=r;r=function(){var h=za(s);o.call(h)}}var s=Ky(e,r,t,0,null,!1,!1,"",Sp);return t._reactRootContainer=s,t[En]=s.current,zo(t.nodeType===8?t.parentNode:t),Vr(),s}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var l=r;r=function(){var h=za(u);l.call(h)}}var u=zh(t,0,!1,null,null,!1,!1,"",Sp);return t._reactRootContainer=u,t[En]=u.current,zo(t.nodeType===8?t.parentNode:t),Vr(function(){_l(e,u,n,r)}),u}function Tl(t,e,n,r,i){var o=n._reactRootContainer;if(o){var s=o;if(typeof i=="function"){var l=i;i=function(){var u=za(s);l.call(u)}}_l(e,s,t,i)}else s=F1(n,e,t,i,r);return za(s)}Sg=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=go(e.pendingLanes);n!==0&&(ch(e,n|1),kt(e,Me()),!(me&6)&&(Ai=Me()+500,hr()))}break;case 13:Vr(function(){var r=Tn(t,1);if(r!==null){var i=vt();Zt(r,t,1,i)}}),$h(t,1)}};hh=function(t){if(t.tag===13){var e=Tn(t,134217728);if(e!==null){var n=vt();Zt(e,t,134217728,n)}$h(t,134217728)}};Ig=function(t){if(t.tag===13){var e=Gn(t),n=Tn(t,e);if(n!==null){var r=vt();Zt(n,t,e,r)}$h(t,e)}};Cg=function(){return we};Pg=function(t,e){var n=we;try{return we=t,e()}finally{we=n}};Gu=function(t,e,n){switch(e){case"input":if(zu(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=fl(r);if(!i)throw Error(W(90));rg(r),zu(r,i)}}}break;case"textarea":og(t,n);break;case"select":e=n.value,e!=null&&di(t,!!n.multiple,e,!1)}};fg=jh;dg=Vr;var U1={usingClientEntryPoint:!1,Events:[hs,si,fl,cg,hg,jh]},fo={findFiberByHostInstance:Tr,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},B1={bundleType:fo.bundleType,version:fo.version,rendererPackageName:fo.rendererPackageName,rendererConfig:fo.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:An.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=gg(t),t===null?null:t.stateNode},findFiberByHostInstance:fo.findFiberByHostInstance||j1,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Gs=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Gs.isDisabled&&Gs.supportsFiber)try{ll=Gs.inject(B1),sn=Gs}catch{}}Mt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=U1;Mt.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!qh(e))throw Error(W(200));return L1(t,e,null,n)};Mt.createRoot=function(t,e){if(!qh(t))throw Error(W(299));var n=!1,r="",i=Qy;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=zh(t,1,!1,null,null,n,!1,r,i),t[En]=e.current,zo(t.nodeType===8?t.parentNode:t),new Wh(e)};Mt.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(W(188)):(t=Object.keys(t).join(","),Error(W(268,t)));return t=gg(e),t=t===null?null:t.stateNode,t};Mt.flushSync=function(t){return Vr(t)};Mt.hydrate=function(t,e,n){if(!El(e))throw Error(W(200));return Tl(null,t,e,!0,n)};Mt.hydrateRoot=function(t,e,n){if(!qh(t))throw Error(W(405));var r=n!=null&&n.hydratedSources||null,i=!1,o="",s=Qy;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onRecoverableError!==void 0&&(s=n.onRecoverableError)),e=Ky(e,null,t,1,n??null,i,!1,o,s),t[En]=e.current,zo(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new wl(e)};Mt.render=function(t,e,n){if(!El(e))throw Error(W(200));return Tl(null,t,e,!1,n)};Mt.unmountComponentAtNode=function(t){if(!El(t))throw Error(W(40));return t._reactRootContainer?(Vr(function(){Tl(null,null,t,!1,function(){t._reactRootContainer=null,t[En]=null})}),!0):!1};Mt.unstable_batchedUpdates=jh;Mt.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!El(n))throw Error(W(200));if(t==null||t._reactInternals===void 0)throw Error(W(38));return Tl(t,e,n,!1,r)};Mt.version="18.3.1-next-f1338f8080-20240426";function Gy(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Gy)}catch(t){console.error(t)}}Gy(),Gm.exports=Mt;var z1=Gm.exports,Yy,Ip=z1;Yy=Ip.createRoot,Ip.hydrateRoot;/**
 * @remix-run/router v1.21.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Xo(){return Xo=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Xo.apply(this,arguments)}var Un;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(Un||(Un={}));const Cp="popstate";function $1(t){t===void 0&&(t={});function e(r,i){let{pathname:o,search:s,hash:l}=r.location;return Rc("",{pathname:o,search:s,hash:l},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:$a(i)}return q1(e,n,null,t)}function Ue(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Xy(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function W1(){return Math.random().toString(36).substr(2,8)}function Pp(t,e){return{usr:t.state,key:t.key,idx:e}}function Rc(t,e,n,r){return n===void 0&&(n=null),Xo({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?ji(e):e,{state:n,key:e&&e.key||r||W1()})}function $a(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function ji(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function q1(t,e,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:o=!1}=r,s=i.history,l=Un.Pop,u=null,h=d();h==null&&(h=0,s.replaceState(Xo({},s.state,{idx:h}),""));function d(){return(s.state||{idx:null}).idx}function p(){l=Un.Pop;let R=d(),_=R==null?null:R-h;h=R,u&&u({action:l,location:C.location,delta:_})}function m(R,_){l=Un.Push;let w=Rc(C.location,R,_);h=d()+1;let I=Pp(w,h),O=C.createHref(w);try{s.pushState(I,"",O)}catch(B){if(B instanceof DOMException&&B.name==="DataCloneError")throw B;i.location.assign(O)}o&&u&&u({action:l,location:C.location,delta:1})}function E(R,_){l=Un.Replace;let w=Rc(C.location,R,_);h=d();let I=Pp(w,h),O=C.createHref(w);s.replaceState(I,"",O),o&&u&&u({action:l,location:C.location,delta:0})}function v(R){let _=i.location.origin!=="null"?i.location.origin:i.location.href,w=typeof R=="string"?R:$a(R);return w=w.replace(/ $/,"%20"),Ue(_,"No window.location.(origin|href) available to create URL for href: "+w),new URL(w,_)}let C={get action(){return l},get location(){return t(i,s)},listen(R){if(u)throw new Error("A history only accepts one active listener");return i.addEventListener(Cp,p),u=R,()=>{i.removeEventListener(Cp,p),u=null}},createHref(R){return e(i,R)},createURL:v,encodeLocation(R){let _=v(R);return{pathname:_.pathname,search:_.search,hash:_.hash}},push:m,replace:E,go(R){return s.go(R)}};return C}var Ap;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(Ap||(Ap={}));function H1(t,e,n){return n===void 0&&(n="/"),K1(t,e,n,!1)}function K1(t,e,n,r){let i=typeof e=="string"?ji(e):e,o=Hh(i.pathname||"/",n);if(o==null)return null;let s=Jy(t);Q1(s);let l=null;for(let u=0;l==null&&u<s.length;++u){let h=oE(o);l=rE(s[u],h,r)}return l}function Jy(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(o,s,l)=>{let u={relativePath:l===void 0?o.path||"":l,caseSensitive:o.caseSensitive===!0,childrenIndex:s,route:o};u.relativePath.startsWith("/")&&(Ue(u.relativePath.startsWith(r),'Absolute route path "'+u.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),u.relativePath=u.relativePath.slice(r.length));let h=Xn([r,u.relativePath]),d=n.concat(u);o.children&&o.children.length>0&&(Ue(o.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+h+'".')),Jy(o.children,e,d,h)),!(o.path==null&&!o.index)&&e.push({path:h,score:tE(h,o.index),routesMeta:d})};return t.forEach((o,s)=>{var l;if(o.path===""||!((l=o.path)!=null&&l.includes("?")))i(o,s);else for(let u of Zy(o.path))i(o,s,u)}),e}function Zy(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),o=n.replace(/\?$/,"");if(r.length===0)return i?[o,""]:[o];let s=Zy(r.join("/")),l=[];return l.push(...s.map(u=>u===""?o:[o,u].join("/"))),i&&l.push(...s),l.map(u=>t.startsWith("/")&&u===""?"/":u)}function Q1(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:nE(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const G1=/^:[\w-]+$/,Y1=3,X1=2,J1=1,Z1=10,eE=-2,Rp=t=>t==="*";function tE(t,e){let n=t.split("/"),r=n.length;return n.some(Rp)&&(r+=eE),e&&(r+=X1),n.filter(i=>!Rp(i)).reduce((i,o)=>i+(G1.test(o)?Y1:o===""?J1:Z1),r)}function nE(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function rE(t,e,n){let{routesMeta:r}=t,i={},o="/",s=[];for(let l=0;l<r.length;++l){let u=r[l],h=l===r.length-1,d=o==="/"?e:e.slice(o.length)||"/",p=xp({path:u.relativePath,caseSensitive:u.caseSensitive,end:h},d),m=u.route;if(!p&&h&&n&&!r[r.length-1].route.index&&(p=xp({path:u.relativePath,caseSensitive:u.caseSensitive,end:!1},d)),!p)return null;Object.assign(i,p.params),s.push({params:i,pathname:Xn([o,p.pathname]),pathnameBase:uE(Xn([o,p.pathnameBase])),route:m}),p.pathnameBase!=="/"&&(o=Xn([o,p.pathnameBase]))}return s}function xp(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=iE(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let o=i[0],s=o.replace(/(.)\/+$/,"$1"),l=i.slice(1);return{params:r.reduce((h,d,p)=>{let{paramName:m,isOptional:E}=d;if(m==="*"){let C=l[p]||"";s=o.slice(0,o.length-C.length).replace(/(.)\/+$/,"$1")}const v=l[p];return E&&!v?h[m]=void 0:h[m]=(v||"").replace(/%2F/g,"/"),h},{}),pathname:o,pathnameBase:s,pattern:t}}function iE(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),Xy(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(s,l,u)=>(r.push({paramName:l,isOptional:u!=null}),u?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function oE(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Xy(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function Hh(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function sE(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?ji(t):t;return{pathname:n?n.startsWith("/")?n:aE(n,e):e,search:cE(r),hash:hE(i)}}function aE(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function Au(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function lE(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function ev(t,e){let n=lE(t);return e?n.map((r,i)=>i===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function tv(t,e,n,r){r===void 0&&(r=!1);let i;typeof t=="string"?i=ji(t):(i=Xo({},t),Ue(!i.pathname||!i.pathname.includes("?"),Au("?","pathname","search",i)),Ue(!i.pathname||!i.pathname.includes("#"),Au("#","pathname","hash",i)),Ue(!i.search||!i.search.includes("#"),Au("#","search","hash",i)));let o=t===""||i.pathname==="",s=o?"/":i.pathname,l;if(s==null)l=n;else{let p=e.length-1;if(!r&&s.startsWith("..")){let m=s.split("/");for(;m[0]==="..";)m.shift(),p-=1;i.pathname=m.join("/")}l=p>=0?e[p]:"/"}let u=sE(i,l),h=s&&s!=="/"&&s.endsWith("/"),d=(o||s===".")&&n.endsWith("/");return!u.pathname.endsWith("/")&&(h||d)&&(u.pathname+="/"),u}const Xn=t=>t.join("/").replace(/\/\/+/g,"/"),uE=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),cE=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,hE=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function fE(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const nv=["post","put","patch","delete"];new Set(nv);const dE=["get",...nv];new Set(dE);/**
 * React Router v6.28.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Jo(){return Jo=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Jo.apply(this,arguments)}const Kh=q.createContext(null),pE=q.createContext(null),Lr=q.createContext(null),Sl=q.createContext(null),jr=q.createContext({outlet:null,matches:[],isDataRoute:!1}),rv=q.createContext(null);function mE(t,e){let{relative:n}=e===void 0?{}:e;ds()||Ue(!1);let{basename:r,navigator:i}=q.useContext(Lr),{hash:o,pathname:s,search:l}=ov(t,{relative:n}),u=s;return r!=="/"&&(u=s==="/"?r:Xn([r,s])),i.createHref({pathname:u,search:l,hash:o})}function ds(){return q.useContext(Sl)!=null}function Il(){return ds()||Ue(!1),q.useContext(Sl).location}function iv(t){q.useContext(Lr).static||q.useLayoutEffect(t)}function gE(){let{isDataRoute:t}=q.useContext(jr);return t?xE():yE()}function yE(){ds()||Ue(!1);let t=q.useContext(Kh),{basename:e,future:n,navigator:r}=q.useContext(Lr),{matches:i}=q.useContext(jr),{pathname:o}=Il(),s=JSON.stringify(ev(i,n.v7_relativeSplatPath)),l=q.useRef(!1);return iv(()=>{l.current=!0}),q.useCallback(function(h,d){if(d===void 0&&(d={}),!l.current)return;if(typeof h=="number"){r.go(h);return}let p=tv(h,JSON.parse(s),o,d.relative==="path");t==null&&e!=="/"&&(p.pathname=p.pathname==="/"?e:Xn([e,p.pathname])),(d.replace?r.replace:r.push)(p,d.state,d)},[e,r,s,o,t])}function ov(t,e){let{relative:n}=e===void 0?{}:e,{future:r}=q.useContext(Lr),{matches:i}=q.useContext(jr),{pathname:o}=Il(),s=JSON.stringify(ev(i,r.v7_relativeSplatPath));return q.useMemo(()=>tv(t,JSON.parse(s),o,n==="path"),[t,s,o,n])}function vE(t,e){return _E(t,e)}function _E(t,e,n,r){ds()||Ue(!1);let{navigator:i}=q.useContext(Lr),{matches:o}=q.useContext(jr),s=o[o.length-1],l=s?s.params:{};s&&s.pathname;let u=s?s.pathnameBase:"/";s&&s.route;let h=Il(),d;if(e){var p;let R=typeof e=="string"?ji(e):e;u==="/"||(p=R.pathname)!=null&&p.startsWith(u)||Ue(!1),d=R}else d=h;let m=d.pathname||"/",E=m;if(u!=="/"){let R=u.replace(/^\//,"").split("/");E="/"+m.replace(/^\//,"").split("/").slice(R.length).join("/")}let v=H1(t,{pathname:E}),C=IE(v&&v.map(R=>Object.assign({},R,{params:Object.assign({},l,R.params),pathname:Xn([u,i.encodeLocation?i.encodeLocation(R.pathname).pathname:R.pathname]),pathnameBase:R.pathnameBase==="/"?u:Xn([u,i.encodeLocation?i.encodeLocation(R.pathnameBase).pathname:R.pathnameBase])})),o,n,r);return e&&C?q.createElement(Sl.Provider,{value:{location:Jo({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:Un.Pop}},C):C}function wE(){let t=RE(),e=fE(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return q.createElement(q.Fragment,null,q.createElement("h2",null,"Unexpected Application Error!"),q.createElement("h3",{style:{fontStyle:"italic"}},e),n?q.createElement("pre",{style:i},n):null,null)}const EE=q.createElement(wE,null);class TE extends q.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?q.createElement(jr.Provider,{value:this.props.routeContext},q.createElement(rv.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function SE(t){let{routeContext:e,match:n,children:r}=t,i=q.useContext(Kh);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),q.createElement(jr.Provider,{value:e},r)}function IE(t,e,n,r){var i;if(e===void 0&&(e=[]),n===void 0&&(n=null),r===void 0&&(r=null),t==null){var o;if(!n)return null;if(n.errors)t=n.matches;else if((o=r)!=null&&o.v7_partialHydration&&e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let s=t,l=(i=n)==null?void 0:i.errors;if(l!=null){let d=s.findIndex(p=>p.route.id&&(l==null?void 0:l[p.route.id])!==void 0);d>=0||Ue(!1),s=s.slice(0,Math.min(s.length,d+1))}let u=!1,h=-1;if(n&&r&&r.v7_partialHydration)for(let d=0;d<s.length;d++){let p=s[d];if((p.route.HydrateFallback||p.route.hydrateFallbackElement)&&(h=d),p.route.id){let{loaderData:m,errors:E}=n,v=p.route.loader&&m[p.route.id]===void 0&&(!E||E[p.route.id]===void 0);if(p.route.lazy||v){u=!0,h>=0?s=s.slice(0,h+1):s=[s[0]];break}}}return s.reduceRight((d,p,m)=>{let E,v=!1,C=null,R=null;n&&(E=l&&p.route.id?l[p.route.id]:void 0,C=p.route.errorElement||EE,u&&(h<0&&m===0?(v=!0,R=null):h===m&&(v=!0,R=p.route.hydrateFallbackElement||null)));let _=e.concat(s.slice(0,m+1)),w=()=>{let I;return E?I=C:v?I=R:p.route.Component?I=q.createElement(p.route.Component,null):p.route.element?I=p.route.element:I=d,q.createElement(SE,{match:p,routeContext:{outlet:d,matches:_,isDataRoute:n!=null},children:I})};return n&&(p.route.ErrorBoundary||p.route.errorElement||m===0)?q.createElement(TE,{location:n.location,revalidation:n.revalidation,component:C,error:E,children:w(),routeContext:{outlet:null,matches:_,isDataRoute:!0}}):w()},null)}var sv=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(sv||{}),Wa=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(Wa||{});function CE(t){let e=q.useContext(Kh);return e||Ue(!1),e}function PE(t){let e=q.useContext(pE);return e||Ue(!1),e}function AE(t){let e=q.useContext(jr);return e||Ue(!1),e}function av(t){let e=AE(),n=e.matches[e.matches.length-1];return n.route.id||Ue(!1),n.route.id}function RE(){var t;let e=q.useContext(rv),n=PE(Wa.UseRouteError),r=av(Wa.UseRouteError);return e!==void 0?e:(t=n.errors)==null?void 0:t[r]}function xE(){let{router:t}=CE(sv.UseNavigateStable),e=av(Wa.UseNavigateStable),n=q.useRef(!1);return iv(()=>{n.current=!0}),q.useCallback(function(i,o){o===void 0&&(o={}),n.current&&(typeof i=="number"?t.navigate(i):t.navigate(i,Jo({fromRouteId:e},o)))},[t,e])}const kp={};function kE(t,e){kp[e]||(kp[e]=!0,console.warn(e))}const Np=(t,e,n)=>kE(t," React Router Future Flag Warning: "+e+". "+("You can use the `"+t+"` future flag to opt-in early. ")+("For more information, see "+n+"."));function NE(t,e){t!=null&&t.v7_startTransition||Np("v7_startTransition","React Router will begin wrapping state updates in `React.startTransition` in v7","https://reactrouter.com/v6/upgrading/future#v7_starttransition"),!(t!=null&&t.v7_relativeSplatPath)&&!e&&Np("v7_relativeSplatPath","Relative route resolution within Splat routes is changing in v7","https://reactrouter.com/v6/upgrading/future#v7_relativesplatpath")}function Yr(t){Ue(!1)}function DE(t){let{basename:e="/",children:n=null,location:r,navigationType:i=Un.Pop,navigator:o,static:s=!1,future:l}=t;ds()&&Ue(!1);let u=e.replace(/^\/*/,"/"),h=q.useMemo(()=>({basename:u,navigator:o,static:s,future:Jo({v7_relativeSplatPath:!1},l)}),[u,l,o,s]);typeof r=="string"&&(r=ji(r));let{pathname:d="/",search:p="",hash:m="",state:E=null,key:v="default"}=r,C=q.useMemo(()=>{let R=Hh(d,u);return R==null?null:{location:{pathname:R,search:p,hash:m,state:E,key:v},navigationType:i}},[u,d,p,m,E,v,i]);return C==null?null:q.createElement(Lr.Provider,{value:h},q.createElement(Sl.Provider,{children:n,value:C}))}function VE(t){let{children:e,location:n}=t;return vE(xc(e),n)}new Promise(()=>{});function xc(t,e){e===void 0&&(e=[]);let n=[];return q.Children.forEach(t,(r,i)=>{if(!q.isValidElement(r))return;let o=[...e,i];if(r.type===q.Fragment){n.push.apply(n,xc(r.props.children,o));return}r.type!==Yr&&Ue(!1),!r.props.index||!r.props.children||Ue(!1);let s={id:r.props.id||o.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(s.children=xc(r.props.children,o)),n.push(s)}),n}/**
 * React Router DOM v6.28.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function kc(){return kc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},kc.apply(this,arguments)}function OE(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,o;for(o=0;o<r.length;o++)i=r[o],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function bE(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function ME(t,e){return t.button===0&&(!e||e==="_self")&&!bE(t)}const LE=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],jE="6";try{window.__reactRouterVersion=jE}catch{}const FE="startTransition",Dp=N_[FE];function UE(t){let{basename:e,children:n,future:r,window:i}=t,o=q.useRef();o.current==null&&(o.current=$1({window:i,v5Compat:!0}));let s=o.current,[l,u]=q.useState({action:s.action,location:s.location}),{v7_startTransition:h}=r||{},d=q.useCallback(p=>{h&&Dp?Dp(()=>u(p)):u(p)},[u,h]);return q.useLayoutEffect(()=>s.listen(d),[s,d]),q.useEffect(()=>NE(r),[r]),q.createElement(DE,{basename:e,children:n,location:l.location,navigationType:l.action,navigator:s,future:r})}const BE=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",zE=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,lv=q.forwardRef(function(e,n){let{onClick:r,relative:i,reloadDocument:o,replace:s,state:l,target:u,to:h,preventScrollReset:d,viewTransition:p}=e,m=OE(e,LE),{basename:E}=q.useContext(Lr),v,C=!1;if(typeof h=="string"&&zE.test(h)&&(v=h,BE))try{let I=new URL(window.location.href),O=h.startsWith("//")?new URL(I.protocol+h):new URL(h),B=Hh(O.pathname,E);O.origin===I.origin&&B!=null?h=B+O.search+O.hash:C=!0}catch{}let R=mE(h,{relative:i}),_=$E(h,{replace:s,state:l,target:u,preventScrollReset:d,relative:i,viewTransition:p});function w(I){r&&r(I),I.defaultPrevented||_(I)}return q.createElement("a",kc({},m,{href:v||R,onClick:C||o?r:w,ref:n,target:u}))});var Vp;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(Vp||(Vp={}));var Op;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(Op||(Op={}));function $E(t,e){let{target:n,replace:r,state:i,preventScrollReset:o,relative:s,viewTransition:l}=e===void 0?{}:e,u=gE(),h=Il(),d=ov(t,{relative:s});return q.useCallback(p=>{if(ME(p,n)){p.preventDefault();let m=r!==void 0?r:$a(h)===$a(d);u(t,{replace:m,state:i,preventScrollReset:o,relative:s,viewTransition:l})}},[h,u,d,r,i,n,t,o,s,l])}var uv={exports:{}};(function(t,e){(function(n,r){t.exports=r()})(Lm,function(){return function(n){var r={};function i(o){if(r[o])return r[o].exports;var s=r[o]={i:o,l:!1,exports:{}};return n[o].call(s.exports,s,s.exports,i),s.l=!0,s.exports}return i.m=n,i.c=r,i.d=function(o,s,l){i.o(o,s)||Object.defineProperty(o,s,{enumerable:!0,get:l})},i.r=function(o){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(o,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(o,"__esModule",{value:!0})},i.t=function(o,s){if(1&s&&(o=i(o)),8&s||4&s&&typeof o=="object"&&o&&o.__esModule)return o;var l=Object.create(null);if(i.r(l),Object.defineProperty(l,"default",{enumerable:!0,value:o}),2&s&&typeof o!="string")for(var u in o)i.d(l,u,(function(h){return o[h]}).bind(null,u));return l},i.n=function(o){var s=o&&o.__esModule?function(){return o.default}:function(){return o};return i.d(s,"a",s),s},i.o=function(o,s){return Object.prototype.hasOwnProperty.call(o,s)},i.p="/",i(i.s=2)}([function(n,r,i){n.exports=i(3)},function(n,r,i){n.exports=i(5)()},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=function(){function m(E,v){for(var C=0;C<v.length;C++){var R=v[C];R.enumerable=R.enumerable||!1,R.configurable=!0,"value"in R&&(R.writable=!0),Object.defineProperty(E,R.key,R)}}return function(E,v,C){return v&&m(E.prototype,v),C&&m(E,C),E}}(),s=i(0),l=d(s),u=d(i(1)),h=d(i(7));function d(m){return m&&m.__esModule?m:{default:m}}var p=function(m){function E(v){(function(R,_){if(!(R instanceof _))throw new TypeError("Cannot call a class as a function")})(this,E);var C=function(R,_){if(!R)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!_||typeof _!="object"&&typeof _!="function"?R:_}(this,(E.__proto__||Object.getPrototypeOf(E)).call(this,v));return C.state={index:0,displayText:""},C.getRawText=C.getRawText.bind(C),C.type=C.type.bind(C),C.erase=C.erase.bind(C),C.startTyping=C.startTyping.bind(C),C}return function(v,C){if(typeof C!="function"&&C!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof C);v.prototype=Object.create(C&&C.prototype,{constructor:{value:v,enumerable:!1,writable:!0,configurable:!0}}),C&&(Object.setPrototypeOf?Object.setPrototypeOf(v,C):v.__proto__=C)}(E,s.Component),o(E,[{key:"componentDidMount",value:function(){this.startTyping()}},{key:"componentWillUnmount",value:function(){this._timeout&&clearTimeout(this._timeout)}},{key:"startTyping",value:function(){var v=this;this._timeout=setTimeout(function(){v.type()},this.props.typingDelay)}},{key:"getRawText",value:function(){var v=this.props.text;return typeof v=="string"?[v]:[].concat(function(C){if(Array.isArray(C)){for(var R=0,_=Array(C.length);R<C.length;R++)_[R]=C[R];return _}return Array.from(C)}(v))}},{key:"type",value:function(){var v=this,C=this.state,R=C.index,_=C.displayText,w=this.getRawText()[R];w.length>_.length?(_=w.substr(0,_.length+1),this.setState({displayText:_},function(){v._timeout=setTimeout(function(){v.type()},v.props.speed)})):this._timeout=setTimeout(function(){v.erase()},this.props.eraseDelay)}},{key:"erase",value:function(){var v=this,C=this.state,R=C.index,_=C.displayText;_.length===0?(R=R+1===this.getRawText().length?0:R+1,this.setState({index:R},function(){v.startTyping()})):(_=_.substr(-_.length,_.length-1),this.setState({displayText:_},function(){v._timeout=setTimeout(function(){v.erase()},v.props.eraseSpeed)}))}},{key:"render",value:function(){var v=this.props,C=(v.speed,v.eraseSpeed,v.typingDelay,v.eraseDelay,v.staticText),R=(v.text,v.cursor),_=v.displayTextRenderer,w=v.cursorClassName,I=v.cursorRenderer,O=function(y,T){var P={};for(var x in y)T.indexOf(x)>=0||Object.prototype.hasOwnProperty.call(y,x)&&(P[x]=y[x]);return P}(v,["speed","eraseSpeed","typingDelay","eraseDelay","staticText","text","cursor","displayTextRenderer","cursorClassName","cursorRenderer"]),B=this.state,$=B.displayText,S=B.index;return l.default.createElement("span",O,C?l.default.createElement("span",null,C,""):null,l.default.createElement("div",{style:{display:"inline-block"}},_?_($,S):$),l.default.createElement(h.default,{cursor:R,cursorRenderer:I,className:w}))}}]),E}();r.default=p,p.defaultProps={speed:200,eraseSpeed:200,eraseDelay:5e3,typingDelay:2500},p.propTypes={speed:u.default.number.isRequired,eraseSpeed:u.default.number.isRequired,typingDelay:u.default.number.isRequired,eraseDelay:u.default.number.isRequired,staticText:u.default.string,text:u.default.oneOfType([u.default.arrayOf(u.default.string),u.default.string]).isRequired,cursor:u.default.string,cursorClassName:u.default.string,displayTextRenderer:u.default.func,cursorRenderer:u.default.func}},function(n,r,i){/** @license React v16.13.1
* react.production.min.js
*
* Copyright (c) Facebook, Inc. and its affiliates.
*
* This source code is licensed under the MIT license found in the
* LICENSE file in the root directory of this source tree.
*/var o=i(4),s=typeof Symbol=="function"&&Symbol.for,l=s?Symbol.for("react.element"):60103,u=s?Symbol.for("react.portal"):60106,h=s?Symbol.for("react.fragment"):60107,d=s?Symbol.for("react.strict_mode"):60108,p=s?Symbol.for("react.profiler"):60114,m=s?Symbol.for("react.provider"):60109,E=s?Symbol.for("react.context"):60110,v=s?Symbol.for("react.forward_ref"):60112,C=s?Symbol.for("react.suspense"):60113,R=s?Symbol.for("react.memo"):60115,_=s?Symbol.for("react.lazy"):60116,w=typeof Symbol=="function"&&Symbol.iterator;function I(b){for(var k="https://reactjs.org/docs/error-decoder.html?invariant="+b,M=1;M<arguments.length;M++)k+="&args[]="+encodeURIComponent(arguments[M]);return"Minified React error #"+b+"; visit "+k+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var O={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},B={};function $(b,k,M){this.props=b,this.context=k,this.refs=B,this.updater=M||O}function S(){}function y(b,k,M){this.props=b,this.context=k,this.refs=B,this.updater=M||O}$.prototype.isReactComponent={},$.prototype.setState=function(b,k){if(typeof b!="object"&&typeof b!="function"&&b!=null)throw Error(I(85));this.updater.enqueueSetState(this,b,k,"setState")},$.prototype.forceUpdate=function(b){this.updater.enqueueForceUpdate(this,b,"forceUpdate")},S.prototype=$.prototype;var T=y.prototype=new S;T.constructor=y,o(T,$.prototype),T.isPureReactComponent=!0;var P={current:null},x=Object.prototype.hasOwnProperty,N={key:!0,ref:!0,__self:!0,__source:!0};function A(b,k,M){var j,V={},J=null,H=null;if(k!=null)for(j in k.ref!==void 0&&(H=k.ref),k.key!==void 0&&(J=""+k.key),k)x.call(k,j)&&!N.hasOwnProperty(j)&&(V[j]=k[j]);var X=arguments.length-2;if(X===1)V.children=M;else if(1<X){for(var Z=Array(X),se=0;se<X;se++)Z[se]=arguments[se+2];V.children=Z}if(b&&b.defaultProps)for(j in X=b.defaultProps)V[j]===void 0&&(V[j]=X[j]);return{$$typeof:l,type:b,key:J,ref:H,props:V,_owner:P.current}}function Be(b){return typeof b=="object"&&b!==null&&b.$$typeof===l}var Et=/\/+/g,jt=[];function Tt(b,k,M,j){if(jt.length){var V=jt.pop();return V.result=b,V.keyPrefix=k,V.func=M,V.context=j,V.count=0,V}return{result:b,keyPrefix:k,func:M,context:j,count:0}}function Q(b){b.result=null,b.keyPrefix=null,b.func=null,b.context=null,b.count=0,10>jt.length&&jt.push(b)}function ne(b,k,M){return b==null?0:function j(V,J,H,X){var Z=typeof V;Z!=="undefined"&&Z!=="boolean"||(V=null);var se=!1;if(V===null)se=!0;else switch(Z){case"string":case"number":se=!0;break;case"object":switch(V.$$typeof){case l:case u:se=!0}}if(se)return H(X,V,J===""?"."+re(V,0):J),1;if(se=0,J=J===""?".":J+":",Array.isArray(V))for(var ce=0;ce<V.length;ce++){var ze=J+re(Z=V[ce],ce);se+=j(Z,ze,H,X)}else if(ze=V===null||typeof V!="object"?null:typeof(ze=w&&V[w]||V["@@iterator"])=="function"?ze:null,typeof ze=="function")for(V=ze.call(V),ce=0;!(Z=V.next()).done;)se+=j(Z=Z.value,ze=J+re(Z,ce++),H,X);else if(Z==="object")throw H=""+V,Error(I(31,H==="[object Object]"?"object with keys {"+Object.keys(V).join(", ")+"}":H,""));return se}(b,"",k,M)}function re(b,k){return typeof b=="object"&&b!==null&&b.key!=null?function(M){var j={"=":"=0",":":"=2"};return"$"+(""+M).replace(/[=:]/g,function(V){return j[V]})}(b.key):k.toString(36)}function _e(b,k){b.func.call(b.context,k,b.count++)}function pe(b,k,M){var j=b.result,V=b.keyPrefix;b=b.func.call(b.context,k,b.count++),Array.isArray(b)?ye(b,j,M,function(J){return J}):b!=null&&(Be(b)&&(b=function(J,H){return{$$typeof:l,type:J.type,key:H,ref:J.ref,props:J.props,_owner:J._owner}}(b,V+(!b.key||k&&k.key===b.key?"":(""+b.key).replace(Et,"$&/")+"/")+M)),j.push(b))}function ye(b,k,M,j,V){var J="";M!=null&&(J=(""+M).replace(Et,"$&/")+"/"),ne(b,pe,k=Tt(k,J,j,V)),Q(k)}var St={current:null};function Re(){var b=St.current;if(b===null)throw Error(I(321));return b}var pt={ReactCurrentDispatcher:St,ReactCurrentBatchConfig:{suspense:null},ReactCurrentOwner:P,IsSomeRendererActing:{current:!1},assign:o};r.Children={map:function(b,k,M){if(b==null)return b;var j=[];return ye(b,j,null,k,M),j},forEach:function(b,k,M){if(b==null)return b;ne(b,_e,k=Tt(null,null,k,M)),Q(k)},count:function(b){return ne(b,function(){return null},null)},toArray:function(b){var k=[];return ye(b,k,null,function(M){return M}),k},only:function(b){if(!Be(b))throw Error(I(143));return b}},r.Component=$,r.Fragment=h,r.Profiler=p,r.PureComponent=y,r.StrictMode=d,r.Suspense=C,r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=pt,r.cloneElement=function(b,k,M){if(b==null)throw Error(I(267,b));var j=o({},b.props),V=b.key,J=b.ref,H=b._owner;if(k!=null){if(k.ref!==void 0&&(J=k.ref,H=P.current),k.key!==void 0&&(V=""+k.key),b.type&&b.type.defaultProps)var X=b.type.defaultProps;for(Z in k)x.call(k,Z)&&!N.hasOwnProperty(Z)&&(j[Z]=k[Z]===void 0&&X!==void 0?X[Z]:k[Z])}var Z=arguments.length-2;if(Z===1)j.children=M;else if(1<Z){X=Array(Z);for(var se=0;se<Z;se++)X[se]=arguments[se+2];j.children=X}return{$$typeof:l,type:b.type,key:V,ref:J,props:j,_owner:H}},r.createContext=function(b,k){return k===void 0&&(k=null),(b={$$typeof:E,_calculateChangedBits:k,_currentValue:b,_currentValue2:b,_threadCount:0,Provider:null,Consumer:null}).Provider={$$typeof:m,_context:b},b.Consumer=b},r.createElement=A,r.createFactory=function(b){var k=A.bind(null,b);return k.type=b,k},r.createRef=function(){return{current:null}},r.forwardRef=function(b){return{$$typeof:v,render:b}},r.isValidElement=Be,r.lazy=function(b){return{$$typeof:_,_ctor:b,_status:-1,_result:null}},r.memo=function(b,k){return{$$typeof:R,type:b,compare:k===void 0?null:k}},r.useCallback=function(b,k){return Re().useCallback(b,k)},r.useContext=function(b,k){return Re().useContext(b,k)},r.useDebugValue=function(){},r.useEffect=function(b,k){return Re().useEffect(b,k)},r.useImperativeHandle=function(b,k,M){return Re().useImperativeHandle(b,k,M)},r.useLayoutEffect=function(b,k){return Re().useLayoutEffect(b,k)},r.useMemo=function(b,k){return Re().useMemo(b,k)},r.useReducer=function(b,k,M){return Re().useReducer(b,k,M)},r.useRef=function(b){return Re().useRef(b)},r.useState=function(b){return Re().useState(b)},r.version="16.13.1"},function(n,r,i){/*
object-assign
(c) Sindre Sorhus
@license MIT
*/var o=Object.getOwnPropertySymbols,s=Object.prototype.hasOwnProperty,l=Object.prototype.propertyIsEnumerable;n.exports=function(){try{if(!Object.assign)return!1;var u=new String("abc");if(u[5]="de",Object.getOwnPropertyNames(u)[0]==="5")return!1;for(var h={},d=0;d<10;d++)h["_"+String.fromCharCode(d)]=d;if(Object.getOwnPropertyNames(h).map(function(m){return h[m]}).join("")!=="0123456789")return!1;var p={};return"abcdefghijklmnopqrst".split("").forEach(function(m){p[m]=m}),Object.keys(Object.assign({},p)).join("")==="abcdefghijklmnopqrst"}catch{return!1}}()?Object.assign:function(u,h){for(var d,p,m=function(R){if(R==null)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(R)}(u),E=1;E<arguments.length;E++){for(var v in d=Object(arguments[E]))s.call(d,v)&&(m[v]=d[v]);if(o){p=o(d);for(var C=0;C<p.length;C++)l.call(d,p[C])&&(m[p[C]]=d[p[C]])}}return m}},function(n,r,i){var o=i(6);function s(){}n.exports=function(){function l(d,p,m,E,v,C){if(C!==o){var R=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw R.name="Invariant Violation",R}}function u(){return l}l.isRequired=l;var h={array:l,bool:l,func:l,number:l,object:l,string:l,symbol:l,any:l,arrayOf:u,element:l,instanceOf:u,node:l,objectOf:u,oneOf:u,oneOfType:u,shape:u,exact:u};return h.checkPropTypes=s,h.PropTypes=h,h}},function(n,r,i){n.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=function(){function m(E,v){for(var C=0;C<v.length;C++){var R=v[C];R.enumerable=R.enumerable||!1,R.configurable=!0,"value"in R&&(R.writable=!0),Object.defineProperty(E,R.key,R)}}return function(E,v,C){return v&&m(E.prototype,v),C&&m(E,C),E}}(),s=i(0),l=h(s),u=h(i(1));function h(m){return m&&m.__esModule?m:{default:m}}var d=function(m){function E(v){(function(R,_){if(!(R instanceof _))throw new TypeError("Cannot call a class as a function")})(this,E);var C=function(R,_){if(!R)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!_||typeof _!="object"&&typeof _!="function"?R:_}(this,(E.__proto__||Object.getPrototypeOf(E)).call(this,v));return C.state={display:!0},C.animateCursor=C.animateCursor.bind(C),C}return function(v,C){if(typeof C!="function"&&C!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof C);v.prototype=Object.create(C&&C.prototype,{constructor:{value:v,enumerable:!1,writable:!0,configurable:!0}}),C&&(Object.setPrototypeOf?Object.setPrototypeOf(v,C):v.__proto__=C)}(E,s.Component),o(E,[{key:"componentDidMount",value:function(){this.animateCursor()}},{key:"componentWillUnmount",value:function(){this._interval&&clearInterval(this._interval)}},{key:"animateCursor",value:function(){var v=this;this._interval=setInterval(function(){v.setState({display:!v.state.display})},500)}},{key:"render",value:function(){var v=this.props,C=v.className,R=v.cursor,_=v.cursorRenderer,w=this.state.display,I=R||"|";return l.default.createElement("span",{className:C,style:p(w)},_?_(I):I)}}]),E}();r.default=d;var p=function(){return{display:"inline-block",MsTransition:"opacity 0.5s",WebkitTransition:"opacity 0.5s",MozTransition:"opacity 0.5s",transition:"opacity 0.5s",opacity:!(arguments.length>0&&arguments[0]!==void 0)||arguments[0]?1:0}};d.propTypes={cursor:u.default.string,className:u.default.string,cursorRenderer:u.default.func}}])})})(uv);var WE=uv.exports;const cv=Xc(WE),qE=()=>F.jsxs("header",{className:"text-center mb-10 px-4 py-10 sm:py-20 relative",children:[F.jsxs("h1",{className:"text-4xl sm:text-5xl md:text-6xl font-extrabold text-transparent bg-clip-text bg-gradient-to-r from-pink-500 via-purple-500 to-blue-500 mb-6 animate-bounce drop-shadow-xl relative",children:["Happy Birthday, Julian Ndungu!",F.jsx("span",{className:"animate-spin inline-block",children:""}),F.jsx("span",{className:"absolute inset-0 animate-ping opacity-50 pointer-events-none",children:F.jsx("div",{className:"absolute left-0 top-0 bg-gradient-to-r from-pink-500 via-purple-500 to-blue-500 opacity-75 w-full h-full rounded-full"})}),F.jsx("div",{className:"confetti absolute inset-0 pointer-events-none",children:[...Array(15)].map((t,e)=>{const n=Math.random()*8+10;return F.jsx("div",{className:"absolute animate-confetti bg-yellow-400 rounded-full",style:{width:`${n}px`,height:`${n}px`,top:`${Math.random()*100}vh`,left:`${Math.random()*100}vw`,opacity:Math.random()*.5+.5,transform:`rotate(${Math.random()*360}deg)`,animationDuration:`${4+Math.random()*3}s`,animationDelay:`${Math.random()*4}s`}},e)})})]}),F.jsx("p",{className:"text-lg sm:text-xl text-gray-700 relative font-medium",children:F.jsx(cv,{text:["Celebrate Julian's special day with a gift or message!","Join us in making this day unforgettable!"],speed:80,eraseSpeed:50,typingDelay:500})}),F.jsx("div",{className:"parallax-background absolute inset-0 bg-gradient-to-b from-blue-300 to-blue-50 opacity-30 blur-sm z-[-1]"})]}),HE=()=>F.jsx("div",{className:"confetti-background absolute inset-0 -z-10 overflow-hidden pointer-events-none",children:[...Array(80)].map((t,e)=>{const n=Math.random()*12+8,r=["rounded-full","rounded-lg","rounded-sm"],i=["bg-red-500","bg-yellow-400","bg-green-400","bg-blue-500","bg-pink-500","bg-purple-500","bg-teal-400","bg-orange-500"],o=["float","spin-slow","drift","sway"],s=Math.random()*6+4,l=Math.random()*4;return F.jsx("div",{className:`${i[e%i.length]} ${r[e%r.length]} absolute`,style:{width:`${n}px`,height:`${n}px`,top:`${Math.random()*100}vh`,left:`${Math.random()*100}vw`,opacity:Math.random()*.7+.3,transform:`rotate(${Math.random()*360}deg)`,animationDuration:`${s}s`,animationDelay:`${l}s`,animationTimingFunction:"ease-in-out",animationName:o[e%o.length]}},e)})}),KE=()=>F.jsx("div",{className:"festive-elements flex flex-wrap justify-center gap-6 mt-12 animate-fade-in z-10 relative",children:[{color:"bg-red-200",size:20,shape:"rounded-full",animation:"bounce"},{color:"bg-yellow-200",size:24,shape:"rounded-full",animation:"pulse"},{color:"bg-green-200",size:16,shape:"rounded-lg",animation:"spin-slow"},{color:"bg-purple-200",size:28,shape:"rounded-full",animation:"bounce"},{color:"bg-pink-200",size:18,shape:"rounded-lg",animation:"pulse"},{color:"bg-blue-200",size:22,shape:"rounded-full",animation:"spin-slow"},{color:"bg-teal-200",size:30,shape:"rounded-full",animation:"sway"},{color:"bg-orange-200",size:25,shape:"rounded-lg",animation:"float"}].map((t,e)=>{const n=t.size+Math.random()*6,r=`${Math.random()*90}vh`,i=`${Math.random()*90}vw`;return F.jsx("div",{className:`${t.color} ${t.shape} shadow-md transform transition-all duration-500 hover:scale-110`,style:{width:`${n}px`,height:`${n}px`,opacity:.9+Math.random()*.2,top:r,left:i,animation:`${t.animation} ${Math.random()*4+6}s ease-in-out infinite`,transform:`rotate(${Math.random()*360}deg)`}},e)})}),QE=()=>F.jsxs("header",{className:"relative text-center mt-16 mb-12 animate-fade-in z-10 px-6 sm:px-12 lg:px-24",children:[F.jsx("h1",{className:"text-4xl sm:text-5xl md:text-6xl font-extrabold text-red-600 drop-shadow-2xl tracking-wide leading-tight mb-4 animate__animated animate__fadeIn",children:"Welcome to the Celebration!"}),F.jsx("p",{className:"text-lg sm:text-xl mt-6 text-gray-800 max-w-2xl mx-auto px-4 md:px-0 leading-relaxed",children:F.jsx(cv,{text:["Join us in celebrating our little one's first birthday!"],speed:100,eraseSpeed:50,typingDelay:500})}),F.jsx("div",{className:"mt-8 animate-bounce",children:F.jsx("span",{className:"text-5xl sm:text-6xl text-yellow-500",children:""})}),F.jsx("div",{className:"mt-10",children:F.jsx("a",{href:"#invite",className:"inline-block px-8 py-3 bg-yellow-500 text-white font-semibold rounded-xl shadow-md hover:scale-105 transition-transform duration-200 ease-in-out focus:outline-none focus:ring-4 focus:ring-yellow-400 focus:ring-opacity-60",children:"Join the Fun!"})})]}),bp=({imgSrc:t,altText:e,linkTo:n,buttonText:r})=>F.jsxs(lv,{to:n,className:"block group relative overflow-hidden rounded-xl shadow-xl transform transition-transform duration-500 ease-in-out hover:scale-105 hover:shadow-2xl focus:outline-none","aria-label":`Click to view ${r}`,children:[F.jsx("img",{src:t,alt:e,className:"w-full h-auto object-cover object-center transition-all duration-500 ease-in-out group-hover:scale-110 group-hover:opacity-90",loading:"lazy",sizes:"(max-width: 640px) 100vw, (max-width: 1024px) 50vw, 33vw"}),F.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black via-transparent to-transparent opacity-40 group-hover:opacity-60 transition-opacity duration-300 ease-in-out"}),F.jsx("div",{className:"absolute inset-0 flex items-center justify-center text-white text-3xl font-semibold opacity-0 group-hover:opacity-100 transition-opacity duration-300 ease-in-out",children:F.jsx("span",{className:"text-center",children:r})})]}),GE=()=>F.jsxs("section",{className:"my-8 animate-fade-in w-full max-w-4xl mx-auto px-4 md:px-8",children:[F.jsx(bp,{imgSrc:"/julian/assets/IMG_20240901_140625_728.jpg",altText:"A cherished moment during the birthday celebration, capturing laughter and joy of the event.",linkTo:"/WishesPage",buttonText:"Click to Leave a Wish"}),F.jsx(bp,{imgSrc:"/julian/assets/julian1.jpg",altText:"Another special moment captured during the birthday event, radiating joy and happiness.",linkTo:"/AnotherPage",buttonText:"View More Memories"})]}),YE=()=>{const[t,e]=q.useState({days:0,hours:0,minutes:0,seconds:0}),r=(()=>{const i=new Date,s=(7-i.getDay())%7,l=new Date(i);return l.setDate(i.getDate()+s+7),l.setHours(0,0,0,0),l})().getTime();return q.useEffect(()=>{const i=setInterval(()=>{const o=new Date,s=new Date(o.toLocaleString("en-US",{timeZone:"Africa/Nairobi"})),l=r-s.getTime();if(l<=0)clearInterval(i);else{const u=Math.floor(l/864e5),h=Math.floor(l%(1e3*60*60*24)/(1e3*60*60)),d=Math.floor(l%(1e3*60*60)/(1e3*60)),p=Math.floor(l%(1e3*60)/1e3);e({days:u,hours:h,minutes:d,seconds:p})}},1e3);return()=>clearInterval(i)},[r]),F.jsxs("div",{className:"countdown-tile",children:[F.jsxs("div",{className:"time-unit",children:[F.jsx("div",{className:"value",children:t.days}),F.jsx("div",{className:"label",children:"Days"})]}),F.jsxs("div",{className:"time-unit",children:[F.jsx("div",{className:"value",children:t.hours}),F.jsx("div",{className:"label",children:"Hours"})]}),F.jsxs("div",{className:"time-unit",children:[F.jsx("div",{className:"value",children:t.minutes}),F.jsx("div",{className:"label",children:"Minutes"})]}),F.jsxs("div",{className:"time-unit",children:[F.jsx("div",{className:"value",children:t.seconds}),F.jsx("div",{className:"label",children:"Seconds"})]})]})},XE=()=>F.jsx("section",{className:"fixed top-4 w-full flex flex-wrap justify-center gap-8 animate-fade-in z-20 px-6 py-6",children:[{to:"/WishesPage",label:"Message Wall",from:"from-yellow-400",toColor:"to-yellow-500",icon:""},{to:"/GiftRegistryPage",label:"Gift Registry",from:"from-purple-400",toColor:"to-purple-500",icon:""},{to:"/BirthdayGames",label:"Birthday Games",from:"from-pink-400",toColor:"to-pink-500",icon:""},{to:"/TicketPurchasePage",label:"Buy Entry Ticket",from:"from-blue-400",toColor:"to-blue-500",icon:""}].map((t,e)=>F.jsx(lv,{to:t.to,"aria-label":`Go to ${t.label}`,className:"group w-full sm:w-auto",children:F.jsx("button",{"aria-label":t.label,className:`bg-gradient-to-r ${t.from} ${t.toColor} text-white font-bold px-8 py-4 rounded-xl shadow-lg transform transition-transform duration-300 ease-in-out hover:scale-110 hover:shadow-2xl hover:rotate-2 focus:outline-none focus:ring-4 focus:ring-${t.toColor} focus:ring-opacity-60 w-full sm:w-auto`,children:F.jsxs("span",{className:"group-hover:text-white text-sm sm:text-lg md:text-xl flex items-center gap-3",children:[F.jsx("span",{className:"text-2xl",children:t.icon})," ",F.jsx("span",{className:"truncate",children:t.label})," "]})})},e))}),JE=()=>F.jsx("section",{className:"w-full h-96 relative mt-24 px-4 animate-fade-in z-0",children:F.jsx("video",{className:"absolute inset-0 w-full h-full object-cover rounded-lg shadow-lg",autoPlay:!0,loop:!0,muted:!0,controls:!1,src:"/julian/assets/Happy Birthday Song!!!.mp4",children:"Your browser does not support the video tag."})}),ZE=()=>F.jsxs("div",{className:"home-page bg-gradient-to-b from-blue-50 to-blue-100 min-h-screen flex flex-col items-center p-4 overflow-hidden relative",children:[F.jsx(HE,{}),F.jsx(qE,{}),F.jsx(XE,{}),F.jsx(JE,{}),F.jsx(QE,{}),F.jsx(GE,{}),F.jsx(YE,{}),F.jsx(KE,{})]});var Mp={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hv=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},eT=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const o=t[n++];e[r++]=String.fromCharCode((i&31)<<6|o&63)}else if(i>239&&i<365){const o=t[n++],s=t[n++],l=t[n++],u=((i&7)<<18|(o&63)<<12|(s&63)<<6|l&63)-65536;e[r++]=String.fromCharCode(55296+(u>>10)),e[r++]=String.fromCharCode(56320+(u&1023))}else{const o=t[n++],s=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(o&63)<<6|s&63)}}return e.join("")},fv={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const o=t[i],s=i+1<t.length,l=s?t[i+1]:0,u=i+2<t.length,h=u?t[i+2]:0,d=o>>2,p=(o&3)<<4|l>>4;let m=(l&15)<<2|h>>6,E=h&63;u||(E=64,s||(m=64)),r.push(n[d],n[p],n[m],n[E])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(hv(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):eT(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const o=n[t.charAt(i++)],l=i<t.length?n[t.charAt(i)]:0;++i;const h=i<t.length?n[t.charAt(i)]:64;++i;const p=i<t.length?n[t.charAt(i)]:64;if(++i,o==null||l==null||h==null||p==null)throw new tT;const m=o<<2|l>>4;if(r.push(m),h!==64){const E=l<<4&240|h>>2;if(r.push(E),p!==64){const v=h<<6&192|p;r.push(v)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class tT extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const nT=function(t){const e=hv(t);return fv.encodeByteArray(e,!0)},qa=function(t){return nT(t).replace(/\./g,"")},rT=function(t){try{return fv.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iT(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oT=()=>iT().__FIREBASE_DEFAULTS__,sT=()=>{if(typeof process>"u"||typeof Mp>"u")return;const t=Mp.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},aT=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&rT(t[1]);return e&&JSON.parse(e)},Qh=()=>{try{return oT()||sT()||aT()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},lT=t=>{var e,n;return(n=(e=Qh())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},uT=t=>{const e=lT(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},dv=()=>{var t;return(t=Qh())===null||t===void 0?void 0:t.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cT{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hT(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,o=t.sub||t.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const s=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},t);return[qa(JSON.stringify(n)),qa(JSON.stringify(s)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fT(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function dT(){var t;const e=(t=Qh())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function pT(){return!dT()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function mT(){try{return typeof indexedDB=="object"}catch{return!1}}function gT(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var o;e(((o=i.error)===null||o===void 0?void 0:o.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yT="FirebaseError";class Fi extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=yT,Object.setPrototypeOf(this,Fi.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,pv.prototype.create)}}class pv{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,o=this.errors[e],s=o?vT(o,r):"Error",l=`${this.serviceName}: ${s} (${i}).`;return new Fi(i,l,r)}}function vT(t,e){return t.replace(_T,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const _T=/\{\$([^}]+)}/g;function Nc(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const o=t[i],s=e[i];if(Lp(o)&&Lp(s)){if(!Nc(o,s))return!1}else if(o!==s)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function Lp(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zo(t){return t&&t._delegate?t._delegate:t}class es{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Er="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wT{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new cT;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(o){if(i)return null;throw o}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(TT(e))try{this.getOrInitializeService({instanceIdentifier:Er})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const o=this.getOrInitializeService({instanceIdentifier:i});r.resolve(o)}catch{}}}}clearInstance(e=Er){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Er){return this.instances.has(e)}getOptions(e=Er){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[o,s]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(o);r===l&&s.resolve(i)}return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),o=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;o.add(e),this.onInitCallbacks.set(i,o);const s=this.instances.get(i);return s&&e(s,i),()=>{o.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:ET(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Er){return this.component?this.component.multipleInstances?e:Er:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function ET(t){return t===Er?void 0:t}function TT(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ST{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new wT(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var fe;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(fe||(fe={}));const IT={debug:fe.DEBUG,verbose:fe.VERBOSE,info:fe.INFO,warn:fe.WARN,error:fe.ERROR,silent:fe.SILENT},CT=fe.INFO,PT={[fe.DEBUG]:"log",[fe.VERBOSE]:"log",[fe.INFO]:"info",[fe.WARN]:"warn",[fe.ERROR]:"error"},AT=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=PT[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class mv{constructor(e){this.name=e,this._logLevel=CT,this._logHandler=AT,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in fe))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?IT[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,fe.DEBUG,...e),this._logHandler(this,fe.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,fe.VERBOSE,...e),this._logHandler(this,fe.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,fe.INFO,...e),this._logHandler(this,fe.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,fe.WARN,...e),this._logHandler(this,fe.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,fe.ERROR,...e),this._logHandler(this,fe.ERROR,...e)}}const RT=(t,e)=>e.some(n=>t instanceof n);let jp,Fp;function xT(){return jp||(jp=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function kT(){return Fp||(Fp=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const gv=new WeakMap,Dc=new WeakMap,yv=new WeakMap,Ru=new WeakMap,Gh=new WeakMap;function NT(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",o),t.removeEventListener("error",s)},o=()=>{n(Jn(t.result)),i()},s=()=>{r(t.error),i()};t.addEventListener("success",o),t.addEventListener("error",s)});return e.then(n=>{n instanceof IDBCursor&&gv.set(n,t)}).catch(()=>{}),Gh.set(e,t),e}function DT(t){if(Dc.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",o),t.removeEventListener("error",s),t.removeEventListener("abort",s)},o=()=>{n(),i()},s=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",o),t.addEventListener("error",s),t.addEventListener("abort",s)});Dc.set(t,e)}let Vc={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Dc.get(t);if(e==="objectStoreNames")return t.objectStoreNames||yv.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Jn(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function VT(t){Vc=t(Vc)}function OT(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(xu(this),e,...n);return yv.set(r,e.sort?e.sort():[e]),Jn(r)}:kT().includes(t)?function(...e){return t.apply(xu(this),e),Jn(gv.get(this))}:function(...e){return Jn(t.apply(xu(this),e))}}function bT(t){return typeof t=="function"?OT(t):(t instanceof IDBTransaction&&DT(t),RT(t,xT())?new Proxy(t,Vc):t)}function Jn(t){if(t instanceof IDBRequest)return NT(t);if(Ru.has(t))return Ru.get(t);const e=bT(t);return e!==t&&(Ru.set(t,e),Gh.set(e,t)),e}const xu=t=>Gh.get(t);function MT(t,e,{blocked:n,upgrade:r,blocking:i,terminated:o}={}){const s=indexedDB.open(t,e),l=Jn(s);return r&&s.addEventListener("upgradeneeded",u=>{r(Jn(s.result),u.oldVersion,u.newVersion,Jn(s.transaction),u)}),n&&s.addEventListener("blocked",u=>n(u.oldVersion,u.newVersion,u)),l.then(u=>{o&&u.addEventListener("close",()=>o()),i&&u.addEventListener("versionchange",h=>i(h.oldVersion,h.newVersion,h))}).catch(()=>{}),l}const LT=["get","getKey","getAll","getAllKeys","count"],jT=["put","add","delete","clear"],ku=new Map;function Up(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(ku.get(e))return ku.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=jT.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||LT.includes(n)))return;const o=async function(s,...l){const u=this.transaction(s,i?"readwrite":"readonly");let h=u.store;return r&&(h=h.index(l.shift())),(await Promise.all([h[n](...l),i&&u.done]))[0]};return ku.set(e,o),o}VT(t=>({...t,get:(e,n,r)=>Up(e,n)||t.get(e,n,r),has:(e,n)=>!!Up(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FT{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(UT(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function UT(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Oc="@firebase/app",Bp="0.10.15";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const In=new mv("@firebase/app"),BT="@firebase/app-compat",zT="@firebase/analytics-compat",$T="@firebase/analytics",WT="@firebase/app-check-compat",qT="@firebase/app-check",HT="@firebase/auth",KT="@firebase/auth-compat",QT="@firebase/database",GT="@firebase/data-connect",YT="@firebase/database-compat",XT="@firebase/functions",JT="@firebase/functions-compat",ZT="@firebase/installations",eS="@firebase/installations-compat",tS="@firebase/messaging",nS="@firebase/messaging-compat",rS="@firebase/performance",iS="@firebase/performance-compat",oS="@firebase/remote-config",sS="@firebase/remote-config-compat",aS="@firebase/storage",lS="@firebase/storage-compat",uS="@firebase/firestore",cS="@firebase/vertexai",hS="@firebase/firestore-compat",fS="firebase",dS="11.0.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bc="[DEFAULT]",pS={[Oc]:"fire-core",[BT]:"fire-core-compat",[$T]:"fire-analytics",[zT]:"fire-analytics-compat",[qT]:"fire-app-check",[WT]:"fire-app-check-compat",[HT]:"fire-auth",[KT]:"fire-auth-compat",[QT]:"fire-rtdb",[GT]:"fire-data-connect",[YT]:"fire-rtdb-compat",[XT]:"fire-fn",[JT]:"fire-fn-compat",[ZT]:"fire-iid",[eS]:"fire-iid-compat",[tS]:"fire-fcm",[nS]:"fire-fcm-compat",[rS]:"fire-perf",[iS]:"fire-perf-compat",[oS]:"fire-rc",[sS]:"fire-rc-compat",[aS]:"fire-gcs",[lS]:"fire-gcs-compat",[uS]:"fire-fst",[hS]:"fire-fst-compat",[cS]:"fire-vertex","fire-js":"fire-js",[fS]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ha=new Map,mS=new Map,Mc=new Map;function zp(t,e){try{t.container.addComponent(e)}catch(n){In.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Ka(t){const e=t.name;if(Mc.has(e))return In.debug(`There were multiple attempts to register component ${e}.`),!1;Mc.set(e,t);for(const n of Ha.values())zp(n,t);for(const n of mS.values())zp(n,t);return!0}function gS(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yS={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Zn=new pv("app","Firebase",yS);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vS{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new es("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Zn.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _S=dS;function vv(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:bc,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw Zn.create("bad-app-name",{appName:String(i)});if(n||(n=dv()),!n)throw Zn.create("no-options");const o=Ha.get(i);if(o){if(Nc(n,o.options)&&Nc(r,o.config))return o;throw Zn.create("duplicate-app",{appName:i})}const s=new ST(i);for(const u of Mc.values())s.addComponent(u);const l=new vS(n,r,s);return Ha.set(i,l),l}function wS(t=bc){const e=Ha.get(t);if(!e&&t===bc&&dv())return vv();if(!e)throw Zn.create("no-app",{appName:t});return e}function _i(t,e,n){var r;let i=(r=pS[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);const o=i.match(/\s|\//),s=e.match(/\s|\//);if(o||s){const l=[`Unable to register library "${i}" with version "${e}":`];o&&l.push(`library name "${i}" contains illegal characters (whitespace or "/")`),o&&s&&l.push("and"),s&&l.push(`version name "${e}" contains illegal characters (whitespace or "/")`),In.warn(l.join(" "));return}Ka(new es(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ES="firebase-heartbeat-database",TS=1,ts="firebase-heartbeat-store";let Nu=null;function _v(){return Nu||(Nu=MT(ES,TS,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(ts)}catch(n){console.warn(n)}}}}).catch(t=>{throw Zn.create("idb-open",{originalErrorMessage:t.message})})),Nu}async function SS(t){try{const n=(await _v()).transaction(ts),r=await n.objectStore(ts).get(wv(t));return await n.done,r}catch(e){if(e instanceof Fi)In.warn(e.message);else{const n=Zn.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});In.warn(n.message)}}}async function $p(t,e){try{const r=(await _v()).transaction(ts,"readwrite");await r.objectStore(ts).put(e,wv(t)),await r.done}catch(n){if(n instanceof Fi)In.warn(n.message);else{const r=Zn.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});In.warn(r.message)}}}function wv(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IS=1024,CS=30*24*60*60*1e3;class PS{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new RS(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=Wp();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(s=>s.date===o)?void 0:(this._heartbeatsCache.heartbeats.push({date:o,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(s=>{const l=new Date(s.date).valueOf();return Date.now()-l<=CS}),this._storage.overwrite(this._heartbeatsCache))}catch(r){In.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=Wp(),{heartbeatsToSend:r,unsentEntries:i}=AS(this._heartbeatsCache.heartbeats),o=qa(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(n){return In.warn(n),""}}}function Wp(){return new Date().toISOString().substring(0,10)}function AS(t,e=IS){const n=[];let r=t.slice();for(const i of t){const o=n.find(s=>s.agent===i.agent);if(o){if(o.dates.push(i.date),qp(n)>e){o.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),qp(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class RS{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return mT()?gT().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await SS(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return $p(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return $p(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function qp(t){return qa(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xS(t){Ka(new es("platform-logger",e=>new FT(e),"PRIVATE")),Ka(new es("heartbeat",e=>new PS(e),"PRIVATE")),_i(Oc,Bp,t),_i(Oc,Bp,"esm2017"),_i("fire-js","")}xS("");var kS="firebase",NS="11.0.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */_i(kS,NS,"app");var Hp=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Rr,Ev;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(S,y){function T(){}T.prototype=y.prototype,S.D=y.prototype,S.prototype=new T,S.prototype.constructor=S,S.C=function(P,x,N){for(var A=Array(arguments.length-2),Be=2;Be<arguments.length;Be++)A[Be-2]=arguments[Be];return y.prototype[x].apply(P,A)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(S,y,T){T||(T=0);var P=Array(16);if(typeof y=="string")for(var x=0;16>x;++x)P[x]=y.charCodeAt(T++)|y.charCodeAt(T++)<<8|y.charCodeAt(T++)<<16|y.charCodeAt(T++)<<24;else for(x=0;16>x;++x)P[x]=y[T++]|y[T++]<<8|y[T++]<<16|y[T++]<<24;y=S.g[0],T=S.g[1],x=S.g[2];var N=S.g[3],A=y+(N^T&(x^N))+P[0]+3614090360&4294967295;y=T+(A<<7&4294967295|A>>>25),A=N+(x^y&(T^x))+P[1]+3905402710&4294967295,N=y+(A<<12&4294967295|A>>>20),A=x+(T^N&(y^T))+P[2]+606105819&4294967295,x=N+(A<<17&4294967295|A>>>15),A=T+(y^x&(N^y))+P[3]+3250441966&4294967295,T=x+(A<<22&4294967295|A>>>10),A=y+(N^T&(x^N))+P[4]+4118548399&4294967295,y=T+(A<<7&4294967295|A>>>25),A=N+(x^y&(T^x))+P[5]+1200080426&4294967295,N=y+(A<<12&4294967295|A>>>20),A=x+(T^N&(y^T))+P[6]+2821735955&4294967295,x=N+(A<<17&4294967295|A>>>15),A=T+(y^x&(N^y))+P[7]+4249261313&4294967295,T=x+(A<<22&4294967295|A>>>10),A=y+(N^T&(x^N))+P[8]+1770035416&4294967295,y=T+(A<<7&4294967295|A>>>25),A=N+(x^y&(T^x))+P[9]+2336552879&4294967295,N=y+(A<<12&4294967295|A>>>20),A=x+(T^N&(y^T))+P[10]+4294925233&4294967295,x=N+(A<<17&4294967295|A>>>15),A=T+(y^x&(N^y))+P[11]+2304563134&4294967295,T=x+(A<<22&4294967295|A>>>10),A=y+(N^T&(x^N))+P[12]+1804603682&4294967295,y=T+(A<<7&4294967295|A>>>25),A=N+(x^y&(T^x))+P[13]+4254626195&4294967295,N=y+(A<<12&4294967295|A>>>20),A=x+(T^N&(y^T))+P[14]+2792965006&4294967295,x=N+(A<<17&4294967295|A>>>15),A=T+(y^x&(N^y))+P[15]+1236535329&4294967295,T=x+(A<<22&4294967295|A>>>10),A=y+(x^N&(T^x))+P[1]+4129170786&4294967295,y=T+(A<<5&4294967295|A>>>27),A=N+(T^x&(y^T))+P[6]+3225465664&4294967295,N=y+(A<<9&4294967295|A>>>23),A=x+(y^T&(N^y))+P[11]+643717713&4294967295,x=N+(A<<14&4294967295|A>>>18),A=T+(N^y&(x^N))+P[0]+3921069994&4294967295,T=x+(A<<20&4294967295|A>>>12),A=y+(x^N&(T^x))+P[5]+3593408605&4294967295,y=T+(A<<5&4294967295|A>>>27),A=N+(T^x&(y^T))+P[10]+38016083&4294967295,N=y+(A<<9&4294967295|A>>>23),A=x+(y^T&(N^y))+P[15]+3634488961&4294967295,x=N+(A<<14&4294967295|A>>>18),A=T+(N^y&(x^N))+P[4]+3889429448&4294967295,T=x+(A<<20&4294967295|A>>>12),A=y+(x^N&(T^x))+P[9]+568446438&4294967295,y=T+(A<<5&4294967295|A>>>27),A=N+(T^x&(y^T))+P[14]+3275163606&4294967295,N=y+(A<<9&4294967295|A>>>23),A=x+(y^T&(N^y))+P[3]+4107603335&4294967295,x=N+(A<<14&4294967295|A>>>18),A=T+(N^y&(x^N))+P[8]+1163531501&4294967295,T=x+(A<<20&4294967295|A>>>12),A=y+(x^N&(T^x))+P[13]+2850285829&4294967295,y=T+(A<<5&4294967295|A>>>27),A=N+(T^x&(y^T))+P[2]+4243563512&4294967295,N=y+(A<<9&4294967295|A>>>23),A=x+(y^T&(N^y))+P[7]+1735328473&4294967295,x=N+(A<<14&4294967295|A>>>18),A=T+(N^y&(x^N))+P[12]+2368359562&4294967295,T=x+(A<<20&4294967295|A>>>12),A=y+(T^x^N)+P[5]+4294588738&4294967295,y=T+(A<<4&4294967295|A>>>28),A=N+(y^T^x)+P[8]+2272392833&4294967295,N=y+(A<<11&4294967295|A>>>21),A=x+(N^y^T)+P[11]+1839030562&4294967295,x=N+(A<<16&4294967295|A>>>16),A=T+(x^N^y)+P[14]+4259657740&4294967295,T=x+(A<<23&4294967295|A>>>9),A=y+(T^x^N)+P[1]+2763975236&4294967295,y=T+(A<<4&4294967295|A>>>28),A=N+(y^T^x)+P[4]+1272893353&4294967295,N=y+(A<<11&4294967295|A>>>21),A=x+(N^y^T)+P[7]+4139469664&4294967295,x=N+(A<<16&4294967295|A>>>16),A=T+(x^N^y)+P[10]+3200236656&4294967295,T=x+(A<<23&4294967295|A>>>9),A=y+(T^x^N)+P[13]+681279174&4294967295,y=T+(A<<4&4294967295|A>>>28),A=N+(y^T^x)+P[0]+3936430074&4294967295,N=y+(A<<11&4294967295|A>>>21),A=x+(N^y^T)+P[3]+3572445317&4294967295,x=N+(A<<16&4294967295|A>>>16),A=T+(x^N^y)+P[6]+76029189&4294967295,T=x+(A<<23&4294967295|A>>>9),A=y+(T^x^N)+P[9]+3654602809&4294967295,y=T+(A<<4&4294967295|A>>>28),A=N+(y^T^x)+P[12]+3873151461&4294967295,N=y+(A<<11&4294967295|A>>>21),A=x+(N^y^T)+P[15]+530742520&4294967295,x=N+(A<<16&4294967295|A>>>16),A=T+(x^N^y)+P[2]+3299628645&4294967295,T=x+(A<<23&4294967295|A>>>9),A=y+(x^(T|~N))+P[0]+4096336452&4294967295,y=T+(A<<6&4294967295|A>>>26),A=N+(T^(y|~x))+P[7]+1126891415&4294967295,N=y+(A<<10&4294967295|A>>>22),A=x+(y^(N|~T))+P[14]+2878612391&4294967295,x=N+(A<<15&4294967295|A>>>17),A=T+(N^(x|~y))+P[5]+4237533241&4294967295,T=x+(A<<21&4294967295|A>>>11),A=y+(x^(T|~N))+P[12]+1700485571&4294967295,y=T+(A<<6&4294967295|A>>>26),A=N+(T^(y|~x))+P[3]+2399980690&4294967295,N=y+(A<<10&4294967295|A>>>22),A=x+(y^(N|~T))+P[10]+4293915773&4294967295,x=N+(A<<15&4294967295|A>>>17),A=T+(N^(x|~y))+P[1]+2240044497&4294967295,T=x+(A<<21&4294967295|A>>>11),A=y+(x^(T|~N))+P[8]+1873313359&4294967295,y=T+(A<<6&4294967295|A>>>26),A=N+(T^(y|~x))+P[15]+4264355552&4294967295,N=y+(A<<10&4294967295|A>>>22),A=x+(y^(N|~T))+P[6]+2734768916&4294967295,x=N+(A<<15&4294967295|A>>>17),A=T+(N^(x|~y))+P[13]+1309151649&4294967295,T=x+(A<<21&4294967295|A>>>11),A=y+(x^(T|~N))+P[4]+4149444226&4294967295,y=T+(A<<6&4294967295|A>>>26),A=N+(T^(y|~x))+P[11]+3174756917&4294967295,N=y+(A<<10&4294967295|A>>>22),A=x+(y^(N|~T))+P[2]+718787259&4294967295,x=N+(A<<15&4294967295|A>>>17),A=T+(N^(x|~y))+P[9]+3951481745&4294967295,S.g[0]=S.g[0]+y&4294967295,S.g[1]=S.g[1]+(x+(A<<21&4294967295|A>>>11))&4294967295,S.g[2]=S.g[2]+x&4294967295,S.g[3]=S.g[3]+N&4294967295}r.prototype.u=function(S,y){y===void 0&&(y=S.length);for(var T=y-this.blockSize,P=this.B,x=this.h,N=0;N<y;){if(x==0)for(;N<=T;)i(this,S,N),N+=this.blockSize;if(typeof S=="string"){for(;N<y;)if(P[x++]=S.charCodeAt(N++),x==this.blockSize){i(this,P),x=0;break}}else for(;N<y;)if(P[x++]=S[N++],x==this.blockSize){i(this,P),x=0;break}}this.h=x,this.o+=y},r.prototype.v=function(){var S=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);S[0]=128;for(var y=1;y<S.length-8;++y)S[y]=0;var T=8*this.o;for(y=S.length-8;y<S.length;++y)S[y]=T&255,T/=256;for(this.u(S),S=Array(16),y=T=0;4>y;++y)for(var P=0;32>P;P+=8)S[T++]=this.g[y]>>>P&255;return S};function o(S,y){var T=l;return Object.prototype.hasOwnProperty.call(T,S)?T[S]:T[S]=y(S)}function s(S,y){this.h=y;for(var T=[],P=!0,x=S.length-1;0<=x;x--){var N=S[x]|0;P&&N==y||(T[x]=N,P=!1)}this.g=T}var l={};function u(S){return-128<=S&&128>S?o(S,function(y){return new s([y|0],0>y?-1:0)}):new s([S|0],0>S?-1:0)}function h(S){if(isNaN(S)||!isFinite(S))return p;if(0>S)return R(h(-S));for(var y=[],T=1,P=0;S>=T;P++)y[P]=S/T|0,T*=4294967296;return new s(y,0)}function d(S,y){if(S.length==0)throw Error("number format error: empty string");if(y=y||10,2>y||36<y)throw Error("radix out of range: "+y);if(S.charAt(0)=="-")return R(d(S.substring(1),y));if(0<=S.indexOf("-"))throw Error('number format error: interior "-" character');for(var T=h(Math.pow(y,8)),P=p,x=0;x<S.length;x+=8){var N=Math.min(8,S.length-x),A=parseInt(S.substring(x,x+N),y);8>N?(N=h(Math.pow(y,N)),P=P.j(N).add(h(A))):(P=P.j(T),P=P.add(h(A)))}return P}var p=u(0),m=u(1),E=u(16777216);t=s.prototype,t.m=function(){if(C(this))return-R(this).m();for(var S=0,y=1,T=0;T<this.g.length;T++){var P=this.i(T);S+=(0<=P?P:4294967296+P)*y,y*=4294967296}return S},t.toString=function(S){if(S=S||10,2>S||36<S)throw Error("radix out of range: "+S);if(v(this))return"0";if(C(this))return"-"+R(this).toString(S);for(var y=h(Math.pow(S,6)),T=this,P="";;){var x=O(T,y).g;T=_(T,x.j(y));var N=((0<T.g.length?T.g[0]:T.h)>>>0).toString(S);if(T=x,v(T))return N+P;for(;6>N.length;)N="0"+N;P=N+P}},t.i=function(S){return 0>S?0:S<this.g.length?this.g[S]:this.h};function v(S){if(S.h!=0)return!1;for(var y=0;y<S.g.length;y++)if(S.g[y]!=0)return!1;return!0}function C(S){return S.h==-1}t.l=function(S){return S=_(this,S),C(S)?-1:v(S)?0:1};function R(S){for(var y=S.g.length,T=[],P=0;P<y;P++)T[P]=~S.g[P];return new s(T,~S.h).add(m)}t.abs=function(){return C(this)?R(this):this},t.add=function(S){for(var y=Math.max(this.g.length,S.g.length),T=[],P=0,x=0;x<=y;x++){var N=P+(this.i(x)&65535)+(S.i(x)&65535),A=(N>>>16)+(this.i(x)>>>16)+(S.i(x)>>>16);P=A>>>16,N&=65535,A&=65535,T[x]=A<<16|N}return new s(T,T[T.length-1]&-2147483648?-1:0)};function _(S,y){return S.add(R(y))}t.j=function(S){if(v(this)||v(S))return p;if(C(this))return C(S)?R(this).j(R(S)):R(R(this).j(S));if(C(S))return R(this.j(R(S)));if(0>this.l(E)&&0>S.l(E))return h(this.m()*S.m());for(var y=this.g.length+S.g.length,T=[],P=0;P<2*y;P++)T[P]=0;for(P=0;P<this.g.length;P++)for(var x=0;x<S.g.length;x++){var N=this.i(P)>>>16,A=this.i(P)&65535,Be=S.i(x)>>>16,Et=S.i(x)&65535;T[2*P+2*x]+=A*Et,w(T,2*P+2*x),T[2*P+2*x+1]+=N*Et,w(T,2*P+2*x+1),T[2*P+2*x+1]+=A*Be,w(T,2*P+2*x+1),T[2*P+2*x+2]+=N*Be,w(T,2*P+2*x+2)}for(P=0;P<y;P++)T[P]=T[2*P+1]<<16|T[2*P];for(P=y;P<2*y;P++)T[P]=0;return new s(T,0)};function w(S,y){for(;(S[y]&65535)!=S[y];)S[y+1]+=S[y]>>>16,S[y]&=65535,y++}function I(S,y){this.g=S,this.h=y}function O(S,y){if(v(y))throw Error("division by zero");if(v(S))return new I(p,p);if(C(S))return y=O(R(S),y),new I(R(y.g),R(y.h));if(C(y))return y=O(S,R(y)),new I(R(y.g),y.h);if(30<S.g.length){if(C(S)||C(y))throw Error("slowDivide_ only works with positive integers.");for(var T=m,P=y;0>=P.l(S);)T=B(T),P=B(P);var x=$(T,1),N=$(P,1);for(P=$(P,2),T=$(T,2);!v(P);){var A=N.add(P);0>=A.l(S)&&(x=x.add(T),N=A),P=$(P,1),T=$(T,1)}return y=_(S,x.j(y)),new I(x,y)}for(x=p;0<=S.l(y);){for(T=Math.max(1,Math.floor(S.m()/y.m())),P=Math.ceil(Math.log(T)/Math.LN2),P=48>=P?1:Math.pow(2,P-48),N=h(T),A=N.j(y);C(A)||0<A.l(S);)T-=P,N=h(T),A=N.j(y);v(N)&&(N=m),x=x.add(N),S=_(S,A)}return new I(x,S)}t.A=function(S){return O(this,S).h},t.and=function(S){for(var y=Math.max(this.g.length,S.g.length),T=[],P=0;P<y;P++)T[P]=this.i(P)&S.i(P);return new s(T,this.h&S.h)},t.or=function(S){for(var y=Math.max(this.g.length,S.g.length),T=[],P=0;P<y;P++)T[P]=this.i(P)|S.i(P);return new s(T,this.h|S.h)},t.xor=function(S){for(var y=Math.max(this.g.length,S.g.length),T=[],P=0;P<y;P++)T[P]=this.i(P)^S.i(P);return new s(T,this.h^S.h)};function B(S){for(var y=S.g.length+1,T=[],P=0;P<y;P++)T[P]=S.i(P)<<1|S.i(P-1)>>>31;return new s(T,S.h)}function $(S,y){var T=y>>5;y%=32;for(var P=S.g.length-T,x=[],N=0;N<P;N++)x[N]=0<y?S.i(N+T)>>>y|S.i(N+T+1)<<32-y:S.i(N+T);return new s(x,S.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,Ev=r,s.prototype.add=s.prototype.add,s.prototype.multiply=s.prototype.j,s.prototype.modulo=s.prototype.A,s.prototype.compare=s.prototype.l,s.prototype.toNumber=s.prototype.m,s.prototype.toString=s.prototype.toString,s.prototype.getBits=s.prototype.i,s.fromNumber=h,s.fromString=d,Rr=s}).apply(typeof Hp<"u"?Hp:typeof self<"u"?self:typeof window<"u"?window:{});var Ys=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Tv,vo,Sv,da,Lc,Iv,Cv,Pv;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(a,c,f){return a==Array.prototype||a==Object.prototype||(a[c]=f.value),a};function n(a){a=[typeof globalThis=="object"&&globalThis,a,typeof window=="object"&&window,typeof self=="object"&&self,typeof Ys=="object"&&Ys];for(var c=0;c<a.length;++c){var f=a[c];if(f&&f.Math==Math)return f}throw Error("Cannot find global object")}var r=n(this);function i(a,c){if(c)e:{var f=r;a=a.split(".");for(var g=0;g<a.length-1;g++){var D=a[g];if(!(D in f))break e;f=f[D]}a=a[a.length-1],g=f[a],c=c(g),c!=g&&c!=null&&e(f,a,{configurable:!0,writable:!0,value:c})}}function o(a,c){a instanceof String&&(a+="");var f=0,g=!1,D={next:function(){if(!g&&f<a.length){var L=f++;return{value:c(L,a[L]),done:!1}}return g=!0,{done:!0,value:void 0}}};return D[Symbol.iterator]=function(){return D},D}i("Array.prototype.values",function(a){return a||function(){return o(this,function(c,f){return f})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var s=s||{},l=this||self;function u(a){var c=typeof a;return c=c!="object"?c:a?Array.isArray(a)?"array":c:"null",c=="array"||c=="object"&&typeof a.length=="number"}function h(a){var c=typeof a;return c=="object"&&a!=null||c=="function"}function d(a,c,f){return a.call.apply(a.bind,arguments)}function p(a,c,f){if(!a)throw Error();if(2<arguments.length){var g=Array.prototype.slice.call(arguments,2);return function(){var D=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(D,g),a.apply(c,D)}}return function(){return a.apply(c,arguments)}}function m(a,c,f){return m=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?d:p,m.apply(null,arguments)}function E(a,c){var f=Array.prototype.slice.call(arguments,1);return function(){var g=f.slice();return g.push.apply(g,arguments),a.apply(this,g)}}function v(a,c){function f(){}f.prototype=c.prototype,a.aa=c.prototype,a.prototype=new f,a.prototype.constructor=a,a.Qb=function(g,D,L){for(var K=Array(arguments.length-2),Ee=2;Ee<arguments.length;Ee++)K[Ee-2]=arguments[Ee];return c.prototype[D].apply(g,K)}}function C(a){const c=a.length;if(0<c){const f=Array(c);for(let g=0;g<c;g++)f[g]=a[g];return f}return[]}function R(a,c){for(let f=1;f<arguments.length;f++){const g=arguments[f];if(u(g)){const D=a.length||0,L=g.length||0;a.length=D+L;for(let K=0;K<L;K++)a[D+K]=g[K]}else a.push(g)}}class _{constructor(c,f){this.i=c,this.j=f,this.h=0,this.g=null}get(){let c;return 0<this.h?(this.h--,c=this.g,this.g=c.next,c.next=null):c=this.i(),c}}function w(a){return/^[\s\xa0]*$/.test(a)}function I(){var a=l.navigator;return a&&(a=a.userAgent)?a:""}function O(a){return O[" "](a),a}O[" "]=function(){};var B=I().indexOf("Gecko")!=-1&&!(I().toLowerCase().indexOf("webkit")!=-1&&I().indexOf("Edge")==-1)&&!(I().indexOf("Trident")!=-1||I().indexOf("MSIE")!=-1)&&I().indexOf("Edge")==-1;function $(a,c,f){for(const g in a)c.call(f,a[g],g,a)}function S(a,c){for(const f in a)c.call(void 0,a[f],f,a)}function y(a){const c={};for(const f in a)c[f]=a[f];return c}const T="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function P(a,c){let f,g;for(let D=1;D<arguments.length;D++){g=arguments[D];for(f in g)a[f]=g[f];for(let L=0;L<T.length;L++)f=T[L],Object.prototype.hasOwnProperty.call(g,f)&&(a[f]=g[f])}}function x(a){var c=1;a=a.split(":");const f=[];for(;0<c&&a.length;)f.push(a.shift()),c--;return a.length&&f.push(a.join(":")),f}function N(a){l.setTimeout(()=>{throw a},0)}function A(){var a=ne;let c=null;return a.g&&(c=a.g,a.g=a.g.next,a.g||(a.h=null),c.next=null),c}class Be{constructor(){this.h=this.g=null}add(c,f){const g=Et.get();g.set(c,f),this.h?this.h.next=g:this.g=g,this.h=g}}var Et=new _(()=>new jt,a=>a.reset());class jt{constructor(){this.next=this.g=this.h=null}set(c,f){this.h=c,this.g=f,this.next=null}reset(){this.next=this.g=this.h=null}}let Tt,Q=!1,ne=new Be,re=()=>{const a=l.Promise.resolve(void 0);Tt=()=>{a.then(_e)}};var _e=()=>{for(var a;a=A();){try{a.h.call(a.g)}catch(f){N(f)}var c=Et;c.j(a),100>c.h&&(c.h++,a.next=c.g,c.g=a)}Q=!1};function pe(){this.s=this.s,this.C=this.C}pe.prototype.s=!1,pe.prototype.ma=function(){this.s||(this.s=!0,this.N())},pe.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function ye(a,c){this.type=a,this.g=this.target=c,this.defaultPrevented=!1}ye.prototype.h=function(){this.defaultPrevented=!0};var St=function(){if(!l.addEventListener||!Object.defineProperty)return!1;var a=!1,c=Object.defineProperty({},"passive",{get:function(){a=!0}});try{const f=()=>{};l.addEventListener("test",f,c),l.removeEventListener("test",f,c)}catch{}return a}();function Re(a,c){if(ye.call(this,a?a.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,a){var f=this.type=a.type,g=a.changedTouches&&a.changedTouches.length?a.changedTouches[0]:null;if(this.target=a.target||a.srcElement,this.g=c,c=a.relatedTarget){if(B){e:{try{O(c.nodeName);var D=!0;break e}catch{}D=!1}D||(c=null)}}else f=="mouseover"?c=a.fromElement:f=="mouseout"&&(c=a.toElement);this.relatedTarget=c,g?(this.clientX=g.clientX!==void 0?g.clientX:g.pageX,this.clientY=g.clientY!==void 0?g.clientY:g.pageY,this.screenX=g.screenX||0,this.screenY=g.screenY||0):(this.clientX=a.clientX!==void 0?a.clientX:a.pageX,this.clientY=a.clientY!==void 0?a.clientY:a.pageY,this.screenX=a.screenX||0,this.screenY=a.screenY||0),this.button=a.button,this.key=a.key||"",this.ctrlKey=a.ctrlKey,this.altKey=a.altKey,this.shiftKey=a.shiftKey,this.metaKey=a.metaKey,this.pointerId=a.pointerId||0,this.pointerType=typeof a.pointerType=="string"?a.pointerType:pt[a.pointerType]||"",this.state=a.state,this.i=a,a.defaultPrevented&&Re.aa.h.call(this)}}v(Re,ye);var pt={2:"touch",3:"pen",4:"mouse"};Re.prototype.h=function(){Re.aa.h.call(this);var a=this.i;a.preventDefault?a.preventDefault():a.returnValue=!1};var b="closure_listenable_"+(1e6*Math.random()|0),k=0;function M(a,c,f,g,D){this.listener=a,this.proxy=null,this.src=c,this.type=f,this.capture=!!g,this.ha=D,this.key=++k,this.da=this.fa=!1}function j(a){a.da=!0,a.listener=null,a.proxy=null,a.src=null,a.ha=null}function V(a){this.src=a,this.g={},this.h=0}V.prototype.add=function(a,c,f,g,D){var L=a.toString();a=this.g[L],a||(a=this.g[L]=[],this.h++);var K=H(a,c,g,D);return-1<K?(c=a[K],f||(c.fa=!1)):(c=new M(c,this.src,L,!!g,D),c.fa=f,a.push(c)),c};function J(a,c){var f=c.type;if(f in a.g){var g=a.g[f],D=Array.prototype.indexOf.call(g,c,void 0),L;(L=0<=D)&&Array.prototype.splice.call(g,D,1),L&&(j(c),a.g[f].length==0&&(delete a.g[f],a.h--))}}function H(a,c,f,g){for(var D=0;D<a.length;++D){var L=a[D];if(!L.da&&L.listener==c&&L.capture==!!f&&L.ha==g)return D}return-1}var X="closure_lm_"+(1e6*Math.random()|0),Z={};function se(a,c,f,g,D){if(Array.isArray(c)){for(var L=0;L<c.length;L++)se(a,c[L],f,g,D);return null}return f=Rn(f),a&&a[b]?a.K(c,f,h(g)?!!g.capture:!!g,D):ce(a,c,f,!1,g,D)}function ce(a,c,f,g,D,L){if(!c)throw Error("Invalid event type");var K=h(D)?!!D.capture:!!D,Ee=fr(a);if(Ee||(a[X]=Ee=new V(a)),f=Ee.add(c,f,g,K,L),f.proxy)return f;if(g=ze(),f.proxy=g,g.src=a,g.listener=f,a.addEventListener)St||(D=K),D===void 0&&(D=!1),a.addEventListener(c.toString(),g,D);else if(a.attachEvent)a.attachEvent($r(c.toString()),g);else if(a.addListener&&a.removeListener)a.addListener(g);else throw Error("addEventListener and attachEvent are unavailable.");return f}function ze(){function a(f){return c.call(a.src,a.listener,f)}const c=Wi;return a}function It(a,c,f,g,D){if(Array.isArray(c))for(var L=0;L<c.length;L++)It(a,c[L],f,g,D);else g=h(g)?!!g.capture:!!g,f=Rn(f),a&&a[b]?(a=a.i,c=String(c).toString(),c in a.g&&(L=a.g[c],f=H(L,f,g,D),-1<f&&(j(L[f]),Array.prototype.splice.call(L,f,1),L.length==0&&(delete a.g[c],a.h--)))):a&&(a=fr(a))&&(c=a.g[c.toString()],a=-1,c&&(a=H(c,f,g,D)),(f=-1<a?c[a]:null)&&mt(f))}function mt(a){if(typeof a!="number"&&a&&!a.da){var c=a.src;if(c&&c[b])J(c.i,a);else{var f=a.type,g=a.proxy;c.removeEventListener?c.removeEventListener(f,g,a.capture):c.detachEvent?c.detachEvent($r(f),g):c.addListener&&c.removeListener&&c.removeListener(g),(f=fr(c))?(J(f,a),f.h==0&&(f.src=null,c[X]=null)):j(a)}}}function $r(a){return a in Z?Z[a]:Z[a]="on"+a}function Wi(a,c){if(a.da)a=!0;else{c=new Re(c,this);var f=a.listener,g=a.ha||a.src;a.fa&&mt(a),a=f.call(g,c)}return a}function fr(a){return a=a[X],a instanceof V?a:null}var dr="__closure_events_fn_"+(1e9*Math.random()>>>0);function Rn(a){return typeof a=="function"?a:(a[dr]||(a[dr]=function(c){return a.handleEvent(c)}),a[dr])}function Le(){pe.call(this),this.i=new V(this),this.M=this,this.F=null}v(Le,pe),Le.prototype[b]=!0,Le.prototype.removeEventListener=function(a,c,f,g){It(this,a,c,f,g)};function Ke(a,c){var f,g=a.F;if(g)for(f=[];g;g=g.F)f.push(g);if(a=a.M,g=c.type||c,typeof c=="string")c=new ye(c,a);else if(c instanceof ye)c.target=c.target||a;else{var D=c;c=new ye(g,a),P(c,D)}if(D=!0,f)for(var L=f.length-1;0<=L;L--){var K=c.g=f[L];D=Wr(K,g,!0,c)&&D}if(K=c.g=a,D=Wr(K,g,!0,c)&&D,D=Wr(K,g,!1,c)&&D,f)for(L=0;L<f.length;L++)K=c.g=f[L],D=Wr(K,g,!1,c)&&D}Le.prototype.N=function(){if(Le.aa.N.call(this),this.i){var a=this.i,c;for(c in a.g){for(var f=a.g[c],g=0;g<f.length;g++)j(f[g]);delete a.g[c],a.h--}}this.F=null},Le.prototype.K=function(a,c,f,g){return this.i.add(String(a),c,!1,f,g)},Le.prototype.L=function(a,c,f,g){return this.i.add(String(a),c,!0,f,g)};function Wr(a,c,f,g){if(c=a.i.g[String(c)],!c)return!0;c=c.concat();for(var D=!0,L=0;L<c.length;++L){var K=c[L];if(K&&!K.da&&K.capture==f){var Ee=K.listener,Je=K.ha||K.src;K.fa&&J(a.i,K),D=Ee.call(Je,g)!==!1&&D}}return D&&!g.defaultPrevented}function qi(a,c,f){if(typeof a=="function")f&&(a=m(a,f));else if(a&&typeof a.handleEvent=="function")a=m(a.handleEvent,a);else throw Error("Invalid listener argument");return 2147483647<Number(c)?-1:l.setTimeout(a,c||0)}function Hi(a){a.g=qi(()=>{a.g=null,a.i&&(a.i=!1,Hi(a))},a.l);const c=a.h;a.h=null,a.m.apply(null,c)}class pr extends pe{constructor(c,f){super(),this.m=c,this.l=f,this.h=null,this.i=!1,this.g=null}j(c){this.h=arguments,this.g?this.i=!0:Hi(this)}N(){super.N(),this.g&&(l.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function xn(a){pe.call(this),this.h=a,this.g={}}v(xn,pe);var Sf=[];function If(a){$(a.g,function(c,f){this.g.hasOwnProperty(f)&&mt(c)},a),a.g={}}xn.prototype.N=function(){xn.aa.N.call(this),If(this)},xn.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Fl=l.JSON.stringify,W0=l.JSON.parse,q0=class{stringify(a){return l.JSON.stringify(a,void 0)}parse(a){return l.JSON.parse(a,void 0)}};function Ul(){}Ul.prototype.h=null;function Cf(a){return a.h||(a.h=a.i())}function Pf(){}var Ki={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Bl(){ye.call(this,"d")}v(Bl,ye);function zl(){ye.call(this,"c")}v(zl,ye);var mr={},Af=null;function vs(){return Af=Af||new Le}mr.La="serverreachability";function Rf(a){ye.call(this,mr.La,a)}v(Rf,ye);function Qi(a){const c=vs();Ke(c,new Rf(c))}mr.STAT_EVENT="statevent";function xf(a,c){ye.call(this,mr.STAT_EVENT,a),this.stat=c}v(xf,ye);function gt(a){const c=vs();Ke(c,new xf(c,a))}mr.Ma="timingevent";function kf(a,c){ye.call(this,mr.Ma,a),this.size=c}v(kf,ye);function Gi(a,c){if(typeof a!="function")throw Error("Fn must not be null and must be a function");return l.setTimeout(function(){a()},c)}function Yi(){this.g=!0}Yi.prototype.xa=function(){this.g=!1};function H0(a,c,f,g,D,L){a.info(function(){if(a.g)if(L)for(var K="",Ee=L.split("&"),Je=0;Je<Ee.length;Je++){var ge=Ee[Je].split("=");if(1<ge.length){var ot=ge[0];ge=ge[1];var st=ot.split("_");K=2<=st.length&&st[1]=="type"?K+(ot+"="+ge+"&"):K+(ot+"=redacted&")}}else K=null;else K=L;return"XMLHTTP REQ ("+g+") [attempt "+D+"]: "+c+`
`+f+`
`+K})}function K0(a,c,f,g,D,L,K){a.info(function(){return"XMLHTTP RESP ("+g+") [ attempt "+D+"]: "+c+`
`+f+`
`+L+" "+K})}function qr(a,c,f,g){a.info(function(){return"XMLHTTP TEXT ("+c+"): "+G0(a,f)+(g?" "+g:"")})}function Q0(a,c){a.info(function(){return"TIMEOUT: "+c})}Yi.prototype.info=function(){};function G0(a,c){if(!a.g)return c;if(!c)return null;try{var f=JSON.parse(c);if(f){for(a=0;a<f.length;a++)if(Array.isArray(f[a])){var g=f[a];if(!(2>g.length)){var D=g[1];if(Array.isArray(D)&&!(1>D.length)){var L=D[0];if(L!="noop"&&L!="stop"&&L!="close")for(var K=1;K<D.length;K++)D[K]=""}}}}return Fl(f)}catch{return c}}var _s={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Nf={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},$l;function ws(){}v(ws,Ul),ws.prototype.g=function(){return new XMLHttpRequest},ws.prototype.i=function(){return{}},$l=new ws;function kn(a,c,f,g){this.j=a,this.i=c,this.l=f,this.R=g||1,this.U=new xn(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Df}function Df(){this.i=null,this.g="",this.h=!1}var Vf={},Wl={};function ql(a,c,f){a.L=1,a.v=Is(fn(c)),a.m=f,a.P=!0,Of(a,null)}function Of(a,c){a.F=Date.now(),Es(a),a.A=fn(a.v);var f=a.A,g=a.R;Array.isArray(g)||(g=[String(g)]),Qf(f.i,"t",g),a.C=0,f=a.j.J,a.h=new Df,a.g=fd(a.j,f?c:null,!a.m),0<a.O&&(a.M=new pr(m(a.Y,a,a.g),a.O)),c=a.U,f=a.g,g=a.ca;var D="readystatechange";Array.isArray(D)||(D&&(Sf[0]=D.toString()),D=Sf);for(var L=0;L<D.length;L++){var K=se(f,D[L],g||c.handleEvent,!1,c.h||c);if(!K)break;c.g[K.key]=K}c=a.H?y(a.H):{},a.m?(a.u||(a.u="POST"),c["Content-Type"]="application/x-www-form-urlencoded",a.g.ea(a.A,a.u,a.m,c)):(a.u="GET",a.g.ea(a.A,a.u,null,c)),Qi(),H0(a.i,a.u,a.A,a.l,a.R,a.m)}kn.prototype.ca=function(a){a=a.target;const c=this.M;c&&dn(a)==3?c.j():this.Y(a)},kn.prototype.Y=function(a){try{if(a==this.g)e:{const st=dn(this.g);var c=this.g.Ba();const Qr=this.g.Z();if(!(3>st)&&(st!=3||this.g&&(this.h.h||this.g.oa()||td(this.g)))){this.J||st!=4||c==7||(c==8||0>=Qr?Qi(3):Qi(2)),Hl(this);var f=this.g.Z();this.X=f;t:if(bf(this)){var g=td(this.g);a="";var D=g.length,L=dn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){gr(this),Xi(this);var K="";break t}this.h.i=new l.TextDecoder}for(c=0;c<D;c++)this.h.h=!0,a+=this.h.i.decode(g[c],{stream:!(L&&c==D-1)});g.length=0,this.h.g+=a,this.C=0,K=this.h.g}else K=this.g.oa();if(this.o=f==200,K0(this.i,this.u,this.A,this.l,this.R,st,f),this.o){if(this.T&&!this.K){t:{if(this.g){var Ee,Je=this.g;if((Ee=Je.g?Je.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!w(Ee)){var ge=Ee;break t}}ge=null}if(f=ge)qr(this.i,this.l,f,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Kl(this,f);else{this.o=!1,this.s=3,gt(12),gr(this),Xi(this);break e}}if(this.P){f=!0;let Ht;for(;!this.J&&this.C<K.length;)if(Ht=Y0(this,K),Ht==Wl){st==4&&(this.s=4,gt(14),f=!1),qr(this.i,this.l,null,"[Incomplete Response]");break}else if(Ht==Vf){this.s=4,gt(15),qr(this.i,this.l,K,"[Invalid Chunk]"),f=!1;break}else qr(this.i,this.l,Ht,null),Kl(this,Ht);if(bf(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),st!=4||K.length!=0||this.h.h||(this.s=1,gt(16),f=!1),this.o=this.o&&f,!f)qr(this.i,this.l,K,"[Invalid Chunked Response]"),gr(this),Xi(this);else if(0<K.length&&!this.W){this.W=!0;var ot=this.j;ot.g==this&&ot.ba&&!ot.M&&(ot.j.info("Great, no buffering proxy detected. Bytes received: "+K.length),Zl(ot),ot.M=!0,gt(11))}}else qr(this.i,this.l,K,null),Kl(this,K);st==4&&gr(this),this.o&&!this.J&&(st==4?ld(this.j,this):(this.o=!1,Es(this)))}else d_(this.g),f==400&&0<K.indexOf("Unknown SID")?(this.s=3,gt(12)):(this.s=0,gt(13)),gr(this),Xi(this)}}}catch{}finally{}};function bf(a){return a.g?a.u=="GET"&&a.L!=2&&a.j.Ca:!1}function Y0(a,c){var f=a.C,g=c.indexOf(`
`,f);return g==-1?Wl:(f=Number(c.substring(f,g)),isNaN(f)?Vf:(g+=1,g+f>c.length?Wl:(c=c.slice(g,g+f),a.C=g+f,c)))}kn.prototype.cancel=function(){this.J=!0,gr(this)};function Es(a){a.S=Date.now()+a.I,Mf(a,a.I)}function Mf(a,c){if(a.B!=null)throw Error("WatchDog timer not null");a.B=Gi(m(a.ba,a),c)}function Hl(a){a.B&&(l.clearTimeout(a.B),a.B=null)}kn.prototype.ba=function(){this.B=null;const a=Date.now();0<=a-this.S?(Q0(this.i,this.A),this.L!=2&&(Qi(),gt(17)),gr(this),this.s=2,Xi(this)):Mf(this,this.S-a)};function Xi(a){a.j.G==0||a.J||ld(a.j,a)}function gr(a){Hl(a);var c=a.M;c&&typeof c.ma=="function"&&c.ma(),a.M=null,If(a.U),a.g&&(c=a.g,a.g=null,c.abort(),c.ma())}function Kl(a,c){try{var f=a.j;if(f.G!=0&&(f.g==a||Ql(f.h,a))){if(!a.K&&Ql(f.h,a)&&f.G==3){try{var g=f.Da.g.parse(c)}catch{g=null}if(Array.isArray(g)&&g.length==3){var D=g;if(D[0]==0){e:if(!f.u){if(f.g)if(f.g.F+3e3<a.F)ks(f),Rs(f);else break e;Jl(f),gt(18)}}else f.za=D[1],0<f.za-f.T&&37500>D[2]&&f.F&&f.v==0&&!f.C&&(f.C=Gi(m(f.Za,f),6e3));if(1>=Ff(f.h)&&f.ca){try{f.ca()}catch{}f.ca=void 0}}else vr(f,11)}else if((a.K||f.g==a)&&ks(f),!w(c))for(D=f.Da.g.parse(c),c=0;c<D.length;c++){let ge=D[c];if(f.T=ge[0],ge=ge[1],f.G==2)if(ge[0]=="c"){f.K=ge[1],f.ia=ge[2];const ot=ge[3];ot!=null&&(f.la=ot,f.j.info("VER="+f.la));const st=ge[4];st!=null&&(f.Aa=st,f.j.info("SVER="+f.Aa));const Qr=ge[5];Qr!=null&&typeof Qr=="number"&&0<Qr&&(g=1.5*Qr,f.L=g,f.j.info("backChannelRequestTimeoutMs_="+g)),g=f;const Ht=a.g;if(Ht){const Ds=Ht.g?Ht.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Ds){var L=g.h;L.g||Ds.indexOf("spdy")==-1&&Ds.indexOf("quic")==-1&&Ds.indexOf("h2")==-1||(L.j=L.l,L.g=new Set,L.h&&(Gl(L,L.h),L.h=null))}if(g.D){const eu=Ht.g?Ht.g.getResponseHeader("X-HTTP-Session-Id"):null;eu&&(g.ya=eu,Se(g.I,g.D,eu))}}f.G=3,f.l&&f.l.ua(),f.ba&&(f.R=Date.now()-a.F,f.j.info("Handshake RTT: "+f.R+"ms")),g=f;var K=a;if(g.qa=hd(g,g.J?g.ia:null,g.W),K.K){Uf(g.h,K);var Ee=K,Je=g.L;Je&&(Ee.I=Je),Ee.B&&(Hl(Ee),Es(Ee)),g.g=K}else sd(g);0<f.i.length&&xs(f)}else ge[0]!="stop"&&ge[0]!="close"||vr(f,7);else f.G==3&&(ge[0]=="stop"||ge[0]=="close"?ge[0]=="stop"?vr(f,7):Xl(f):ge[0]!="noop"&&f.l&&f.l.ta(ge),f.v=0)}}Qi(4)}catch{}}var X0=class{constructor(a,c){this.g=a,this.map=c}};function Lf(a){this.l=a||10,l.PerformanceNavigationTiming?(a=l.performance.getEntriesByType("navigation"),a=0<a.length&&(a[0].nextHopProtocol=="hq"||a[0].nextHopProtocol=="h2")):a=!!(l.chrome&&l.chrome.loadTimes&&l.chrome.loadTimes()&&l.chrome.loadTimes().wasFetchedViaSpdy),this.j=a?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function jf(a){return a.h?!0:a.g?a.g.size>=a.j:!1}function Ff(a){return a.h?1:a.g?a.g.size:0}function Ql(a,c){return a.h?a.h==c:a.g?a.g.has(c):!1}function Gl(a,c){a.g?a.g.add(c):a.h=c}function Uf(a,c){a.h&&a.h==c?a.h=null:a.g&&a.g.has(c)&&a.g.delete(c)}Lf.prototype.cancel=function(){if(this.i=Bf(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const a of this.g.values())a.cancel();this.g.clear()}};function Bf(a){if(a.h!=null)return a.i.concat(a.h.D);if(a.g!=null&&a.g.size!==0){let c=a.i;for(const f of a.g.values())c=c.concat(f.D);return c}return C(a.i)}function J0(a){if(a.V&&typeof a.V=="function")return a.V();if(typeof Map<"u"&&a instanceof Map||typeof Set<"u"&&a instanceof Set)return Array.from(a.values());if(typeof a=="string")return a.split("");if(u(a)){for(var c=[],f=a.length,g=0;g<f;g++)c.push(a[g]);return c}c=[],f=0;for(g in a)c[f++]=a[g];return c}function Z0(a){if(a.na&&typeof a.na=="function")return a.na();if(!a.V||typeof a.V!="function"){if(typeof Map<"u"&&a instanceof Map)return Array.from(a.keys());if(!(typeof Set<"u"&&a instanceof Set)){if(u(a)||typeof a=="string"){var c=[];a=a.length;for(var f=0;f<a;f++)c.push(f);return c}c=[],f=0;for(const g in a)c[f++]=g;return c}}}function zf(a,c){if(a.forEach&&typeof a.forEach=="function")a.forEach(c,void 0);else if(u(a)||typeof a=="string")Array.prototype.forEach.call(a,c,void 0);else for(var f=Z0(a),g=J0(a),D=g.length,L=0;L<D;L++)c.call(void 0,g[L],f&&f[L],a)}var $f=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function e_(a,c){if(a){a=a.split("&");for(var f=0;f<a.length;f++){var g=a[f].indexOf("="),D=null;if(0<=g){var L=a[f].substring(0,g);D=a[f].substring(g+1)}else L=a[f];c(L,D?decodeURIComponent(D.replace(/\+/g," ")):"")}}}function yr(a){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,a instanceof yr){this.h=a.h,Ts(this,a.j),this.o=a.o,this.g=a.g,Ss(this,a.s),this.l=a.l;var c=a.i,f=new eo;f.i=c.i,c.g&&(f.g=new Map(c.g),f.h=c.h),Wf(this,f),this.m=a.m}else a&&(c=String(a).match($f))?(this.h=!1,Ts(this,c[1]||"",!0),this.o=Ji(c[2]||""),this.g=Ji(c[3]||"",!0),Ss(this,c[4]),this.l=Ji(c[5]||"",!0),Wf(this,c[6]||"",!0),this.m=Ji(c[7]||"")):(this.h=!1,this.i=new eo(null,this.h))}yr.prototype.toString=function(){var a=[],c=this.j;c&&a.push(Zi(c,qf,!0),":");var f=this.g;return(f||c=="file")&&(a.push("//"),(c=this.o)&&a.push(Zi(c,qf,!0),"@"),a.push(encodeURIComponent(String(f)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),f=this.s,f!=null&&a.push(":",String(f))),(f=this.l)&&(this.g&&f.charAt(0)!="/"&&a.push("/"),a.push(Zi(f,f.charAt(0)=="/"?r_:n_,!0))),(f=this.i.toString())&&a.push("?",f),(f=this.m)&&a.push("#",Zi(f,o_)),a.join("")};function fn(a){return new yr(a)}function Ts(a,c,f){a.j=f?Ji(c,!0):c,a.j&&(a.j=a.j.replace(/:$/,""))}function Ss(a,c){if(c){if(c=Number(c),isNaN(c)||0>c)throw Error("Bad port number "+c);a.s=c}else a.s=null}function Wf(a,c,f){c instanceof eo?(a.i=c,s_(a.i,a.h)):(f||(c=Zi(c,i_)),a.i=new eo(c,a.h))}function Se(a,c,f){a.i.set(c,f)}function Is(a){return Se(a,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),a}function Ji(a,c){return a?c?decodeURI(a.replace(/%25/g,"%2525")):decodeURIComponent(a):""}function Zi(a,c,f){return typeof a=="string"?(a=encodeURI(a).replace(c,t_),f&&(a=a.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),a):null}function t_(a){return a=a.charCodeAt(0),"%"+(a>>4&15).toString(16)+(a&15).toString(16)}var qf=/[#\/\?@]/g,n_=/[#\?:]/g,r_=/[#\?]/g,i_=/[#\?@]/g,o_=/#/g;function eo(a,c){this.h=this.g=null,this.i=a||null,this.j=!!c}function Nn(a){a.g||(a.g=new Map,a.h=0,a.i&&e_(a.i,function(c,f){a.add(decodeURIComponent(c.replace(/\+/g," ")),f)}))}t=eo.prototype,t.add=function(a,c){Nn(this),this.i=null,a=Hr(this,a);var f=this.g.get(a);return f||this.g.set(a,f=[]),f.push(c),this.h+=1,this};function Hf(a,c){Nn(a),c=Hr(a,c),a.g.has(c)&&(a.i=null,a.h-=a.g.get(c).length,a.g.delete(c))}function Kf(a,c){return Nn(a),c=Hr(a,c),a.g.has(c)}t.forEach=function(a,c){Nn(this),this.g.forEach(function(f,g){f.forEach(function(D){a.call(c,D,g,this)},this)},this)},t.na=function(){Nn(this);const a=Array.from(this.g.values()),c=Array.from(this.g.keys()),f=[];for(let g=0;g<c.length;g++){const D=a[g];for(let L=0;L<D.length;L++)f.push(c[g])}return f},t.V=function(a){Nn(this);let c=[];if(typeof a=="string")Kf(this,a)&&(c=c.concat(this.g.get(Hr(this,a))));else{a=Array.from(this.g.values());for(let f=0;f<a.length;f++)c=c.concat(a[f])}return c},t.set=function(a,c){return Nn(this),this.i=null,a=Hr(this,a),Kf(this,a)&&(this.h-=this.g.get(a).length),this.g.set(a,[c]),this.h+=1,this},t.get=function(a,c){return a?(a=this.V(a),0<a.length?String(a[0]):c):c};function Qf(a,c,f){Hf(a,c),0<f.length&&(a.i=null,a.g.set(Hr(a,c),C(f)),a.h+=f.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const a=[],c=Array.from(this.g.keys());for(var f=0;f<c.length;f++){var g=c[f];const L=encodeURIComponent(String(g)),K=this.V(g);for(g=0;g<K.length;g++){var D=L;K[g]!==""&&(D+="="+encodeURIComponent(String(K[g]))),a.push(D)}}return this.i=a.join("&")};function Hr(a,c){return c=String(c),a.j&&(c=c.toLowerCase()),c}function s_(a,c){c&&!a.j&&(Nn(a),a.i=null,a.g.forEach(function(f,g){var D=g.toLowerCase();g!=D&&(Hf(this,g),Qf(this,D,f))},a)),a.j=c}function a_(a,c){const f=new Yi;if(l.Image){const g=new Image;g.onload=E(Dn,f,"TestLoadImage: loaded",!0,c,g),g.onerror=E(Dn,f,"TestLoadImage: error",!1,c,g),g.onabort=E(Dn,f,"TestLoadImage: abort",!1,c,g),g.ontimeout=E(Dn,f,"TestLoadImage: timeout",!1,c,g),l.setTimeout(function(){g.ontimeout&&g.ontimeout()},1e4),g.src=a}else c(!1)}function l_(a,c){const f=new Yi,g=new AbortController,D=setTimeout(()=>{g.abort(),Dn(f,"TestPingServer: timeout",!1,c)},1e4);fetch(a,{signal:g.signal}).then(L=>{clearTimeout(D),L.ok?Dn(f,"TestPingServer: ok",!0,c):Dn(f,"TestPingServer: server error",!1,c)}).catch(()=>{clearTimeout(D),Dn(f,"TestPingServer: error",!1,c)})}function Dn(a,c,f,g,D){try{D&&(D.onload=null,D.onerror=null,D.onabort=null,D.ontimeout=null),g(f)}catch{}}function u_(){this.g=new q0}function c_(a,c,f){const g=f||"";try{zf(a,function(D,L){let K=D;h(D)&&(K=Fl(D)),c.push(g+L+"="+encodeURIComponent(K))})}catch(D){throw c.push(g+"type="+encodeURIComponent("_badmap")),D}}function Cs(a){this.l=a.Ub||null,this.j=a.eb||!1}v(Cs,Ul),Cs.prototype.g=function(){return new Ps(this.l,this.j)},Cs.prototype.i=function(a){return function(){return a}}({});function Ps(a,c){Le.call(this),this.D=a,this.o=c,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}v(Ps,Le),t=Ps.prototype,t.open=function(a,c){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=a,this.A=c,this.readyState=1,no(this)},t.send=function(a){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const c={headers:this.u,method:this.B,credentials:this.m,cache:void 0};a&&(c.body=a),(this.D||l).fetch(new Request(this.A,c)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,to(this)),this.readyState=0},t.Sa=function(a){if(this.g&&(this.l=a,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=a.headers,this.readyState=2,no(this)),this.g&&(this.readyState=3,no(this),this.g)))if(this.responseType==="arraybuffer")a.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof l.ReadableStream<"u"&&"body"in a){if(this.j=a.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Gf(this)}else a.text().then(this.Ra.bind(this),this.ga.bind(this))};function Gf(a){a.j.read().then(a.Pa.bind(a)).catch(a.ga.bind(a))}t.Pa=function(a){if(this.g){if(this.o&&a.value)this.response.push(a.value);else if(!this.o){var c=a.value?a.value:new Uint8Array(0);(c=this.v.decode(c,{stream:!a.done}))&&(this.response=this.responseText+=c)}a.done?to(this):no(this),this.readyState==3&&Gf(this)}},t.Ra=function(a){this.g&&(this.response=this.responseText=a,to(this))},t.Qa=function(a){this.g&&(this.response=a,to(this))},t.ga=function(){this.g&&to(this)};function to(a){a.readyState=4,a.l=null,a.j=null,a.v=null,no(a)}t.setRequestHeader=function(a,c){this.u.append(a,c)},t.getResponseHeader=function(a){return this.h&&this.h.get(a.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const a=[],c=this.h.entries();for(var f=c.next();!f.done;)f=f.value,a.push(f[0]+": "+f[1]),f=c.next();return a.join(`\r
`)};function no(a){a.onreadystatechange&&a.onreadystatechange.call(a)}Object.defineProperty(Ps.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(a){this.m=a?"include":"same-origin"}});function Yf(a){let c="";return $(a,function(f,g){c+=g,c+=":",c+=f,c+=`\r
`}),c}function Yl(a,c,f){e:{for(g in f){var g=!1;break e}g=!0}g||(f=Yf(f),typeof a=="string"?f!=null&&encodeURIComponent(String(f)):Se(a,c,f))}function Ve(a){Le.call(this),this.headers=new Map,this.o=a||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}v(Ve,Le);var h_=/^https?$/i,f_=["POST","PUT"];t=Ve.prototype,t.Ha=function(a){this.J=a},t.ea=function(a,c,f,g){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+a);c=c?c.toUpperCase():"GET",this.D=a,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():$l.g(),this.v=this.o?Cf(this.o):Cf($l),this.g.onreadystatechange=m(this.Ea,this);try{this.B=!0,this.g.open(c,String(a),!0),this.B=!1}catch(L){Xf(this,L);return}if(a=f||"",f=new Map(this.headers),g)if(Object.getPrototypeOf(g)===Object.prototype)for(var D in g)f.set(D,g[D]);else if(typeof g.keys=="function"&&typeof g.get=="function")for(const L of g.keys())f.set(L,g.get(L));else throw Error("Unknown input type for opt_headers: "+String(g));g=Array.from(f.keys()).find(L=>L.toLowerCase()=="content-type"),D=l.FormData&&a instanceof l.FormData,!(0<=Array.prototype.indexOf.call(f_,c,void 0))||g||D||f.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[L,K]of f)this.g.setRequestHeader(L,K);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{ed(this),this.u=!0,this.g.send(a),this.u=!1}catch(L){Xf(this,L)}};function Xf(a,c){a.h=!1,a.g&&(a.j=!0,a.g.abort(),a.j=!1),a.l=c,a.m=5,Jf(a),As(a)}function Jf(a){a.A||(a.A=!0,Ke(a,"complete"),Ke(a,"error"))}t.abort=function(a){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=a||7,Ke(this,"complete"),Ke(this,"abort"),As(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),As(this,!0)),Ve.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?Zf(this):this.bb())},t.bb=function(){Zf(this)};function Zf(a){if(a.h&&typeof s<"u"&&(!a.v[1]||dn(a)!=4||a.Z()!=2)){if(a.u&&dn(a)==4)qi(a.Ea,0,a);else if(Ke(a,"readystatechange"),dn(a)==4){a.h=!1;try{const K=a.Z();e:switch(K){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var c=!0;break e;default:c=!1}var f;if(!(f=c)){var g;if(g=K===0){var D=String(a.D).match($f)[1]||null;!D&&l.self&&l.self.location&&(D=l.self.location.protocol.slice(0,-1)),g=!h_.test(D?D.toLowerCase():"")}f=g}if(f)Ke(a,"complete"),Ke(a,"success");else{a.m=6;try{var L=2<dn(a)?a.g.statusText:""}catch{L=""}a.l=L+" ["+a.Z()+"]",Jf(a)}}finally{As(a)}}}}function As(a,c){if(a.g){ed(a);const f=a.g,g=a.v[0]?()=>{}:null;a.g=null,a.v=null,c||Ke(a,"ready");try{f.onreadystatechange=g}catch{}}}function ed(a){a.I&&(l.clearTimeout(a.I),a.I=null)}t.isActive=function(){return!!this.g};function dn(a){return a.g?a.g.readyState:0}t.Z=function(){try{return 2<dn(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(a){if(this.g){var c=this.g.responseText;return a&&c.indexOf(a)==0&&(c=c.substring(a.length)),W0(c)}};function td(a){try{if(!a.g)return null;if("response"in a.g)return a.g.response;switch(a.H){case"":case"text":return a.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in a.g)return a.g.mozResponseArrayBuffer}return null}catch{return null}}function d_(a){const c={};a=(a.g&&2<=dn(a)&&a.g.getAllResponseHeaders()||"").split(`\r
`);for(let g=0;g<a.length;g++){if(w(a[g]))continue;var f=x(a[g]);const D=f[0];if(f=f[1],typeof f!="string")continue;f=f.trim();const L=c[D]||[];c[D]=L,L.push(f)}S(c,function(g){return g.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function ro(a,c,f){return f&&f.internalChannelParams&&f.internalChannelParams[a]||c}function nd(a){this.Aa=0,this.i=[],this.j=new Yi,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=ro("failFast",!1,a),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=ro("baseRetryDelayMs",5e3,a),this.cb=ro("retryDelaySeedMs",1e4,a),this.Wa=ro("forwardChannelMaxRetries",2,a),this.wa=ro("forwardChannelRequestTimeoutMs",2e4,a),this.pa=a&&a.xmlHttpFactory||void 0,this.Xa=a&&a.Tb||void 0,this.Ca=a&&a.useFetchStreams||!1,this.L=void 0,this.J=a&&a.supportsCrossDomainXhr||!1,this.K="",this.h=new Lf(a&&a.concurrentRequestLimit),this.Da=new u_,this.P=a&&a.fastHandshake||!1,this.O=a&&a.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=a&&a.Rb||!1,a&&a.xa&&this.j.xa(),a&&a.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&a&&a.detectBufferingProxy||!1,this.ja=void 0,a&&a.longPollingTimeout&&0<a.longPollingTimeout&&(this.ja=a.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=nd.prototype,t.la=8,t.G=1,t.connect=function(a,c,f,g){gt(0),this.W=a,this.H=c||{},f&&g!==void 0&&(this.H.OSID=f,this.H.OAID=g),this.F=this.X,this.I=hd(this,null,this.W),xs(this)};function Xl(a){if(rd(a),a.G==3){var c=a.U++,f=fn(a.I);if(Se(f,"SID",a.K),Se(f,"RID",c),Se(f,"TYPE","terminate"),io(a,f),c=new kn(a,a.j,c),c.L=2,c.v=Is(fn(f)),f=!1,l.navigator&&l.navigator.sendBeacon)try{f=l.navigator.sendBeacon(c.v.toString(),"")}catch{}!f&&l.Image&&(new Image().src=c.v,f=!0),f||(c.g=fd(c.j,null),c.g.ea(c.v)),c.F=Date.now(),Es(c)}cd(a)}function Rs(a){a.g&&(Zl(a),a.g.cancel(),a.g=null)}function rd(a){Rs(a),a.u&&(l.clearTimeout(a.u),a.u=null),ks(a),a.h.cancel(),a.s&&(typeof a.s=="number"&&l.clearTimeout(a.s),a.s=null)}function xs(a){if(!jf(a.h)&&!a.s){a.s=!0;var c=a.Ga;Tt||re(),Q||(Tt(),Q=!0),ne.add(c,a),a.B=0}}function p_(a,c){return Ff(a.h)>=a.h.j-(a.s?1:0)?!1:a.s?(a.i=c.D.concat(a.i),!0):a.G==1||a.G==2||a.B>=(a.Va?0:a.Wa)?!1:(a.s=Gi(m(a.Ga,a,c),ud(a,a.B)),a.B++,!0)}t.Ga=function(a){if(this.s)if(this.s=null,this.G==1){if(!a){this.U=Math.floor(1e5*Math.random()),a=this.U++;const D=new kn(this,this.j,a);let L=this.o;if(this.S&&(L?(L=y(L),P(L,this.S)):L=this.S),this.m!==null||this.O||(D.H=L,L=null),this.P)e:{for(var c=0,f=0;f<this.i.length;f++){t:{var g=this.i[f];if("__data__"in g.map&&(g=g.map.__data__,typeof g=="string")){g=g.length;break t}g=void 0}if(g===void 0)break;if(c+=g,4096<c){c=f;break e}if(c===4096||f===this.i.length-1){c=f+1;break e}}c=1e3}else c=1e3;c=od(this,D,c),f=fn(this.I),Se(f,"RID",a),Se(f,"CVER",22),this.D&&Se(f,"X-HTTP-Session-Id",this.D),io(this,f),L&&(this.O?c="headers="+encodeURIComponent(String(Yf(L)))+"&"+c:this.m&&Yl(f,this.m,L)),Gl(this.h,D),this.Ua&&Se(f,"TYPE","init"),this.P?(Se(f,"$req",c),Se(f,"SID","null"),D.T=!0,ql(D,f,null)):ql(D,f,c),this.G=2}}else this.G==3&&(a?id(this,a):this.i.length==0||jf(this.h)||id(this))};function id(a,c){var f;c?f=c.l:f=a.U++;const g=fn(a.I);Se(g,"SID",a.K),Se(g,"RID",f),Se(g,"AID",a.T),io(a,g),a.m&&a.o&&Yl(g,a.m,a.o),f=new kn(a,a.j,f,a.B+1),a.m===null&&(f.H=a.o),c&&(a.i=c.D.concat(a.i)),c=od(a,f,1e3),f.I=Math.round(.5*a.wa)+Math.round(.5*a.wa*Math.random()),Gl(a.h,f),ql(f,g,c)}function io(a,c){a.H&&$(a.H,function(f,g){Se(c,g,f)}),a.l&&zf({},function(f,g){Se(c,g,f)})}function od(a,c,f){f=Math.min(a.i.length,f);var g=a.l?m(a.l.Na,a.l,a):null;e:{var D=a.i;let L=-1;for(;;){const K=["count="+f];L==-1?0<f?(L=D[0].g,K.push("ofs="+L)):L=0:K.push("ofs="+L);let Ee=!0;for(let Je=0;Je<f;Je++){let ge=D[Je].g;const ot=D[Je].map;if(ge-=L,0>ge)L=Math.max(0,D[Je].g-100),Ee=!1;else try{c_(ot,K,"req"+ge+"_")}catch{g&&g(ot)}}if(Ee){g=K.join("&");break e}}}return a=a.i.splice(0,f),c.D=a,g}function sd(a){if(!a.g&&!a.u){a.Y=1;var c=a.Fa;Tt||re(),Q||(Tt(),Q=!0),ne.add(c,a),a.v=0}}function Jl(a){return a.g||a.u||3<=a.v?!1:(a.Y++,a.u=Gi(m(a.Fa,a),ud(a,a.v)),a.v++,!0)}t.Fa=function(){if(this.u=null,ad(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var a=2*this.R;this.j.info("BP detection timer enabled: "+a),this.A=Gi(m(this.ab,this),a)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,gt(10),Rs(this),ad(this))};function Zl(a){a.A!=null&&(l.clearTimeout(a.A),a.A=null)}function ad(a){a.g=new kn(a,a.j,"rpc",a.Y),a.m===null&&(a.g.H=a.o),a.g.O=0;var c=fn(a.qa);Se(c,"RID","rpc"),Se(c,"SID",a.K),Se(c,"AID",a.T),Se(c,"CI",a.F?"0":"1"),!a.F&&a.ja&&Se(c,"TO",a.ja),Se(c,"TYPE","xmlhttp"),io(a,c),a.m&&a.o&&Yl(c,a.m,a.o),a.L&&(a.g.I=a.L);var f=a.g;a=a.ia,f.L=1,f.v=Is(fn(c)),f.m=null,f.P=!0,Of(f,a)}t.Za=function(){this.C!=null&&(this.C=null,Rs(this),Jl(this),gt(19))};function ks(a){a.C!=null&&(l.clearTimeout(a.C),a.C=null)}function ld(a,c){var f=null;if(a.g==c){ks(a),Zl(a),a.g=null;var g=2}else if(Ql(a.h,c))f=c.D,Uf(a.h,c),g=1;else return;if(a.G!=0){if(c.o)if(g==1){f=c.m?c.m.length:0,c=Date.now()-c.F;var D=a.B;g=vs(),Ke(g,new kf(g,f)),xs(a)}else sd(a);else if(D=c.s,D==3||D==0&&0<c.X||!(g==1&&p_(a,c)||g==2&&Jl(a)))switch(f&&0<f.length&&(c=a.h,c.i=c.i.concat(f)),D){case 1:vr(a,5);break;case 4:vr(a,10);break;case 3:vr(a,6);break;default:vr(a,2)}}}function ud(a,c){let f=a.Ta+Math.floor(Math.random()*a.cb);return a.isActive()||(f*=2),f*c}function vr(a,c){if(a.j.info("Error code "+c),c==2){var f=m(a.fb,a),g=a.Xa;const D=!g;g=new yr(g||"//www.google.com/images/cleardot.gif"),l.location&&l.location.protocol=="http"||Ts(g,"https"),Is(g),D?a_(g.toString(),f):l_(g.toString(),f)}else gt(2);a.G=0,a.l&&a.l.sa(c),cd(a),rd(a)}t.fb=function(a){a?(this.j.info("Successfully pinged google.com"),gt(2)):(this.j.info("Failed to ping google.com"),gt(1))};function cd(a){if(a.G=0,a.ka=[],a.l){const c=Bf(a.h);(c.length!=0||a.i.length!=0)&&(R(a.ka,c),R(a.ka,a.i),a.h.i.length=0,C(a.i),a.i.length=0),a.l.ra()}}function hd(a,c,f){var g=f instanceof yr?fn(f):new yr(f);if(g.g!="")c&&(g.g=c+"."+g.g),Ss(g,g.s);else{var D=l.location;g=D.protocol,c=c?c+"."+D.hostname:D.hostname,D=+D.port;var L=new yr(null);g&&Ts(L,g),c&&(L.g=c),D&&Ss(L,D),f&&(L.l=f),g=L}return f=a.D,c=a.ya,f&&c&&Se(g,f,c),Se(g,"VER",a.la),io(a,g),g}function fd(a,c,f){if(c&&!a.J)throw Error("Can't create secondary domain capable XhrIo object.");return c=a.Ca&&!a.pa?new Ve(new Cs({eb:f})):new Ve(a.pa),c.Ha(a.J),c}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function dd(){}t=dd.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function Ns(){}Ns.prototype.g=function(a,c){return new Nt(a,c)};function Nt(a,c){Le.call(this),this.g=new nd(c),this.l=a,this.h=c&&c.messageUrlParams||null,a=c&&c.messageHeaders||null,c&&c.clientProtocolHeaderRequired&&(a?a["X-Client-Protocol"]="webchannel":a={"X-Client-Protocol":"webchannel"}),this.g.o=a,a=c&&c.initMessageHeaders||null,c&&c.messageContentType&&(a?a["X-WebChannel-Content-Type"]=c.messageContentType:a={"X-WebChannel-Content-Type":c.messageContentType}),c&&c.va&&(a?a["X-WebChannel-Client-Profile"]=c.va:a={"X-WebChannel-Client-Profile":c.va}),this.g.S=a,(a=c&&c.Sb)&&!w(a)&&(this.g.m=a),this.v=c&&c.supportsCrossDomainXhr||!1,this.u=c&&c.sendRawJson||!1,(c=c&&c.httpSessionIdParam)&&!w(c)&&(this.g.D=c,a=this.h,a!==null&&c in a&&(a=this.h,c in a&&delete a[c])),this.j=new Kr(this)}v(Nt,Le),Nt.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Nt.prototype.close=function(){Xl(this.g)},Nt.prototype.o=function(a){var c=this.g;if(typeof a=="string"){var f={};f.__data__=a,a=f}else this.u&&(f={},f.__data__=Fl(a),a=f);c.i.push(new X0(c.Ya++,a)),c.G==3&&xs(c)},Nt.prototype.N=function(){this.g.l=null,delete this.j,Xl(this.g),delete this.g,Nt.aa.N.call(this)};function pd(a){Bl.call(this),a.__headers__&&(this.headers=a.__headers__,this.statusCode=a.__status__,delete a.__headers__,delete a.__status__);var c=a.__sm__;if(c){e:{for(const f in c){a=f;break e}a=void 0}(this.i=a)&&(a=this.i,c=c!==null&&a in c?c[a]:void 0),this.data=c}else this.data=a}v(pd,Bl);function md(){zl.call(this),this.status=1}v(md,zl);function Kr(a){this.g=a}v(Kr,dd),Kr.prototype.ua=function(){Ke(this.g,"a")},Kr.prototype.ta=function(a){Ke(this.g,new pd(a))},Kr.prototype.sa=function(a){Ke(this.g,new md)},Kr.prototype.ra=function(){Ke(this.g,"b")},Ns.prototype.createWebChannel=Ns.prototype.g,Nt.prototype.send=Nt.prototype.o,Nt.prototype.open=Nt.prototype.m,Nt.prototype.close=Nt.prototype.close,Pv=function(){return new Ns},Cv=function(){return vs()},Iv=mr,Lc={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},_s.NO_ERROR=0,_s.TIMEOUT=8,_s.HTTP_ERROR=6,da=_s,Nf.COMPLETE="complete",Sv=Nf,Pf.EventType=Ki,Ki.OPEN="a",Ki.CLOSE="b",Ki.ERROR="c",Ki.MESSAGE="d",Le.prototype.listen=Le.prototype.K,vo=Pf,Ve.prototype.listenOnce=Ve.prototype.L,Ve.prototype.getLastError=Ve.prototype.Ka,Ve.prototype.getLastErrorCode=Ve.prototype.Ba,Ve.prototype.getStatus=Ve.prototype.Z,Ve.prototype.getResponseJson=Ve.prototype.Oa,Ve.prototype.getResponseText=Ve.prototype.oa,Ve.prototype.send=Ve.prototype.ea,Ve.prototype.setWithCredentials=Ve.prototype.Ha,Tv=Ve}).apply(typeof Ys<"u"?Ys:typeof self<"u"?self:typeof window<"u"?window:{});const Kp="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ct{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}ct.UNAUTHENTICATED=new ct(null),ct.GOOGLE_CREDENTIALS=new ct("google-credentials-uid"),ct.FIRST_PARTY=new ct("first-party-uid"),ct.MOCK_USER=new ct("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ui="11.0.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Or=new mv("@firebase/firestore");function Xr(){return Or.logLevel}function G(t,...e){if(Or.logLevel<=fe.DEBUG){const n=e.map(Yh);Or.debug(`Firestore (${Ui}): ${t}`,...n)}}function Cn(t,...e){if(Or.logLevel<=fe.ERROR){const n=e.map(Yh);Or.error(`Firestore (${Ui}): ${t}`,...n)}}function Ri(t,...e){if(Or.logLevel<=fe.WARN){const n=e.map(Yh);Or.warn(`Firestore (${Ui}): ${t}`,...n)}}function Yh(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ie(t="Unexpected state"){const e=`FIRESTORE (${Ui}) INTERNAL ASSERTION FAILED: `+t;throw Cn(e),new Error(e)}function ve(t,e){t||ie()}function ae(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const z={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ee extends Fi{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class er{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Av{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class DS{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(ct.UNAUTHENTICATED))}shutdown(){}}class VS{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class OS{constructor(e){this.t=e,this.currentUser=ct.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){ve(this.o===void 0);let r=this.i;const i=u=>this.i!==r?(r=this.i,n(u)):Promise.resolve();let o=new er;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new er,e.enqueueRetryable(()=>i(this.currentUser))};const s=()=>{const u=o;e.enqueueRetryable(async()=>{await u.promise,await i(this.currentUser)})},l=u=>{G("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=u,this.o&&(this.auth.addAuthTokenListener(this.o),s())};this.t.onInit(u=>l(u)),setTimeout(()=>{if(!this.auth){const u=this.t.getImmediate({optional:!0});u?l(u):(G("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new er)}},0),s()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(G("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(ve(typeof r.accessToken=="string"),new Av(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return ve(e===null||typeof e=="string"),new ct(e)}}class bS{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=ct.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class MS{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new bS(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(ct.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class LS{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class jS{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){ve(this.o===void 0);const r=o=>{o.error!=null&&G("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const s=o.token!==this.R;return this.R=o.token,G("FirebaseAppCheckTokenProvider",`Received ${s?"new":"existing"} token.`),s?n(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>r(o))};const i=o=>{G("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(o=>i(o)),setTimeout(()=>{if(!this.appCheck){const o=this.A.getImmediate({optional:!0});o?i(o):G("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(ve(typeof n.token=="string"),this.R=n.token,new LS(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FS(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rv{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=FS(40);for(let o=0;o<i.length;++o)r.length<20&&i[o]<n&&(r+=e.charAt(i[o]%e.length))}return r}}function de(t,e){return t<e?-1:t>e?1:0}function xi(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class He{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new ee(z.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new ee(z.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new ee(z.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ee(z.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return He.fromMillis(Date.now())}static fromDate(e){return He.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new He(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?de(this.nanoseconds,e.nanoseconds):de(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oe{constructor(e){this.timestamp=e}static fromTimestamp(e){return new oe(e)}static min(){return new oe(new He(0,0))}static max(){return new oe(new He(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ns{constructor(e,n,r){n===void 0?n=0:n>e.length&&ie(),r===void 0?r=e.length-n:r>e.length-n&&ie(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return ns.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof ns?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const o=e.get(i),s=n.get(i);if(o<s)return-1;if(o>s)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class Ae extends ns{construct(e,n,r){return new Ae(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new ee(z.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new Ae(n)}static emptyPath(){return new Ae([])}}const US=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class tt extends ns{construct(e,n,r){return new tt(e,n,r)}static isValidIdentifier(e){return US.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),tt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new tt(["__name__"])}static fromServerFormat(e){const n=[];let r="",i=0;const o=()=>{if(r.length===0)throw new ee(z.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let s=!1;for(;i<e.length;){const l=e[i];if(l==="\\"){if(i+1===e.length)throw new ee(z.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const u=e[i+1];if(u!=="\\"&&u!=="."&&u!=="`")throw new ee(z.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=u,i+=2}else l==="`"?(s=!s,i++):l!=="."||s?(r+=l,i++):(o(),i++)}if(o(),s)throw new ee(z.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new tt(n)}static emptyPath(){return new tt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class te{constructor(e){this.path=e}static fromPath(e){return new te(Ae.fromString(e))}static fromName(e){return new te(Ae.fromString(e).popFirst(5))}static empty(){return new te(Ae.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Ae.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Ae.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new te(new Ae(e.slice()))}}function BS(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=oe.fromTimestamp(r===1e9?new He(n+1,0):new He(n,r));return new ir(i,te.empty(),e)}function zS(t){return new ir(t.readTime,t.key,-1)}class ir{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new ir(oe.min(),te.empty(),-1)}static max(){return new ir(oe.max(),te.empty(),-1)}}function $S(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=te.comparator(t.documentKey,e.documentKey),n!==0?n:de(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WS="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class qS{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Bi(t){if(t.code!==z.FAILED_PRECONDITION||t.message!==WS)throw t;G("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&ie(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new U((r,i)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(r,i)},this.catchCallback=o=>{this.wrapFailure(n,o).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof U?n:U.resolve(n)}catch(n){return U.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):U.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):U.reject(n)}static resolve(e){return new U((n,r)=>{n(e)})}static reject(e){return new U((n,r)=>{r(e)})}static waitFor(e){return new U((n,r)=>{let i=0,o=0,s=!1;e.forEach(l=>{++i,l.next(()=>{++o,s&&o===i&&n()},u=>r(u))}),s=!0,o===i&&n()})}static or(e){let n=U.resolve(!1);for(const r of e)n=n.next(i=>i?U.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,o)=>{r.push(n.call(this,i,o))}),this.waitFor(r)}static mapArray(e,n){return new U((r,i)=>{const o=e.length,s=new Array(o);let l=0;for(let u=0;u<o;u++){const h=u;n(e[h]).next(d=>{s[h]=d,++l,l===o&&r(s)},d=>i(d))}})}static doWhile(e,n){return new U((r,i)=>{const o=()=>{e()===!0?n().next(()=>{o()},i):r()};o()})}}function HS(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function zi(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cl{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ie(r),this.se=r=>n.writeSequenceNumber(r))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}Cl.oe=-1;function Pl(t){return t==null}function Qa(t){return t===0&&1/t==-1/0}function KS(t){return typeof t=="number"&&Number.isInteger(t)&&!Qa(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QS(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=Qp(e)),e=GS(t.get(n),e);return Qp(e)}function GS(t,e){let n=e;const r=t.length;for(let i=0;i<r;i++){const o=t.charAt(i);switch(o){case"\0":n+="";break;case"":n+="";break;default:n+=o}}return n}function Qp(t){return t+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gp(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Fr(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function xv(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class De{constructor(e,n){this.comparator=e,this.root=n||et.EMPTY}insert(e,n){return new De(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,et.BLACK,null,null))}remove(e){return new De(this.comparator,this.root.remove(e,this.comparator).copy(null,null,et.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Xs(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Xs(this.root,e,this.comparator,!1)}getReverseIterator(){return new Xs(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Xs(this.root,e,this.comparator,!0)}}class Xs{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=n?r(e.key,n):1,n&&i&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class et{constructor(e,n,r,i,o){this.key=e,this.value=n,this.color=r??et.RED,this.left=i??et.EMPTY,this.right=o??et.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,o){return new et(e??this.key,n??this.value,r??this.color,i??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const o=r(e,i.key);return i=o<0?i.copy(null,null,null,i.left.insert(e,n,r),null):o===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return et.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return et.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,et.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,et.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw ie();const e=this.left.check();if(e!==this.right.check())throw ie();return e+(this.isRed()?0:1)}}et.EMPTY=null,et.RED=!0,et.BLACK=!1;et.EMPTY=new class{constructor(){this.size=0}get key(){throw ie()}get value(){throw ie()}get color(){throw ie()}get left(){throw ie()}get right(){throw ie()}copy(e,n,r,i,o){return this}insert(e,n,r){return new et(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xe{constructor(e){this.comparator=e,this.data=new De(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new Yp(this.data.getIterator())}getIteratorFrom(e){return new Yp(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof Xe)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,o=r.getNext().key;if(this.comparator(i,o)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new Xe(this.comparator);return n.data=e,n}}class Yp{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xt{constructor(e){this.fields=e,e.sort(tt.comparator)}static empty(){return new Xt([])}unionWith(e){let n=new Xe(tt.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new Xt(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return xi(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kv extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class it{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(i){try{return atob(i)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new kv("Invalid base64 string: "+o):o}}(e);return new it(n)}static fromUint8Array(e){const n=function(i){let o="";for(let s=0;s<i.length;++s)o+=String.fromCharCode(i[s]);return o}(e);return new it(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return de(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}it.EMPTY_BYTE_STRING=new it("");const YS=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function or(t){if(ve(!!t),typeof t=="string"){let e=0;const n=YS.exec(t);if(ve(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:be(t.seconds),nanos:be(t.nanos)}}function be(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function sr(t){return typeof t=="string"?it.fromBase64String(t):it.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xh(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function Al(t){const e=t.mapValue.fields.__previous_value__;return Xh(e)?Al(e):e}function rs(t){const e=or(t.mapValue.fields.__local_write_time__.timestampValue);return new He(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XS{constructor(e,n,r,i,o,s,l,u,h){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=o,this.forceLongPolling=s,this.autoDetectLongPolling=l,this.longPollingOptions=u,this.useFetchStreams=h}}class is{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new is("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof is&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Js={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function ar(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Xh(t)?4:ZS(t)?9007199254740991:JS(t)?10:11:ie()}function cn(t,e){if(t===e)return!0;const n=ar(t);if(n!==ar(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return rs(t).isEqual(rs(e));case 3:return function(i,o){if(typeof i.timestampValue=="string"&&typeof o.timestampValue=="string"&&i.timestampValue.length===o.timestampValue.length)return i.timestampValue===o.timestampValue;const s=or(i.timestampValue),l=or(o.timestampValue);return s.seconds===l.seconds&&s.nanos===l.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,o){return sr(i.bytesValue).isEqual(sr(o.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,o){return be(i.geoPointValue.latitude)===be(o.geoPointValue.latitude)&&be(i.geoPointValue.longitude)===be(o.geoPointValue.longitude)}(t,e);case 2:return function(i,o){if("integerValue"in i&&"integerValue"in o)return be(i.integerValue)===be(o.integerValue);if("doubleValue"in i&&"doubleValue"in o){const s=be(i.doubleValue),l=be(o.doubleValue);return s===l?Qa(s)===Qa(l):isNaN(s)&&isNaN(l)}return!1}(t,e);case 9:return xi(t.arrayValue.values||[],e.arrayValue.values||[],cn);case 10:case 11:return function(i,o){const s=i.mapValue.fields||{},l=o.mapValue.fields||{};if(Gp(s)!==Gp(l))return!1;for(const u in s)if(s.hasOwnProperty(u)&&(l[u]===void 0||!cn(s[u],l[u])))return!1;return!0}(t,e);default:return ie()}}function os(t,e){return(t.values||[]).find(n=>cn(n,e))!==void 0}function ki(t,e){if(t===e)return 0;const n=ar(t),r=ar(e);if(n!==r)return de(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return de(t.booleanValue,e.booleanValue);case 2:return function(o,s){const l=be(o.integerValue||o.doubleValue),u=be(s.integerValue||s.doubleValue);return l<u?-1:l>u?1:l===u?0:isNaN(l)?isNaN(u)?0:-1:1}(t,e);case 3:return Xp(t.timestampValue,e.timestampValue);case 4:return Xp(rs(t),rs(e));case 5:return de(t.stringValue,e.stringValue);case 6:return function(o,s){const l=sr(o),u=sr(s);return l.compareTo(u)}(t.bytesValue,e.bytesValue);case 7:return function(o,s){const l=o.split("/"),u=s.split("/");for(let h=0;h<l.length&&h<u.length;h++){const d=de(l[h],u[h]);if(d!==0)return d}return de(l.length,u.length)}(t.referenceValue,e.referenceValue);case 8:return function(o,s){const l=de(be(o.latitude),be(s.latitude));return l!==0?l:de(be(o.longitude),be(s.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return Jp(t.arrayValue,e.arrayValue);case 10:return function(o,s){var l,u,h,d;const p=o.fields||{},m=s.fields||{},E=(l=p.value)===null||l===void 0?void 0:l.arrayValue,v=(u=m.value)===null||u===void 0?void 0:u.arrayValue,C=de(((h=E==null?void 0:E.values)===null||h===void 0?void 0:h.length)||0,((d=v==null?void 0:v.values)===null||d===void 0?void 0:d.length)||0);return C!==0?C:Jp(E,v)}(t.mapValue,e.mapValue);case 11:return function(o,s){if(o===Js.mapValue&&s===Js.mapValue)return 0;if(o===Js.mapValue)return 1;if(s===Js.mapValue)return-1;const l=o.fields||{},u=Object.keys(l),h=s.fields||{},d=Object.keys(h);u.sort(),d.sort();for(let p=0;p<u.length&&p<d.length;++p){const m=de(u[p],d[p]);if(m!==0)return m;const E=ki(l[u[p]],h[d[p]]);if(E!==0)return E}return de(u.length,d.length)}(t.mapValue,e.mapValue);default:throw ie()}}function Xp(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return de(t,e);const n=or(t),r=or(e),i=de(n.seconds,r.seconds);return i!==0?i:de(n.nanos,r.nanos)}function Jp(t,e){const n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){const o=ki(n[i],r[i]);if(o)return o}return de(n.length,r.length)}function Ni(t){return jc(t)}function jc(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=or(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return sr(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return te.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(const o of n.values||[])i?i=!1:r+=",",r+=jc(o);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let i="{",o=!0;for(const s of r)o?o=!1:i+=",",i+=`${s}:${jc(n.fields[s])}`;return i+"}"}(t.mapValue):ie()}function pa(t){switch(ar(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Al(t);return e?16+pa(e):16;case 5:return 2*t.stringValue.length;case 6:return sr(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((i,o)=>i+pa(o),0)}(t.arrayValue);case 10:case 11:return function(r){let i=0;return Fr(r.fields,(o,s)=>{i+=o.length+pa(s)}),i}(t.mapValue);default:throw ie()}}function Fc(t){return!!t&&"integerValue"in t}function Jh(t){return!!t&&"arrayValue"in t}function Zp(t){return!!t&&"nullValue"in t}function em(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function ma(t){return!!t&&"mapValue"in t}function JS(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="__vector__"}function ko(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return Fr(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=ko(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=ko(t.arrayValue.values[n]);return e}return Object.assign({},t)}function ZS(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bt{constructor(e){this.value=e}static empty(){return new Bt({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!ma(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=ko(n)}setAll(e){let n=tt.emptyPath(),r={},i=[];e.forEach((s,l)=>{if(!n.isImmediateParentOf(l)){const u=this.getFieldsMap(n);this.applyChanges(u,r,i),r={},i=[],n=l.popLast()}s?r[l.lastSegment()]=ko(s):i.push(l.lastSegment())});const o=this.getFieldsMap(n);this.applyChanges(o,r,i)}delete(e){const n=this.field(e.popLast());ma(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return cn(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];ma(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){Fr(n,(i,o)=>e[i]=o);for(const i of r)delete e[i]}clone(){return new Bt(ko(this.value))}}function Nv(t){const e=[];return Fr(t.fields,(n,r)=>{const i=new tt([n]);if(ma(r)){const o=Nv(r.mapValue).fields;if(o.length===0)e.push(i);else for(const s of o)e.push(i.child(s))}else e.push(i)}),new Xt(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ft{constructor(e,n,r,i,o,s,l){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=o,this.data=s,this.documentState=l}static newInvalidDocument(e){return new ft(e,0,oe.min(),oe.min(),oe.min(),Bt.empty(),0)}static newFoundDocument(e,n,r,i){return new ft(e,1,n,oe.min(),r,i,0)}static newNoDocument(e,n){return new ft(e,2,n,oe.min(),oe.min(),Bt.empty(),0)}static newUnknownDocument(e,n){return new ft(e,3,n,oe.min(),oe.min(),Bt.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(oe.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Bt.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Bt.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=oe.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof ft&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new ft(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ga{constructor(e,n){this.position=e,this.inclusive=n}}function tm(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const o=e[i],s=t.position[i];if(o.field.isKeyField()?r=te.comparator(te.fromName(s.referenceValue),n.key):r=ki(s,n.data.field(o.field)),o.dir==="desc"&&(r*=-1),r!==0)break}return r}function nm(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!cn(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ya{constructor(e,n="asc"){this.field=e,this.dir=n}}function eI(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dv{}class We extends Dv{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new nI(e,n,r):n==="array-contains"?new oI(e,r):n==="in"?new sI(e,r):n==="not-in"?new aI(e,r):n==="array-contains-any"?new lI(e,r):new We(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new rI(e,r):new iI(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(ki(n,this.value)):n!==null&&ar(this.value)===ar(n)&&this.matchesComparison(ki(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return ie()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class hn extends Dv{constructor(e,n){super(),this.filters=e,this.op=n,this.ae=null}static create(e,n){return new hn(e,n)}matches(e){return Vv(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function Vv(t){return t.op==="and"}function Ov(t){return tI(t)&&Vv(t)}function tI(t){for(const e of t.filters)if(e instanceof hn)return!1;return!0}function Uc(t){if(t instanceof We)return t.field.canonicalString()+t.op.toString()+Ni(t.value);if(Ov(t))return t.filters.map(e=>Uc(e)).join(",");{const e=t.filters.map(n=>Uc(n)).join(",");return`${t.op}(${e})`}}function bv(t,e){return t instanceof We?function(r,i){return i instanceof We&&r.op===i.op&&r.field.isEqual(i.field)&&cn(r.value,i.value)}(t,e):t instanceof hn?function(r,i){return i instanceof hn&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((o,s,l)=>o&&bv(s,i.filters[l]),!0):!1}(t,e):void ie()}function Mv(t){return t instanceof We?function(n){return`${n.field.canonicalString()} ${n.op} ${Ni(n.value)}`}(t):t instanceof hn?function(n){return n.op.toString()+" {"+n.getFilters().map(Mv).join(" ,")+"}"}(t):"Filter"}class nI extends We{constructor(e,n,r){super(e,n,r),this.key=te.fromName(r.referenceValue)}matches(e){const n=te.comparator(e.key,this.key);return this.matchesComparison(n)}}class rI extends We{constructor(e,n){super(e,"in",n),this.keys=Lv("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class iI extends We{constructor(e,n){super(e,"not-in",n),this.keys=Lv("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function Lv(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>te.fromName(r.referenceValue))}class oI extends We{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Jh(n)&&os(n.arrayValue,this.value)}}class sI extends We{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&os(this.value.arrayValue,n)}}class aI extends We{constructor(e,n){super(e,"not-in",n)}matches(e){if(os(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!os(this.value.arrayValue,n)}}class lI extends We{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Jh(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>os(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uI{constructor(e,n=null,r=[],i=[],o=null,s=null,l=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=o,this.startAt=s,this.endAt=l,this.ue=null}}function rm(t,e=null,n=[],r=[],i=null,o=null,s=null){return new uI(t,e,n,r,i,o,s)}function Zh(t){const e=ae(t);if(e.ue===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>Uc(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(o){return o.field.canonicalString()+o.dir}(r)).join(","),Pl(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>Ni(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>Ni(r)).join(",")),e.ue=n}return e.ue}function ef(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!eI(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!bv(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!nm(t.startAt,e.startAt)&&nm(t.endAt,e.endAt)}function Bc(t){return te.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rl{constructor(e,n=null,r=[],i=[],o=null,s="F",l=null,u=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=o,this.limitType=s,this.startAt=l,this.endAt=u,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function cI(t,e,n,r,i,o,s,l){return new Rl(t,e,n,r,i,o,s,l)}function jv(t){return new Rl(t)}function im(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function hI(t){return t.collectionGroup!==null}function No(t){const e=ae(t);if(e.ce===null){e.ce=[];const n=new Set;for(const o of e.explicitOrderBy)e.ce.push(o),n.add(o.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(s){let l=new Xe(tt.comparator);return s.filters.forEach(u=>{u.getFlattenedFilters().forEach(h=>{h.isInequality()&&(l=l.add(h.field))})}),l})(e).forEach(o=>{n.has(o.canonicalString())||o.isKeyField()||e.ce.push(new Ya(o,r))}),n.has(tt.keyField().canonicalString())||e.ce.push(new Ya(tt.keyField(),r))}return e.ce}function ln(t){const e=ae(t);return e.le||(e.le=fI(e,No(t))),e.le}function fI(t,e){if(t.limitType==="F")return rm(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{const o=i.dir==="desc"?"asc":"desc";return new Ya(i.field,o)});const n=t.endAt?new Ga(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new Ga(t.startAt.position,t.startAt.inclusive):null;return rm(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function zc(t,e,n){return new Rl(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function xl(t,e){return ef(ln(t),ln(e))&&t.limitType===e.limitType}function Fv(t){return`${Zh(ln(t))}|lt:${t.limitType}`}function Jr(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>Mv(i)).join(", ")}]`),Pl(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(s){return`${s.field.canonicalString()} (${s.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>Ni(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>Ni(i)).join(",")),`Target(${r})`}(ln(t))}; limitType=${t.limitType})`}function kl(t,e){return e.isFoundDocument()&&function(r,i){const o=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(o):te.isDocumentKey(r.path)?r.path.isEqual(o):r.path.isImmediateParentOf(o)}(t,e)&&function(r,i){for(const o of No(r))if(!o.field.isKeyField()&&i.data.field(o.field)===null)return!1;return!0}(t,e)&&function(r,i){for(const o of r.filters)if(!o.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(s,l,u){const h=tm(s,l,u);return s.inclusive?h<=0:h<0}(r.startAt,No(r),i)||r.endAt&&!function(s,l,u){const h=tm(s,l,u);return s.inclusive?h>=0:h>0}(r.endAt,No(r),i))}(t,e)}function dI(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function Uv(t){return(e,n)=>{let r=!1;for(const i of No(t)){const o=pI(i,e,n);if(o!==0)return o;r=r||i.field.isKeyField()}return 0}}function pI(t,e,n){const r=t.field.isKeyField()?te.comparator(e.key,n.key):function(o,s,l){const u=s.data.field(o),h=l.data.field(o);return u!==null&&h!==null?ki(u,h):ie()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return ie()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ur{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,o]of r)if(this.equalsFn(i,e))return o}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return void(i[o]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Fr(this.inner,(n,r)=>{for(const[i,o]of r)e(i,o)})}isEmpty(){return xv(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mI=new De(te.comparator);function Pn(){return mI}const Bv=new De(te.comparator);function _o(...t){let e=Bv;for(const n of t)e=e.insert(n.key,n);return e}function zv(t){let e=Bv;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function Cr(){return Do()}function $v(){return Do()}function Do(){return new Ur(t=>t.toString(),(t,e)=>t.isEqual(e))}const gI=new De(te.comparator),yI=new Xe(te.comparator);function ue(...t){let e=yI;for(const n of t)e=e.add(n);return e}const vI=new Xe(de);function _I(){return vI}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tf(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Qa(e)?"-0":e}}function Wv(t){return{integerValue:""+t}}function wI(t,e){return KS(e)?Wv(e):tf(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nl{constructor(){this._=void 0}}function EI(t,e,n){return t instanceof Xa?function(i,o){const s={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return o&&Xh(o)&&(o=Al(o)),o&&(s.fields.__previous_value__=o),{mapValue:s}}(n,e):t instanceof ss?Hv(t,e):t instanceof as?Kv(t,e):function(i,o){const s=qv(i,o),l=om(s)+om(i.Pe);return Fc(s)&&Fc(i.Pe)?Wv(l):tf(i.serializer,l)}(t,e)}function TI(t,e,n){return t instanceof ss?Hv(t,e):t instanceof as?Kv(t,e):n}function qv(t,e){return t instanceof Ja?function(r){return Fc(r)||function(o){return!!o&&"doubleValue"in o}(r)}(e)?e:{integerValue:0}:null}class Xa extends Nl{}class ss extends Nl{constructor(e){super(),this.elements=e}}function Hv(t,e){const n=Qv(e);for(const r of t.elements)n.some(i=>cn(i,r))||n.push(r);return{arrayValue:{values:n}}}class as extends Nl{constructor(e){super(),this.elements=e}}function Kv(t,e){let n=Qv(e);for(const r of t.elements)n=n.filter(i=>!cn(i,r));return{arrayValue:{values:n}}}class Ja extends Nl{constructor(e,n){super(),this.serializer=e,this.Pe=n}}function om(t){return be(t.integerValue||t.doubleValue)}function Qv(t){return Jh(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function SI(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof ss&&i instanceof ss||r instanceof as&&i instanceof as?xi(r.elements,i.elements,cn):r instanceof Ja&&i instanceof Ja?cn(r.Pe,i.Pe):r instanceof Xa&&i instanceof Xa}(t.transform,e.transform)}class II{constructor(e,n){this.version=e,this.transformResults=n}}class _n{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new _n}static exists(e){return new _n(void 0,e)}static updateTime(e){return new _n(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function ga(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Dl{}function Gv(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new Xv(t.key,_n.none()):new ps(t.key,t.data,_n.none());{const n=t.data,r=Bt.empty();let i=new Xe(tt.comparator);for(let o of e.fields)if(!i.has(o)){let s=n.field(o);s===null&&o.length>1&&(o=o.popLast(),s=n.field(o)),s===null?r.delete(o):r.set(o,s),i=i.add(o)}return new Br(t.key,r,new Xt(i.toArray()),_n.none())}}function CI(t,e,n){t instanceof ps?function(i,o,s){const l=i.value.clone(),u=am(i.fieldTransforms,o,s.transformResults);l.setAll(u),o.convertToFoundDocument(s.version,l).setHasCommittedMutations()}(t,e,n):t instanceof Br?function(i,o,s){if(!ga(i.precondition,o))return void o.convertToUnknownDocument(s.version);const l=am(i.fieldTransforms,o,s.transformResults),u=o.data;u.setAll(Yv(i)),u.setAll(l),o.convertToFoundDocument(s.version,u).setHasCommittedMutations()}(t,e,n):function(i,o,s){o.convertToNoDocument(s.version).setHasCommittedMutations()}(0,e,n)}function Vo(t,e,n,r){return t instanceof ps?function(o,s,l,u){if(!ga(o.precondition,s))return l;const h=o.value.clone(),d=lm(o.fieldTransforms,u,s);return h.setAll(d),s.convertToFoundDocument(s.version,h).setHasLocalMutations(),null}(t,e,n,r):t instanceof Br?function(o,s,l,u){if(!ga(o.precondition,s))return l;const h=lm(o.fieldTransforms,u,s),d=s.data;return d.setAll(Yv(o)),d.setAll(h),s.convertToFoundDocument(s.version,d).setHasLocalMutations(),l===null?null:l.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(p=>p.field))}(t,e,n,r):function(o,s,l){return ga(o.precondition,s)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):l}(t,e,n)}function PI(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),o=qv(r.transform,i||null);o!=null&&(n===null&&(n=Bt.empty()),n.set(r.field,o))}return n||null}function sm(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&xi(r,i,(o,s)=>SI(o,s))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class ps extends Dl{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class Br extends Dl{constructor(e,n,r,i,o=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}function Yv(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function am(t,e,n){const r=new Map;ve(t.length===n.length);for(let i=0;i<n.length;i++){const o=t[i],s=o.transform,l=e.data.field(o.field);r.set(o.field,TI(s,l,n[i]))}return r}function lm(t,e,n){const r=new Map;for(const i of t){const o=i.transform,s=n.data.field(i.field);r.set(i.field,EI(o,s,e))}return r}class Xv extends Dl{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class AI extends Dl{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RI{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const o=this.mutations[i];o.key.isEqual(e.key)&&CI(o,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=Vo(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=Vo(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=$v();return this.mutations.forEach(i=>{const o=e.get(i.key),s=o.overlayedDocument;let l=this.applyToLocalView(s,o.mutatedFields);l=n.has(i.key)?null:l;const u=Gv(s,l);u!==null&&r.set(i.key,u),s.isValidDocument()||s.convertToNoDocument(oe.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),ue())}isEqual(e){return this.batchId===e.batchId&&xi(this.mutations,e.mutations,(n,r)=>sm(n,r))&&xi(this.baseMutations,e.baseMutations,(n,r)=>sm(n,r))}}class nf{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){ve(e.mutations.length===r.length);let i=function(){return gI}();const o=e.mutations;for(let s=0;s<o.length;s++)i=i.insert(o[s].key,r[s].version);return new nf(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xI{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kI{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var je,he;function NI(t){switch(t){default:return ie();case z.CANCELLED:case z.UNKNOWN:case z.DEADLINE_EXCEEDED:case z.RESOURCE_EXHAUSTED:case z.INTERNAL:case z.UNAVAILABLE:case z.UNAUTHENTICATED:return!1;case z.INVALID_ARGUMENT:case z.NOT_FOUND:case z.ALREADY_EXISTS:case z.PERMISSION_DENIED:case z.FAILED_PRECONDITION:case z.ABORTED:case z.OUT_OF_RANGE:case z.UNIMPLEMENTED:case z.DATA_LOSS:return!0}}function Jv(t){if(t===void 0)return Cn("GRPC error has no .code"),z.UNKNOWN;switch(t){case je.OK:return z.OK;case je.CANCELLED:return z.CANCELLED;case je.UNKNOWN:return z.UNKNOWN;case je.DEADLINE_EXCEEDED:return z.DEADLINE_EXCEEDED;case je.RESOURCE_EXHAUSTED:return z.RESOURCE_EXHAUSTED;case je.INTERNAL:return z.INTERNAL;case je.UNAVAILABLE:return z.UNAVAILABLE;case je.UNAUTHENTICATED:return z.UNAUTHENTICATED;case je.INVALID_ARGUMENT:return z.INVALID_ARGUMENT;case je.NOT_FOUND:return z.NOT_FOUND;case je.ALREADY_EXISTS:return z.ALREADY_EXISTS;case je.PERMISSION_DENIED:return z.PERMISSION_DENIED;case je.FAILED_PRECONDITION:return z.FAILED_PRECONDITION;case je.ABORTED:return z.ABORTED;case je.OUT_OF_RANGE:return z.OUT_OF_RANGE;case je.UNIMPLEMENTED:return z.UNIMPLEMENTED;case je.DATA_LOSS:return z.DATA_LOSS;default:return ie()}}(he=je||(je={}))[he.OK=0]="OK",he[he.CANCELLED=1]="CANCELLED",he[he.UNKNOWN=2]="UNKNOWN",he[he.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",he[he.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",he[he.NOT_FOUND=5]="NOT_FOUND",he[he.ALREADY_EXISTS=6]="ALREADY_EXISTS",he[he.PERMISSION_DENIED=7]="PERMISSION_DENIED",he[he.UNAUTHENTICATED=16]="UNAUTHENTICATED",he[he.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",he[he.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",he[he.ABORTED=10]="ABORTED",he[he.OUT_OF_RANGE=11]="OUT_OF_RANGE",he[he.UNIMPLEMENTED=12]="UNIMPLEMENTED",he[he.INTERNAL=13]="INTERNAL",he[he.UNAVAILABLE=14]="UNAVAILABLE",he[he.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DI(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VI=new Rr([4294967295,4294967295],0);function um(t){const e=DI().encode(t),n=new Ev;return n.update(e),new Uint8Array(n.digest())}function cm(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new Rr([n,r],0),new Rr([i,o],0)]}class rf{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new wo(`Invalid padding: ${n}`);if(r<0)throw new wo(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new wo(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new wo(`Invalid padding when bitmap length is 0: ${n}`);this.Ie=8*e.length-n,this.Te=Rr.fromNumber(this.Ie)}Ee(e,n,r){let i=e.add(n.multiply(Rr.fromNumber(r)));return i.compare(VI)===1&&(i=new Rr([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Te).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Ie===0)return!1;const n=um(e),[r,i]=cm(n);for(let o=0;o<this.hashCount;o++){const s=this.Ee(r,i,o);if(!this.de(s))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),s=new rf(o,i,n);return r.forEach(l=>s.insert(l)),s}insert(e){if(this.Ie===0)return;const n=um(e),[r,i]=cm(n);for(let o=0;o<this.hashCount;o++){const s=this.Ee(r,i,o);this.Ae(s)}}Ae(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class wo extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vl{constructor(e,n,r,i,o){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,ms.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new Vl(oe.min(),i,new De(de),Pn(),ue())}}class ms{constructor(e,n,r,i,o){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new ms(r,n,ue(),ue(),ue())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ya{constructor(e,n,r,i){this.Re=e,this.removedTargetIds=n,this.key=r,this.Ve=i}}class Zv{constructor(e,n){this.targetId=e,this.me=n}}class e0{constructor(e,n,r=it.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class hm{constructor(){this.fe=0,this.ge=dm(),this.pe=it.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=ue(),n=ue(),r=ue();return this.ge.forEach((i,o)=>{switch(o){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:ie()}}),new ms(this.pe,this.ye,e,n,r)}Ce(){this.we=!1,this.ge=dm()}Fe(e,n){this.we=!0,this.ge=this.ge.insert(e,n)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,ve(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class OI{constructor(e){this.Le=e,this.Be=new Map,this.ke=Pn(),this.qe=fm(),this.Qe=new De(de)}Ke(e){for(const n of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(n,e.Ve):this.Ue(n,e.key,e.Ve);for(const n of e.removedTargetIds)this.Ue(n,e.key,e.Ve)}We(e){this.forEachTarget(e,n=>{const r=this.Ge(n);switch(e.state){case 0:this.ze(n)&&r.De(e.resumeToken);break;case 1:r.Oe(),r.Se||r.Ce(),r.De(e.resumeToken);break;case 2:r.Oe(),r.Se||this.removeTarget(n);break;case 3:this.ze(n)&&(r.Ne(),r.De(e.resumeToken));break;case 4:this.ze(n)&&(this.je(n),r.De(e.resumeToken));break;default:ie()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Be.forEach((r,i)=>{this.ze(i)&&n(i)})}He(e){const n=e.targetId,r=e.me.count,i=this.Je(n);if(i){const o=i.target;if(Bc(o))if(r===0){const s=new te(o.path);this.Ue(n,s,ft.newNoDocument(s,oe.min()))}else ve(r===1);else{const s=this.Ye(n);if(s!==r){const l=this.Ze(e),u=l?this.Xe(l,e,s):1;if(u!==0){this.je(n);const h=u===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(n,h)}}}}}Ze(e){const n=e.me.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:o=0}=n;let s,l;try{s=sr(r).toUint8Array()}catch(u){if(u instanceof kv)return Ri("Decoding the base64 bloom filter in existence filter failed ("+u.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw u}try{l=new rf(s,i,o)}catch(u){return Ri(u instanceof wo?"BloomFilter error: ":"Applying bloom filter failed: ",u),null}return l.Ie===0?null:l}Xe(e,n,r){return n.me.count===r-this.nt(e,n.targetId)?0:2}nt(e,n){const r=this.Le.getRemoteKeysForTarget(n);let i=0;return r.forEach(o=>{const s=this.Le.tt(),l=`projects/${s.projectId}/databases/${s.database}/documents/${o.path.canonicalString()}`;e.mightContain(l)||(this.Ue(n,o,null),i++)}),i}rt(e){const n=new Map;this.Be.forEach((o,s)=>{const l=this.Je(s);if(l){if(o.current&&Bc(l.target)){const u=new te(l.target.path);this.ke.get(u)!==null||this.it(s,u)||this.Ue(s,u,ft.newNoDocument(u,e))}o.be&&(n.set(s,o.ve()),o.Ce())}});let r=ue();this.qe.forEach((o,s)=>{let l=!0;s.forEachWhile(u=>{const h=this.Je(u);return!h||h.purpose==="TargetPurposeLimboResolution"||(l=!1,!1)}),l&&(r=r.add(o))}),this.ke.forEach((o,s)=>s.setReadTime(e));const i=new Vl(e,n,this.Qe,this.ke,r);return this.ke=Pn(),this.qe=fm(),this.Qe=new De(de),i}$e(e,n){if(!this.ze(e))return;const r=this.it(e,n.key)?2:0;this.Ge(e).Fe(n.key,r),this.ke=this.ke.insert(n.key,n),this.qe=this.qe.insert(n.key,this.st(n.key).add(e))}Ue(e,n,r){if(!this.ze(e))return;const i=this.Ge(e);this.it(e,n)?i.Fe(n,1):i.Me(n),this.qe=this.qe.insert(n,this.st(n).delete(e)),r&&(this.ke=this.ke.insert(n,r))}removeTarget(e){this.Be.delete(e)}Ye(e){const n=this.Ge(e).ve();return this.Le.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let n=this.Be.get(e);return n||(n=new hm,this.Be.set(e,n)),n}st(e){let n=this.qe.get(e);return n||(n=new Xe(de),this.qe=this.qe.insert(e,n)),n}ze(e){const n=this.Je(e)!==null;return n||G("WatchChangeAggregator","Detected inactive target",e),n}Je(e){const n=this.Be.get(e);return n&&n.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new hm),this.Le.getRemoteKeysForTarget(e).forEach(n=>{this.Ue(e,n,null)})}it(e,n){return this.Le.getRemoteKeysForTarget(e).has(n)}}function fm(){return new De(te.comparator)}function dm(){return new De(te.comparator)}const bI={asc:"ASCENDING",desc:"DESCENDING"},MI={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},LI={and:"AND",or:"OR"};class jI{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function $c(t,e){return t.useProto3Json||Pl(e)?e:{value:e}}function Za(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function t0(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function FI(t,e){return Za(t,e.toTimestamp())}function un(t){return ve(!!t),oe.fromTimestamp(function(n){const r=or(n);return new He(r.seconds,r.nanos)}(t))}function of(t,e){return Wc(t,e).canonicalString()}function Wc(t,e){const n=function(i){return new Ae(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?n:n.child(e)}function n0(t){const e=Ae.fromString(t);return ve(a0(e)),e}function qc(t,e){return of(t.databaseId,e.path)}function Du(t,e){const n=n0(e);if(n.get(1)!==t.databaseId.projectId)throw new ee(z.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new ee(z.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new te(i0(n))}function r0(t,e){return of(t.databaseId,e)}function UI(t){const e=n0(t);return e.length===4?Ae.emptyPath():i0(e)}function Hc(t){return new Ae(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function i0(t){return ve(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function pm(t,e,n){return{name:qc(t,e),fields:n.value.mapValue.fields}}function BI(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(h){return h==="NO_CHANGE"?0:h==="ADD"?1:h==="REMOVE"?2:h==="CURRENT"?3:h==="RESET"?4:ie()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],o=function(h,d){return h.useProto3Json?(ve(d===void 0||typeof d=="string"),it.fromBase64String(d||"")):(ve(d===void 0||d instanceof Buffer||d instanceof Uint8Array),it.fromUint8Array(d||new Uint8Array))}(t,e.targetChange.resumeToken),s=e.targetChange.cause,l=s&&function(h){const d=h.code===void 0?z.UNKNOWN:Jv(h.code);return new ee(d,h.message||"")}(s);n=new e0(r,i,o,l||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=Du(t,r.document.name),o=un(r.document.updateTime),s=r.document.createTime?un(r.document.createTime):oe.min(),l=new Bt({mapValue:{fields:r.document.fields}}),u=ft.newFoundDocument(i,o,s,l),h=r.targetIds||[],d=r.removedTargetIds||[];n=new ya(h,d,u.key,u)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=Du(t,r.document),o=r.readTime?un(r.readTime):oe.min(),s=ft.newNoDocument(i,o),l=r.removedTargetIds||[];n=new ya([],l,s.key,s)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=Du(t,r.document),o=r.removedTargetIds||[];n=new ya([],o,i,null)}else{if(!("filter"in e))return ie();{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:o}=r,s=new kI(i,o),l=r.targetId;n=new Zv(l,s)}}return n}function zI(t,e){let n;if(e instanceof ps)n={update:pm(t,e.key,e.value)};else if(e instanceof Xv)n={delete:qc(t,e.key)};else if(e instanceof Br)n={update:pm(t,e.key,e.data),updateMask:XI(e.fieldMask)};else{if(!(e instanceof AI))return ie();n={verify:qc(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(o,s){const l=s.transform;if(l instanceof Xa)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(l instanceof ss)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:l.elements}};if(l instanceof as)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:l.elements}};if(l instanceof Ja)return{fieldPath:s.field.canonicalString(),increment:l.Pe};throw ie()}(0,r))),e.precondition.isNone||(n.currentDocument=function(i,o){return o.updateTime!==void 0?{updateTime:FI(i,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:ie()}(t,e.precondition)),n}function $I(t,e){return t&&t.length>0?(ve(e!==void 0),t.map(n=>function(i,o){let s=i.updateTime?un(i.updateTime):un(o);return s.isEqual(oe.min())&&(s=un(o)),new II(s,i.transformResults||[])}(n,e))):[]}function WI(t,e){return{documents:[r0(t,e.path)]}}function qI(t,e){const n={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=r0(t,i);const o=function(h){if(h.length!==0)return s0(hn.create(h,"and"))}(e.filters);o&&(n.structuredQuery.where=o);const s=function(h){if(h.length!==0)return h.map(d=>function(m){return{field:Zr(m.field),direction:QI(m.dir)}}(d))}(e.orderBy);s&&(n.structuredQuery.orderBy=s);const l=$c(t,e.limit);return l!==null&&(n.structuredQuery.limit=l),e.startAt&&(n.structuredQuery.startAt=function(h){return{before:h.inclusive,values:h.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(h){return{before:!h.inclusive,values:h.position}}(e.endAt)),{_t:n,parent:i}}function HI(t){let e=UI(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){ve(r===1);const d=n.from[0];d.allDescendants?i=d.collectionId:e=e.child(d.collectionId)}let o=[];n.where&&(o=function(p){const m=o0(p);return m instanceof hn&&Ov(m)?m.getFilters():[m]}(n.where));let s=[];n.orderBy&&(s=function(p){return p.map(m=>function(v){return new Ya(ei(v.field),function(R){switch(R){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(v.direction))}(m))}(n.orderBy));let l=null;n.limit&&(l=function(p){let m;return m=typeof p=="object"?p.value:p,Pl(m)?null:m}(n.limit));let u=null;n.startAt&&(u=function(p){const m=!!p.before,E=p.values||[];return new Ga(E,m)}(n.startAt));let h=null;return n.endAt&&(h=function(p){const m=!p.before,E=p.values||[];return new Ga(E,m)}(n.endAt)),cI(e,i,s,o,l,"F",u,h)}function KI(t,e){const n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return ie()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function o0(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=ei(n.unaryFilter.field);return We.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=ei(n.unaryFilter.field);return We.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const o=ei(n.unaryFilter.field);return We.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const s=ei(n.unaryFilter.field);return We.create(s,"!=",{nullValue:"NULL_VALUE"});default:return ie()}}(t):t.fieldFilter!==void 0?function(n){return We.create(ei(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return ie()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return hn.create(n.compositeFilter.filters.map(r=>o0(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return ie()}}(n.compositeFilter.op))}(t):ie()}function QI(t){return bI[t]}function GI(t){return MI[t]}function YI(t){return LI[t]}function Zr(t){return{fieldPath:t.canonicalString()}}function ei(t){return tt.fromServerFormat(t.fieldPath)}function s0(t){return t instanceof We?function(n){if(n.op==="=="){if(em(n.value))return{unaryFilter:{field:Zr(n.field),op:"IS_NAN"}};if(Zp(n.value))return{unaryFilter:{field:Zr(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(em(n.value))return{unaryFilter:{field:Zr(n.field),op:"IS_NOT_NAN"}};if(Zp(n.value))return{unaryFilter:{field:Zr(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Zr(n.field),op:GI(n.op),value:n.value}}}(t):t instanceof hn?function(n){const r=n.getFilters().map(i=>s0(i));return r.length===1?r[0]:{compositeFilter:{op:YI(n.op),filters:r}}}(t):ie()}function XI(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function a0(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bn{constructor(e,n,r,i,o=oe.min(),s=oe.min(),l=it.EMPTY_BYTE_STRING,u=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=l,this.expectedCount=u}withSequenceNumber(e){return new Bn(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Bn(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Bn(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Bn(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JI{constructor(e){this.ct=e}}function ZI(t){const e=HI({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?zc(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eC{constructor(){this.un=new tC}addToCollectionParentIndex(e,n){return this.un.add(n),U.resolve()}getCollectionParents(e,n){return U.resolve(this.un.getEntries(n))}addFieldIndex(e,n){return U.resolve()}deleteFieldIndex(e,n){return U.resolve()}deleteAllFieldIndexes(e){return U.resolve()}createTargetIndexes(e,n){return U.resolve()}getDocumentsMatchingTarget(e,n){return U.resolve(null)}getIndexType(e,n){return U.resolve(0)}getFieldIndexes(e,n){return U.resolve([])}getNextCollectionGroupToUpdate(e){return U.resolve(null)}getMinOffset(e,n){return U.resolve(ir.min())}getMinOffsetFromCollectionGroup(e,n){return U.resolve(ir.min())}updateCollectionGroup(e,n,r){return U.resolve()}updateIndexEntries(e,n){return U.resolve()}}class tC{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new Xe(Ae.comparator),o=!i.has(r);return this.index[n]=i.add(r),o}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new Xe(Ae.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mm={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class Ct{constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new Ct(e,Ct.DEFAULT_COLLECTION_PERCENTILE,Ct.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Ct.DEFAULT_COLLECTION_PERCENTILE=10,Ct.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Ct.DEFAULT=new Ct(41943040,Ct.DEFAULT_COLLECTION_PERCENTILE,Ct.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Ct.DISABLED=new Ct(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Di{constructor(e){this.Ln=e}next(){return this.Ln+=2,this.Ln}static Bn(){return new Di(0)}static kn(){return new Di(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gm([t,e],[n,r]){const i=de(t,n);return i===0?de(e,r):i}class nC{constructor(e){this.Un=e,this.buffer=new Xe(gm),this.Wn=0}Gn(){return++this.Wn}zn(e){const n=[e,this.Gn()];if(this.buffer.size<this.Un)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();gm(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class rC{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.jn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Hn(6e4)}stop(){this.jn&&(this.jn.cancel(),this.jn=null)}get started(){return this.jn!==null}Hn(e){G("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.jn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.jn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){zi(n)?G("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",n):await Bi(n)}await this.Hn(3e5)})}}class iC{constructor(e,n){this.Jn=e,this.params=n}calculateTargetCount(e,n){return this.Jn.Yn(e).next(r=>Math.floor(n/100*r))}nthSequenceNumber(e,n){if(n===0)return U.resolve(Cl.oe);const r=new nC(n);return this.Jn.forEachTarget(e,i=>r.zn(i.sequenceNumber)).next(()=>this.Jn.Zn(e,i=>r.zn(i))).next(()=>r.maxValue)}removeTargets(e,n,r){return this.Jn.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.Jn.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(G("LruGarbageCollector","Garbage collection skipped; disabled"),U.resolve(mm)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(G("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),mm):this.Xn(e,n))}getCacheSize(e){return this.Jn.getCacheSize(e)}Xn(e,n){let r,i,o,s,l,u,h;const d=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(p=>(p>this.params.maximumSequenceNumbersToCollect?(G("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${p}`),i=this.params.maximumSequenceNumbersToCollect):i=p,s=Date.now(),this.nthSequenceNumber(e,i))).next(p=>(r=p,l=Date.now(),this.removeTargets(e,r,n))).next(p=>(o=p,u=Date.now(),this.removeOrphanedDocuments(e,r))).next(p=>(h=Date.now(),Xr()<=fe.DEBUG&&G("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${s-d}ms
	Determined least recently used ${i} in `+(l-s)+`ms
	Removed ${o} targets in `+(u-l)+`ms
	Removed ${p} documents in `+(h-u)+`ms
Total Duration: ${h-d}ms`),U.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:o,documentsRemoved:p})))}}function oC(t,e){return new iC(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sC{constructor(){this.changes=new Ur(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,ft.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?U.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aC{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lC{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&Vo(r.mutation,i,Xt.empty(),He.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,ue()).next(()=>r))}getLocalViewOfDocuments(e,n,r=ue()){const i=Cr();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(o=>{let s=_o();return o.forEach((l,u)=>{s=s.insert(l,u.overlayedDocument)}),s}))}getOverlayedDocuments(e,n){const r=Cr();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,ue()))}populateOverlays(e,n,r){const i=[];return r.forEach(o=>{n.has(o)||i.push(o)}),this.documentOverlayCache.getOverlays(e,i).next(o=>{o.forEach((s,l)=>{n.set(s,l)})})}computeViews(e,n,r,i){let o=Pn();const s=Do(),l=function(){return Do()}();return n.forEach((u,h)=>{const d=r.get(h.key);i.has(h.key)&&(d===void 0||d.mutation instanceof Br)?o=o.insert(h.key,h):d!==void 0?(s.set(h.key,d.mutation.getFieldMask()),Vo(d.mutation,h,d.mutation.getFieldMask(),He.now())):s.set(h.key,Xt.empty())}),this.recalculateAndSaveOverlays(e,o).next(u=>(u.forEach((h,d)=>s.set(h,d)),n.forEach((h,d)=>{var p;return l.set(h,new aC(d,(p=s.get(h))!==null&&p!==void 0?p:null))}),l))}recalculateAndSaveOverlays(e,n){const r=Do();let i=new De((s,l)=>s-l),o=ue();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(s=>{for(const l of s)l.keys().forEach(u=>{const h=n.get(u);if(h===null)return;let d=r.get(u)||Xt.empty();d=l.applyToLocalView(h,d),r.set(u,d);const p=(i.get(l.batchId)||ue()).add(u);i=i.insert(l.batchId,p)})}).next(()=>{const s=[],l=i.getReverseIterator();for(;l.hasNext();){const u=l.getNext(),h=u.key,d=u.value,p=$v();d.forEach(m=>{if(!o.has(m)){const E=Gv(n.get(m),r.get(m));E!==null&&p.set(m,E),o=o.add(m)}}),s.push(this.documentOverlayCache.saveOverlays(e,h,p))}return U.waitFor(s)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(s){return te.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):hI(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(o=>{const s=i-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-o.size):U.resolve(Cr());let l=-1,u=o;return s.next(h=>U.forEach(h,(d,p)=>(l<p.largestBatchId&&(l=p.largestBatchId),o.get(d)?U.resolve():this.remoteDocumentCache.getEntry(e,d).next(m=>{u=u.insert(d,m)}))).next(()=>this.populateOverlays(e,h,o)).next(()=>this.computeViews(e,u,h,ue())).next(d=>({batchId:l,changes:zv(d)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new te(n)).next(r=>{let i=_o();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const o=n.collectionGroup;let s=_o();return this.indexManager.getCollectionParents(e,o).next(l=>U.forEach(l,u=>{const h=function(p,m){return new Rl(m,null,p.explicitOrderBy.slice(),p.filters.slice(),p.limit,p.limitType,p.startAt,p.endAt)}(n,u.child(o));return this.getDocumentsMatchingCollectionQuery(e,h,r,i).next(d=>{d.forEach((p,m)=>{s=s.insert(p,m)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,n,r,i){let o;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(s=>(o=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,o,i))).next(s=>{o.forEach((u,h)=>{const d=h.getKey();s.get(d)===null&&(s=s.insert(d,ft.newInvalidDocument(d)))});let l=_o();return s.forEach((u,h)=>{const d=o.get(u);d!==void 0&&Vo(d.mutation,h,Xt.empty(),He.now()),kl(n,h)&&(l=l.insert(u,h))}),l})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uC{constructor(e){this.serializer=e,this.hr=new Map,this.Pr=new Map}getBundleMetadata(e,n){return U.resolve(this.hr.get(n))}saveBundleMetadata(e,n){return this.hr.set(n.id,function(i){return{id:i.id,version:i.version,createTime:un(i.createTime)}}(n)),U.resolve()}getNamedQuery(e,n){return U.resolve(this.Pr.get(n))}saveNamedQuery(e,n){return this.Pr.set(n.name,function(i){return{name:i.name,query:ZI(i.bundledQuery),readTime:un(i.readTime)}}(n)),U.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cC{constructor(){this.overlays=new De(te.comparator),this.Ir=new Map}getOverlay(e,n){return U.resolve(this.overlays.get(n))}getOverlays(e,n){const r=Cr();return U.forEach(n,i=>this.getOverlay(e,i).next(o=>{o!==null&&r.set(i,o)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,o)=>{this.ht(e,n,o)}),U.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.Ir.get(r);return i!==void 0&&(i.forEach(o=>this.overlays=this.overlays.remove(o)),this.Ir.delete(r)),U.resolve()}getOverlaysForCollection(e,n,r){const i=Cr(),o=n.length+1,s=new te(n.child("")),l=this.overlays.getIteratorFrom(s);for(;l.hasNext();){const u=l.getNext().value,h=u.getKey();if(!n.isPrefixOf(h.path))break;h.path.length===o&&u.largestBatchId>r&&i.set(u.getKey(),u)}return U.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let o=new De((h,d)=>h-d);const s=this.overlays.getIterator();for(;s.hasNext();){const h=s.getNext().value;if(h.getKey().getCollectionGroup()===n&&h.largestBatchId>r){let d=o.get(h.largestBatchId);d===null&&(d=Cr(),o=o.insert(h.largestBatchId,d)),d.set(h.getKey(),h)}}const l=Cr(),u=o.getIterator();for(;u.hasNext()&&(u.getNext().value.forEach((h,d)=>l.set(h,d)),!(l.size()>=i)););return U.resolve(l)}ht(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const s=this.Ir.get(i.largestBatchId).delete(r.key);this.Ir.set(i.largestBatchId,s)}this.overlays=this.overlays.insert(r.key,new xI(n,r));let o=this.Ir.get(n);o===void 0&&(o=ue(),this.Ir.set(n,o)),this.Ir.set(n,o.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hC{constructor(){this.sessionToken=it.EMPTY_BYTE_STRING}getSessionToken(e){return U.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,U.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sf{constructor(){this.Tr=new Xe(Qe.Er),this.dr=new Xe(Qe.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(e,n){const r=new Qe(e,n);this.Tr=this.Tr.add(r),this.dr=this.dr.add(r)}Rr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Vr(new Qe(e,n))}mr(e,n){e.forEach(r=>this.removeReference(r,n))}gr(e){const n=new te(new Ae([])),r=new Qe(n,e),i=new Qe(n,e+1),o=[];return this.dr.forEachInRange([r,i],s=>{this.Vr(s),o.push(s.key)}),o}pr(){this.Tr.forEach(e=>this.Vr(e))}Vr(e){this.Tr=this.Tr.delete(e),this.dr=this.dr.delete(e)}yr(e){const n=new te(new Ae([])),r=new Qe(n,e),i=new Qe(n,e+1);let o=ue();return this.dr.forEachInRange([r,i],s=>{o=o.add(s.key)}),o}containsKey(e){const n=new Qe(e,0),r=this.Tr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class Qe{constructor(e,n){this.key=e,this.wr=n}static Er(e,n){return te.comparator(e.key,n.key)||de(e.wr,n.wr)}static Ar(e,n){return de(e.wr,n.wr)||te.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fC{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Sr=1,this.br=new Xe(Qe.Er)}checkEmpty(e){return U.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const o=this.Sr;this.Sr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const s=new RI(o,n,r,i);this.mutationQueue.push(s);for(const l of i)this.br=this.br.add(new Qe(l.key,o)),this.indexManager.addToCollectionParentIndex(e,l.key.path.popLast());return U.resolve(s)}lookupMutationBatch(e,n){return U.resolve(this.Dr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.vr(r),o=i<0?0:i;return U.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return U.resolve(this.mutationQueue.length===0?-1:this.Sr-1)}getAllMutationBatches(e){return U.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new Qe(n,0),i=new Qe(n,Number.POSITIVE_INFINITY),o=[];return this.br.forEachInRange([r,i],s=>{const l=this.Dr(s.wr);o.push(l)}),U.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Xe(de);return n.forEach(i=>{const o=new Qe(i,0),s=new Qe(i,Number.POSITIVE_INFINITY);this.br.forEachInRange([o,s],l=>{r=r.add(l.wr)})}),U.resolve(this.Cr(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let o=r;te.isDocumentKey(o)||(o=o.child(""));const s=new Qe(new te(o),0);let l=new Xe(de);return this.br.forEachWhile(u=>{const h=u.key.path;return!!r.isPrefixOf(h)&&(h.length===i&&(l=l.add(u.wr)),!0)},s),U.resolve(this.Cr(l))}Cr(e){const n=[];return e.forEach(r=>{const i=this.Dr(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){ve(this.Fr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.br;return U.forEach(n.mutations,i=>{const o=new Qe(i.key,n.batchId);return r=r.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.br=r})}On(e){}containsKey(e,n){const r=new Qe(n,0),i=this.br.firstAfterOrEqual(r);return U.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,U.resolve()}Fr(e,n){return this.vr(e)}vr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Dr(e){const n=this.vr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dC{constructor(e){this.Mr=e,this.docs=function(){return new De(te.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),o=i?i.size:0,s=this.Mr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:s}),this.size+=s-o,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return U.resolve(r?r.document.mutableCopy():ft.newInvalidDocument(n))}getEntries(e,n){let r=Pn();return n.forEach(i=>{const o=this.docs.get(i);r=r.insert(i,o?o.document.mutableCopy():ft.newInvalidDocument(i))}),U.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let o=Pn();const s=n.path,l=new te(s.child("")),u=this.docs.getIteratorFrom(l);for(;u.hasNext();){const{key:h,value:{document:d}}=u.getNext();if(!s.isPrefixOf(h.path))break;h.path.length>s.length+1||$S(zS(d),r)<=0||(i.has(d.key)||kl(n,d))&&(o=o.insert(d.key,d.mutableCopy()))}return U.resolve(o)}getAllFromCollectionGroup(e,n,r,i){ie()}Or(e,n){return U.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new pC(this)}getSize(e){return U.resolve(this.size)}}class pC extends sC{constructor(e){super(),this.cr=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.cr.addEntry(e,i)):this.cr.removeEntry(r)}),U.waitFor(n)}getFromCache(e,n){return this.cr.getEntry(e,n)}getAllFromCache(e,n){return this.cr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mC{constructor(e){this.persistence=e,this.Nr=new Ur(n=>Zh(n),ef),this.lastRemoteSnapshotVersion=oe.min(),this.highestTargetId=0,this.Lr=0,this.Br=new sf,this.targetCount=0,this.kr=Di.Bn()}forEachTarget(e,n){return this.Nr.forEach((r,i)=>n(i)),U.resolve()}getLastRemoteSnapshotVersion(e){return U.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return U.resolve(this.Lr)}allocateTargetId(e){return this.highestTargetId=this.kr.next(),U.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Lr&&(this.Lr=n),U.resolve()}Kn(e){this.Nr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.kr=new Di(n),this.highestTargetId=n),e.sequenceNumber>this.Lr&&(this.Lr=e.sequenceNumber)}addTargetData(e,n){return this.Kn(n),this.targetCount+=1,U.resolve()}updateTargetData(e,n){return this.Kn(n),U.resolve()}removeTargetData(e,n){return this.Nr.delete(n.target),this.Br.gr(n.targetId),this.targetCount-=1,U.resolve()}removeTargets(e,n,r){let i=0;const o=[];return this.Nr.forEach((s,l)=>{l.sequenceNumber<=n&&r.get(l.targetId)===null&&(this.Nr.delete(s),o.push(this.removeMatchingKeysForTargetId(e,l.targetId)),i++)}),U.waitFor(o).next(()=>i)}getTargetCount(e){return U.resolve(this.targetCount)}getTargetData(e,n){const r=this.Nr.get(n)||null;return U.resolve(r)}addMatchingKeys(e,n,r){return this.Br.Rr(n,r),U.resolve()}removeMatchingKeys(e,n,r){this.Br.mr(n,r);const i=this.persistence.referenceDelegate,o=[];return i&&n.forEach(s=>{o.push(i.markPotentiallyOrphaned(e,s))}),U.waitFor(o)}removeMatchingKeysForTargetId(e,n){return this.Br.gr(n),U.resolve()}getMatchingKeysForTargetId(e,n){const r=this.Br.yr(n);return U.resolve(r)}containsKey(e,n){return U.resolve(this.Br.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l0{constructor(e,n){this.qr={},this.overlays={},this.Qr=new Cl(0),this.Kr=!1,this.Kr=!0,this.$r=new hC,this.referenceDelegate=e(this),this.Ur=new mC(this),this.indexManager=new eC,this.remoteDocumentCache=function(i){return new dC(i)}(r=>this.referenceDelegate.Wr(r)),this.serializer=new JI(n),this.Gr=new uC(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new cC,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.qr[e.toKey()];return r||(r=new fC(n,this.referenceDelegate),this.qr[e.toKey()]=r),r}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(e,n,r){G("MemoryPersistence","Starting transaction:",e);const i=new gC(this.Qr.next());return this.referenceDelegate.zr(),r(i).next(o=>this.referenceDelegate.jr(i).next(()=>o)).toPromise().then(o=>(i.raiseOnCommittedEvent(),o))}Hr(e,n){return U.or(Object.values(this.qr).map(r=>()=>r.containsKey(e,n)))}}class gC extends qS{constructor(e){super(),this.currentSequenceNumber=e}}class af{constructor(e){this.persistence=e,this.Jr=new sf,this.Yr=null}static Zr(e){return new af(e)}get Xr(){if(this.Yr)return this.Yr;throw ie()}addReference(e,n,r){return this.Jr.addReference(r,n),this.Xr.delete(r.toString()),U.resolve()}removeReference(e,n,r){return this.Jr.removeReference(r,n),this.Xr.add(r.toString()),U.resolve()}markPotentiallyOrphaned(e,n){return this.Xr.add(n.toString()),U.resolve()}removeTarget(e,n){this.Jr.gr(n.targetId).forEach(i=>this.Xr.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(o=>this.Xr.add(o.toString()))}).next(()=>r.removeTargetData(e,n))}zr(){this.Yr=new Set}jr(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return U.forEach(this.Xr,r=>{const i=te.fromPath(r);return this.ei(e,i).next(o=>{o||n.removeEntry(i,oe.min())})}).next(()=>(this.Yr=null,n.apply(e)))}updateLimboDocument(e,n){return this.ei(e,n).next(r=>{r?this.Xr.delete(n.toString()):this.Xr.add(n.toString())})}Wr(e){return 0}ei(e,n){return U.or([()=>U.resolve(this.Jr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Hr(e,n)])}}class el{constructor(e,n){this.persistence=e,this.ti=new Ur(r=>QS(r.path),(r,i)=>r.isEqual(i)),this.garbageCollector=oC(this,n)}static Zr(e,n){return new el(e,n)}zr(){}jr(e){return U.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}Yn(e){const n=this.er(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>n.next(i=>r+i))}er(e){let n=0;return this.Zn(e,r=>{n++}).next(()=>n)}Zn(e,n){return U.forEach(this.ti,(r,i)=>this.nr(e,r,i).next(o=>o?U.resolve():n(i)))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const i=this.persistence.getRemoteDocumentCache(),o=i.newChangeBuffer();return i.Or(e,s=>this.nr(e,s,n).next(l=>{l||(r++,o.removeEntry(s,oe.min()))})).next(()=>o.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,n){return this.ti.set(n,e.currentSequenceNumber),U.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.ti.set(r,e.currentSequenceNumber),U.resolve()}removeReference(e,n,r){return this.ti.set(r,e.currentSequenceNumber),U.resolve()}updateLimboDocument(e,n){return this.ti.set(n,e.currentSequenceNumber),U.resolve()}Wr(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=pa(e.data.value)),n}nr(e,n,r){return U.or([()=>this.persistence.Hr(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const i=this.ti.get(n);return U.resolve(i!==void 0&&i>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lf{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.$i=r,this.Ui=i}static Wi(e,n){let r=ue(),i=ue();for(const o of n.docChanges)switch(o.type){case 0:r=r.add(o.doc.key);break;case 1:i=i.add(o.doc.key)}return new lf(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yC{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vC{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=function(){return pT()?8:HS(fT())>0?6:4}()}initialize(e,n){this.Ji=e,this.indexManager=n,this.Gi=!0}getDocumentsMatchingQuery(e,n,r,i){const o={result:null};return this.Yi(e,n).next(s=>{o.result=s}).next(()=>{if(!o.result)return this.Zi(e,n,i,r).next(s=>{o.result=s})}).next(()=>{if(o.result)return;const s=new yC;return this.Xi(e,n,s).next(l=>{if(o.result=l,this.zi)return this.es(e,n,s,l.size)})}).next(()=>o.result)}es(e,n,r,i){return r.documentReadCount<this.ji?(Xr()<=fe.DEBUG&&G("QueryEngine","SDK will not create cache indexes for query:",Jr(n),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),U.resolve()):(Xr()<=fe.DEBUG&&G("QueryEngine","Query:",Jr(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.Hi*i?(Xr()<=fe.DEBUG&&G("QueryEngine","The SDK decides to create cache indexes for query:",Jr(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,ln(n))):U.resolve())}Yi(e,n){if(im(n))return U.resolve(null);let r=ln(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=zc(n,null,"F"),r=ln(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(o=>{const s=ue(...o);return this.Ji.getDocuments(e,s).next(l=>this.indexManager.getMinOffset(e,r).next(u=>{const h=this.ts(n,l);return this.ns(n,h,s,u.readTime)?this.Yi(e,zc(n,null,"F")):this.rs(e,h,n,u)}))})))}Zi(e,n,r,i){return im(n)||i.isEqual(oe.min())?U.resolve(null):this.Ji.getDocuments(e,r).next(o=>{const s=this.ts(n,o);return this.ns(n,s,r,i)?U.resolve(null):(Xr()<=fe.DEBUG&&G("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Jr(n)),this.rs(e,s,n,BS(i,-1)).next(l=>l))})}ts(e,n){let r=new Xe(Uv(e));return n.forEach((i,o)=>{kl(e,o)&&(r=r.add(o))}),r}ns(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const o=e.limitType==="F"?n.last():n.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(i)>0)}Xi(e,n,r){return Xr()<=fe.DEBUG&&G("QueryEngine","Using full collection scan to execute query:",Jr(n)),this.Ji.getDocumentsMatchingQuery(e,n,ir.min(),r)}rs(e,n,r,i){return this.Ji.getDocumentsMatchingQuery(e,r,i).next(o=>(n.forEach(s=>{o=o.insert(s.key,s)}),o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _C{constructor(e,n,r,i){this.persistence=e,this.ss=n,this.serializer=i,this.os=new De(de),this._s=new Ur(o=>Zh(o),ef),this.us=new Map,this.cs=e.getRemoteDocumentCache(),this.Ur=e.getTargetCache(),this.Gr=e.getBundleCache(),this.ls(r)}ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new lC(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.os))}}function wC(t,e,n,r){return new _C(t,e,n,r)}async function u0(t,e){const n=ae(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(o=>(i=o,n.ls(e),n.mutationQueue.getAllMutationBatches(r))).next(o=>{const s=[],l=[];let u=ue();for(const h of i){s.push(h.batchId);for(const d of h.mutations)u=u.add(d.key)}for(const h of o){l.push(h.batchId);for(const d of h.mutations)u=u.add(d.key)}return n.localDocuments.getDocuments(r,u).next(h=>({hs:h,removedBatchIds:s,addedBatchIds:l}))})})}function EC(t,e){const n=ae(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),o=n.cs.newChangeBuffer({trackRemovals:!0});return function(l,u,h,d){const p=h.batch,m=p.keys();let E=U.resolve();return m.forEach(v=>{E=E.next(()=>d.getEntry(u,v)).next(C=>{const R=h.docVersions.get(v);ve(R!==null),C.version.compareTo(R)<0&&(p.applyToRemoteDocument(C,h),C.isValidDocument()&&(C.setReadTime(h.commitVersion),d.addEntry(C)))})}),E.next(()=>l.mutationQueue.removeMutationBatch(u,p))}(n,r,e,o).next(()=>o.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(l){let u=ue();for(let h=0;h<l.mutationResults.length;++h)l.mutationResults[h].transformResults.length>0&&(u=u.add(l.batch.mutations[h].key));return u}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function c0(t){const e=ae(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Ur.getLastRemoteSnapshotVersion(n))}function TC(t,e){const n=ae(t),r=e.snapshotVersion;let i=n.os;return n.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{const s=n.cs.newChangeBuffer({trackRemovals:!0});i=n.os;const l=[];e.targetChanges.forEach((d,p)=>{const m=i.get(p);if(!m)return;l.push(n.Ur.removeMatchingKeys(o,d.removedDocuments,p).next(()=>n.Ur.addMatchingKeys(o,d.addedDocuments,p)));let E=m.withSequenceNumber(o.currentSequenceNumber);e.targetMismatches.get(p)!==null?E=E.withResumeToken(it.EMPTY_BYTE_STRING,oe.min()).withLastLimboFreeSnapshotVersion(oe.min()):d.resumeToken.approximateByteSize()>0&&(E=E.withResumeToken(d.resumeToken,r)),i=i.insert(p,E),function(C,R,_){return C.resumeToken.approximateByteSize()===0||R.snapshotVersion.toMicroseconds()-C.snapshotVersion.toMicroseconds()>=3e8?!0:_.addedDocuments.size+_.modifiedDocuments.size+_.removedDocuments.size>0}(m,E,d)&&l.push(n.Ur.updateTargetData(o,E))});let u=Pn(),h=ue();if(e.documentUpdates.forEach(d=>{e.resolvedLimboDocuments.has(d)&&l.push(n.persistence.referenceDelegate.updateLimboDocument(o,d))}),l.push(SC(o,s,e.documentUpdates).next(d=>{u=d.Ps,h=d.Is})),!r.isEqual(oe.min())){const d=n.Ur.getLastRemoteSnapshotVersion(o).next(p=>n.Ur.setTargetsMetadata(o,o.currentSequenceNumber,r));l.push(d)}return U.waitFor(l).next(()=>s.apply(o)).next(()=>n.localDocuments.getLocalViewOfDocuments(o,u,h)).next(()=>u)}).then(o=>(n.os=i,o))}function SC(t,e,n){let r=ue(),i=ue();return n.forEach(o=>r=r.add(o)),e.getEntries(t,r).next(o=>{let s=Pn();return n.forEach((l,u)=>{const h=o.get(l);u.isFoundDocument()!==h.isFoundDocument()&&(i=i.add(l)),u.isNoDocument()&&u.version.isEqual(oe.min())?(e.removeEntry(l,u.readTime),s=s.insert(l,u)):!h.isValidDocument()||u.version.compareTo(h.version)>0||u.version.compareTo(h.version)===0&&h.hasPendingWrites?(e.addEntry(u),s=s.insert(l,u)):G("LocalStore","Ignoring outdated watch update for ",l,". Current version:",h.version," Watch version:",u.version)}),{Ps:s,Is:i}})}function IC(t,e){const n=ae(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function CC(t,e){const n=ae(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Ur.getTargetData(r,e).next(o=>o?(i=o,U.resolve(i)):n.Ur.allocateTargetId(r).next(s=>(i=new Bn(e,s,"TargetPurposeListen",r.currentSequenceNumber),n.Ur.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.os.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.os=n.os.insert(r.targetId,r),n._s.set(e,r.targetId)),r})}async function Kc(t,e,n){const r=ae(t),i=r.os.get(e),o=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",o,s=>r.persistence.referenceDelegate.removeTarget(s,i))}catch(s){if(!zi(s))throw s;G("LocalStore",`Failed to update sequence numbers for target ${e}: ${s}`)}r.os=r.os.remove(e),r._s.delete(i.target)}function ym(t,e,n){const r=ae(t);let i=oe.min(),o=ue();return r.persistence.runTransaction("Execute query","readwrite",s=>function(u,h,d){const p=ae(u),m=p._s.get(d);return m!==void 0?U.resolve(p.os.get(m)):p.Ur.getTargetData(h,d)}(r,s,ln(e)).next(l=>{if(l)return i=l.lastLimboFreeSnapshotVersion,r.Ur.getMatchingKeysForTargetId(s,l.targetId).next(u=>{o=u})}).next(()=>r.ss.getDocumentsMatchingQuery(s,e,n?i:oe.min(),n?o:ue())).next(l=>(PC(r,dI(e),l),{documents:l,Ts:o})))}function PC(t,e,n){let r=t.us.get(e)||oe.min();n.forEach((i,o)=>{o.readTime.compareTo(r)>0&&(r=o.readTime)}),t.us.set(e,r)}class vm{constructor(){this.activeTargetIds=_I()}fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Vs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class AC{constructor(){this.so=new vm,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.so.fs(e),this.oo[e]||"not-current"}updateQueryState(e,n,r){this.oo[e]=n}removeLocalQueryTarget(e){this.so.gs(e)}isLocalQueryTarget(e){return this.so.activeTargetIds.has(e)}clearQueryState(e){delete this.oo[e]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(e){return this.so.activeTargetIds.has(e)}start(){return this.so=new vm,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RC{_o(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _m{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(e){this.ho.push(e)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){G("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.ho)e(0)}lo(){G("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.ho)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Zs=null;function Vu(){return Zs===null?Zs=function(){return 268435456+Math.round(2147483648*Math.random())}():Zs++,"0x"+Zs.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xC={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kC{constructor(e){this.Io=e.Io,this.To=e.To}Eo(e){this.Ao=e}Ro(e){this.Vo=e}mo(e){this.fo=e}onMessage(e){this.po=e}close(){this.To()}send(e){this.Io(e)}yo(){this.Ao()}wo(){this.Vo()}So(e){this.fo(e)}bo(e){this.po(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ut="WebChannelConnection";class NC extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const r=n.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Do=r+"://"+n.host,this.vo=`projects/${i}/databases/${o}`,this.Co=this.databaseId.database==="(default)"?`project_id=${i}`:`project_id=${i}&database_id=${o}`}get Fo(){return!1}Mo(n,r,i,o,s){const l=Vu(),u=this.xo(n,r.toUriEncodedString());G("RestConnection",`Sending RPC '${n}' ${l}:`,u,i);const h={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(h,o,s),this.No(n,u,h,i).then(d=>(G("RestConnection",`Received RPC '${n}' ${l}: `,d),d),d=>{throw Ri("RestConnection",`RPC '${n}' ${l} failed with error: `,d,"url: ",u,"request:",i),d})}Lo(n,r,i,o,s,l){return this.Mo(n,r,i,o,s)}Oo(n,r,i){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Ui}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((o,s)=>n[s]=o),i&&i.headers.forEach((o,s)=>n[s]=o)}xo(n,r){const i=xC[n];return`${this.Do}/v1/${r}:${i}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}No(e,n,r,i){const o=Vu();return new Promise((s,l)=>{const u=new Tv;u.setWithCredentials(!0),u.listenOnce(Sv.COMPLETE,()=>{try{switch(u.getLastErrorCode()){case da.NO_ERROR:const d=u.getResponseJson();G(ut,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(d)),s(d);break;case da.TIMEOUT:G(ut,`RPC '${e}' ${o} timed out`),l(new ee(z.DEADLINE_EXCEEDED,"Request time out"));break;case da.HTTP_ERROR:const p=u.getStatus();if(G(ut,`RPC '${e}' ${o} failed with status:`,p,"response text:",u.getResponseText()),p>0){let m=u.getResponseJson();Array.isArray(m)&&(m=m[0]);const E=m==null?void 0:m.error;if(E&&E.status&&E.message){const v=function(R){const _=R.toLowerCase().replace(/_/g,"-");return Object.values(z).indexOf(_)>=0?_:z.UNKNOWN}(E.status);l(new ee(v,E.message))}else l(new ee(z.UNKNOWN,"Server responded with status "+u.getStatus()))}else l(new ee(z.UNAVAILABLE,"Connection failed."));break;default:ie()}}finally{G(ut,`RPC '${e}' ${o} completed.`)}});const h=JSON.stringify(i);G(ut,`RPC '${e}' ${o} sending request:`,i),u.send(n,"POST",h,r,15)})}Bo(e,n,r){const i=Vu(),o=[this.Do,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=Pv(),l=Cv(),u={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},h=this.longPollingOptions.timeoutSeconds;h!==void 0&&(u.longPollingTimeout=Math.round(1e3*h)),this.useFetchStreams&&(u.useFetchStreams=!0),this.Oo(u.initMessageHeaders,n,r),u.encodeInitMessageHeaders=!0;const d=o.join("");G(ut,`Creating RPC '${e}' stream ${i}: ${d}`,u);const p=s.createWebChannel(d,u);let m=!1,E=!1;const v=new kC({Io:R=>{E?G(ut,`Not sending because RPC '${e}' stream ${i} is closed:`,R):(m||(G(ut,`Opening RPC '${e}' stream ${i} transport.`),p.open(),m=!0),G(ut,`RPC '${e}' stream ${i} sending:`,R),p.send(R))},To:()=>p.close()}),C=(R,_,w)=>{R.listen(_,I=>{try{w(I)}catch(O){setTimeout(()=>{throw O},0)}})};return C(p,vo.EventType.OPEN,()=>{E||(G(ut,`RPC '${e}' stream ${i} transport opened.`),v.yo())}),C(p,vo.EventType.CLOSE,()=>{E||(E=!0,G(ut,`RPC '${e}' stream ${i} transport closed`),v.So())}),C(p,vo.EventType.ERROR,R=>{E||(E=!0,Ri(ut,`RPC '${e}' stream ${i} transport errored:`,R),v.So(new ee(z.UNAVAILABLE,"The operation could not be completed")))}),C(p,vo.EventType.MESSAGE,R=>{var _;if(!E){const w=R.data[0];ve(!!w);const I=w,O=I.error||((_=I[0])===null||_===void 0?void 0:_.error);if(O){G(ut,`RPC '${e}' stream ${i} received error:`,O);const B=O.status;let $=function(T){const P=je[T];if(P!==void 0)return Jv(P)}(B),S=O.message;$===void 0&&($=z.INTERNAL,S="Unknown error status: "+B+" with message "+O.message),E=!0,v.So(new ee($,S)),p.close()}else G(ut,`RPC '${e}' stream ${i} received:`,w),v.bo(w)}}),C(l,Iv.STAT_EVENT,R=>{R.stat===Lc.PROXY?G(ut,`RPC '${e}' stream ${i} detected buffering proxy`):R.stat===Lc.NOPROXY&&G(ut,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{v.wo()},0),v}}function Ou(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ol(t){return new jI(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h0{constructor(e,n,r=1e3,i=1.5,o=6e4){this.ui=e,this.timerId=n,this.ko=r,this.qo=i,this.Qo=o,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(e){this.cancel();const n=Math.floor(this.Ko+this.zo()),r=Math.max(0,Date.now()-this.Uo),i=Math.max(0,n-r);i>0&&G("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Ko} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,i,()=>(this.Uo=Date.now(),e())),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){this.$o!==null&&(this.$o.skipDelay(),this.$o=null)}cancel(){this.$o!==null&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f0{constructor(e,n,r,i,o,s,l,u){this.ui=e,this.Ho=r,this.Jo=i,this.connection=o,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=l,this.listener=u,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new h0(e,n)}n_(){return this.state===1||this.state===5||this.r_()}r_(){return this.state===2||this.state===3}start(){this.e_=0,this.state!==4?this.auth():this.i_()}async stop(){this.n_()&&await this.close(0)}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&this.Zo===null&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,()=>this.__()))}a_(e){this.u_(),this.stream.send(e)}async __(){if(this.r_())return this.close(0)}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}async close(e,n){this.u_(),this.c_(),this.t_.cancel(),this.Yo++,e!==4?this.t_.reset():n&&n.code===z.RESOURCE_EXHAUSTED?(Cn(n.toString()),Cn("Using maximum backoff delay to prevent overloading the backend."),this.t_.Wo()):n&&n.code===z.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.l_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.mo(n)}l_(){}auth(){this.state=1;const e=this.h_(this.Yo),n=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Yo===n&&this.P_(r,i)},r=>{e(()=>{const i=new ee(z.UNKNOWN,"Fetching auth token failed: "+r.message);return this.I_(i)})})}P_(e,n){const r=this.h_(this.Yo);this.stream=this.T_(e,n),this.stream.Eo(()=>{r(()=>this.listener.Eo())}),this.stream.Ro(()=>{r(()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,()=>(this.r_()&&(this.state=3),Promise.resolve())),this.listener.Ro()))}),this.stream.mo(i=>{r(()=>this.I_(i))}),this.stream.onMessage(i=>{r(()=>++this.e_==1?this.E_(i):this.onNext(i))})}i_(){this.state=5,this.t_.Go(async()=>{this.state=0,this.start()})}I_(e){return G("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}h_(e){return n=>{this.ui.enqueueAndForget(()=>this.Yo===e?n():(G("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class DC extends f0{constructor(e,n,r,i,o,s){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,s),this.serializer=o}T_(e,n){return this.connection.Bo("Listen",e,n)}E_(e){return this.onNext(e)}onNext(e){this.t_.reset();const n=BI(this.serializer,e),r=function(o){if(!("targetChange"in o))return oe.min();const s=o.targetChange;return s.targetIds&&s.targetIds.length?oe.min():s.readTime?un(s.readTime):oe.min()}(e);return this.listener.d_(n,r)}A_(e){const n={};n.database=Hc(this.serializer),n.addTarget=function(o,s){let l;const u=s.target;if(l=Bc(u)?{documents:WI(o,u)}:{query:qI(o,u)._t},l.targetId=s.targetId,s.resumeToken.approximateByteSize()>0){l.resumeToken=t0(o,s.resumeToken);const h=$c(o,s.expectedCount);h!==null&&(l.expectedCount=h)}else if(s.snapshotVersion.compareTo(oe.min())>0){l.readTime=Za(o,s.snapshotVersion.toTimestamp());const h=$c(o,s.expectedCount);h!==null&&(l.expectedCount=h)}return l}(this.serializer,e);const r=KI(this.serializer,e);r&&(n.labels=r),this.a_(n)}R_(e){const n={};n.database=Hc(this.serializer),n.removeTarget=e,this.a_(n)}}class VC extends f0{constructor(e,n,r,i,o,s){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,s),this.serializer=o}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_(e,n){return this.connection.Bo("Write",e,n)}E_(e){return ve(!!e.streamToken),this.lastStreamToken=e.streamToken,ve(!e.writeResults||e.writeResults.length===0),this.listener.f_()}onNext(e){ve(!!e.streamToken),this.lastStreamToken=e.streamToken,this.t_.reset();const n=$I(e.writeResults,e.commitTime),r=un(e.commitTime);return this.listener.g_(r,n)}p_(){const e={};e.database=Hc(this.serializer),this.a_(e)}m_(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>zI(this.serializer,r))};this.a_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OC extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.y_=!1}w_(){if(this.y_)throw new ee(z.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(e,n,r,i){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,s])=>this.connection.Mo(e,Wc(n,r),i,o,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===z.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new ee(z.UNKNOWN,o.toString())})}Lo(e,n,r,i,o){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,l])=>this.connection.Lo(e,Wc(n,r),i,s,l,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===z.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new ee(z.UNKNOWN,s.toString())})}terminate(){this.y_=!0,this.connection.terminate()}}class bC{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){this.S_===0&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve())))}M_(e){this.state==="Online"?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.C_("Offline")))}set(e){this.x_(),this.S_=0,e==="Online"&&(this.D_=!1),this.C_(e)}C_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}F_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(Cn(n),this.D_=!1):G("OnlineStateTracker",n)}x_(){this.b_!==null&&(this.b_.cancel(),this.b_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MC{constructor(e,n,r,i,o){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=o,this.k_._o(s=>{r.enqueueAndForget(async()=>{zr(this)&&(G("RemoteStore","Restarting streams for network reachability change."),await async function(u){const h=ae(u);h.L_.add(4),await gs(h),h.q_.set("Unknown"),h.L_.delete(4),await bl(h)}(this))})}),this.q_=new bC(r,i)}}async function bl(t){if(zr(t))for(const e of t.B_)await e(!0)}async function gs(t){for(const e of t.B_)await e(!1)}function d0(t,e){const n=ae(t);n.N_.has(e.targetId)||(n.N_.set(e.targetId,e),ff(n)?hf(n):$i(n).r_()&&cf(n,e))}function uf(t,e){const n=ae(t),r=$i(n);n.N_.delete(e),r.r_()&&p0(n,e),n.N_.size===0&&(r.r_()?r.o_():zr(n)&&n.q_.set("Unknown"))}function cf(t,e){if(t.Q_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(oe.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}$i(t).A_(e)}function p0(t,e){t.Q_.xe(e),$i(t).R_(e)}function hf(t){t.Q_=new OI({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>t.N_.get(e)||null,tt:()=>t.datastore.serializer.databaseId}),$i(t).start(),t.q_.v_()}function ff(t){return zr(t)&&!$i(t).n_()&&t.N_.size>0}function zr(t){return ae(t).L_.size===0}function m0(t){t.Q_=void 0}async function LC(t){t.q_.set("Online")}async function jC(t){t.N_.forEach((e,n)=>{cf(t,e)})}async function FC(t,e){m0(t),ff(t)?(t.q_.M_(e),hf(t)):t.q_.set("Unknown")}async function UC(t,e,n){if(t.q_.set("Online"),e instanceof e0&&e.state===2&&e.cause)try{await async function(i,o){const s=o.cause;for(const l of o.targetIds)i.N_.has(l)&&(await i.remoteSyncer.rejectListen(l,s),i.N_.delete(l),i.Q_.removeTarget(l))}(t,e)}catch(r){G("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),await tl(t,r)}else if(e instanceof ya?t.Q_.Ke(e):e instanceof Zv?t.Q_.He(e):t.Q_.We(e),!n.isEqual(oe.min()))try{const r=await c0(t.localStore);n.compareTo(r)>=0&&await function(o,s){const l=o.Q_.rt(s);return l.targetChanges.forEach((u,h)=>{if(u.resumeToken.approximateByteSize()>0){const d=o.N_.get(h);d&&o.N_.set(h,d.withResumeToken(u.resumeToken,s))}}),l.targetMismatches.forEach((u,h)=>{const d=o.N_.get(u);if(!d)return;o.N_.set(u,d.withResumeToken(it.EMPTY_BYTE_STRING,d.snapshotVersion)),p0(o,u);const p=new Bn(d.target,u,h,d.sequenceNumber);cf(o,p)}),o.remoteSyncer.applyRemoteEvent(l)}(t,n)}catch(r){G("RemoteStore","Failed to raise snapshot:",r),await tl(t,r)}}async function tl(t,e,n){if(!zi(e))throw e;t.L_.add(1),await gs(t),t.q_.set("Offline"),n||(n=()=>c0(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{G("RemoteStore","Retrying IndexedDB access"),await n(),t.L_.delete(1),await bl(t)})}function g0(t,e){return e().catch(n=>tl(t,n,e))}async function Ml(t){const e=ae(t),n=lr(e);let r=e.O_.length>0?e.O_[e.O_.length-1].batchId:-1;for(;BC(e);)try{const i=await IC(e.localStore,r);if(i===null){e.O_.length===0&&n.o_();break}r=i.batchId,zC(e,i)}catch(i){await tl(e,i)}y0(e)&&v0(e)}function BC(t){return zr(t)&&t.O_.length<10}function zC(t,e){t.O_.push(e);const n=lr(t);n.r_()&&n.V_&&n.m_(e.mutations)}function y0(t){return zr(t)&&!lr(t).n_()&&t.O_.length>0}function v0(t){lr(t).start()}async function $C(t){lr(t).p_()}async function WC(t){const e=lr(t);for(const n of t.O_)e.m_(n.mutations)}async function qC(t,e,n){const r=t.O_.shift(),i=nf.from(r,e,n);await g0(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await Ml(t)}async function HC(t,e){e&&lr(t).V_&&await async function(r,i){if(function(s){return NI(s)&&s!==z.ABORTED}(i.code)){const o=r.O_.shift();lr(r).s_(),await g0(r,()=>r.remoteSyncer.rejectFailedWrite(o.batchId,i)),await Ml(r)}}(t,e),y0(t)&&v0(t)}async function wm(t,e){const n=ae(t);n.asyncQueue.verifyOperationInProgress(),G("RemoteStore","RemoteStore received new credentials");const r=zr(n);n.L_.add(3),await gs(n),r&&n.q_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.L_.delete(3),await bl(n)}async function KC(t,e){const n=ae(t);e?(n.L_.delete(2),await bl(n)):e||(n.L_.add(2),await gs(n),n.q_.set("Unknown"))}function $i(t){return t.K_||(t.K_=function(n,r,i){const o=ae(n);return o.w_(),new DC(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(t.datastore,t.asyncQueue,{Eo:LC.bind(null,t),Ro:jC.bind(null,t),mo:FC.bind(null,t),d_:UC.bind(null,t)}),t.B_.push(async e=>{e?(t.K_.s_(),ff(t)?hf(t):t.q_.set("Unknown")):(await t.K_.stop(),m0(t))})),t.K_}function lr(t){return t.U_||(t.U_=function(n,r,i){const o=ae(n);return o.w_(),new VC(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(t.datastore,t.asyncQueue,{Eo:()=>Promise.resolve(),Ro:$C.bind(null,t),mo:HC.bind(null,t),f_:WC.bind(null,t),g_:qC.bind(null,t)}),t.B_.push(async e=>{e?(t.U_.s_(),await Ml(t)):(await t.U_.stop(),t.O_.length>0&&(G("RemoteStore",`Stopping write stream with ${t.O_.length} pending writes`),t.O_=[]))})),t.U_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class df{constructor(e,n,r,i,o){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=o,this.deferred=new er,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(s=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,o){const s=Date.now()+r,l=new df(e,n,s,i,o);return l.start(r),l}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ee(z.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function pf(t,e){if(Cn("AsyncQueue",`${e}: ${t}`),zi(t))return new ee(z.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wi{constructor(e){this.comparator=e?(n,r)=>e(n,r)||te.comparator(n.key,r.key):(n,r)=>te.comparator(n.key,r.key),this.keyedMap=_o(),this.sortedSet=new De(this.comparator)}static emptySet(e){return new wi(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof wi)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,o=r.getNext().key;if(!i.isEqual(o))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new wi;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Em{constructor(){this.W_=new De(te.comparator)}track(e){const n=e.doc.key,r=this.W_.get(n);r?e.type!==0&&r.type===3?this.W_=this.W_.insert(n,e):e.type===3&&r.type!==1?this.W_=this.W_.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.W_=this.W_.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.W_=this.W_.remove(n):e.type===1&&r.type===2?this.W_=this.W_.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):ie():this.W_=this.W_.insert(n,e)}G_(){const e=[];return this.W_.inorderTraversal((n,r)=>{e.push(r)}),e}}class Vi{constructor(e,n,r,i,o,s,l,u,h){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=o,this.fromCache=s,this.syncStateChanged=l,this.excludesMetadataChanges=u,this.hasCachedResults=h}static fromInitialDocuments(e,n,r,i,o){const s=[];return n.forEach(l=>{s.push({type:0,doc:l})}),new Vi(e,n,wi.emptySet(n),s,r,i,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&xl(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QC{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some(e=>e.J_())}}class GC{constructor(){this.queries=Tm(),this.onlineState="Unknown",this.Y_=new Set}terminate(){(function(n,r){const i=ae(n),o=i.queries;i.queries=Tm(),o.forEach((s,l)=>{for(const u of l.j_)u.onError(r)})})(this,new ee(z.ABORTED,"Firestore shutting down"))}}function Tm(){return new Ur(t=>Fv(t),xl)}async function YC(t,e){const n=ae(t);let r=3;const i=e.query;let o=n.queries.get(i);o?!o.H_()&&e.J_()&&(r=2):(o=new QC,r=e.J_()?0:1);try{switch(r){case 0:o.z_=await n.onListen(i,!0);break;case 1:o.z_=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(s){const l=pf(s,`Initialization of query '${Jr(e.query)}' failed`);return void e.onError(l)}n.queries.set(i,o),o.j_.push(e),e.Z_(n.onlineState),o.z_&&e.X_(o.z_)&&mf(n)}async function XC(t,e){const n=ae(t),r=e.query;let i=3;const o=n.queries.get(r);if(o){const s=o.j_.indexOf(e);s>=0&&(o.j_.splice(s,1),o.j_.length===0?i=e.J_()?0:1:!o.H_()&&e.J_()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function JC(t,e){const n=ae(t);let r=!1;for(const i of e){const o=i.query,s=n.queries.get(o);if(s){for(const l of s.j_)l.X_(i)&&(r=!0);s.z_=i}}r&&mf(n)}function ZC(t,e,n){const r=ae(t),i=r.queries.get(e);if(i)for(const o of i.j_)o.onError(n);r.queries.delete(e)}function mf(t){t.Y_.forEach(e=>{e.next()})}var Qc,Sm;(Sm=Qc||(Qc={})).ea="default",Sm.Cache="cache";class eP{constructor(e,n,r){this.query=e,this.ta=n,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=r||{}}X_(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new Vi(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.na?this.ia(e)&&(this.ta.next(e),n=!0):this.sa(e,this.onlineState)&&(this.oa(e),n=!0),this.ra=e,n}onError(e){this.ta.error(e)}Z_(e){this.onlineState=e;let n=!1;return this.ra&&!this.na&&this.sa(this.ra,e)&&(this.oa(this.ra),n=!0),n}sa(e,n){if(!e.fromCache||!this.J_())return!0;const r=n!=="Offline";return(!this.options._a||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}ia(e){if(e.docChanges.length>0)return!0;const n=this.ra&&this.ra.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}oa(e){e=Vi.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.na=!0,this.ta.next(e)}J_(){return this.options.source!==Qc.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _0{constructor(e){this.key=e}}class w0{constructor(e){this.key=e}}class tP{constructor(e,n){this.query=e,this.Ta=n,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=ue(),this.mutatedKeys=ue(),this.Aa=Uv(e),this.Ra=new wi(this.Aa)}get Va(){return this.Ta}ma(e,n){const r=n?n.fa:new Em,i=n?n.Ra:this.Ra;let o=n?n.mutatedKeys:this.mutatedKeys,s=i,l=!1;const u=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,h=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((d,p)=>{const m=i.get(d),E=kl(this.query,p)?p:null,v=!!m&&this.mutatedKeys.has(m.key),C=!!E&&(E.hasLocalMutations||this.mutatedKeys.has(E.key)&&E.hasCommittedMutations);let R=!1;m&&E?m.data.isEqual(E.data)?v!==C&&(r.track({type:3,doc:E}),R=!0):this.ga(m,E)||(r.track({type:2,doc:E}),R=!0,(u&&this.Aa(E,u)>0||h&&this.Aa(E,h)<0)&&(l=!0)):!m&&E?(r.track({type:0,doc:E}),R=!0):m&&!E&&(r.track({type:1,doc:m}),R=!0,(u||h)&&(l=!0)),R&&(E?(s=s.add(E),o=C?o.add(d):o.delete(d)):(s=s.delete(d),o=o.delete(d)))}),this.query.limit!==null)for(;s.size>this.query.limit;){const d=this.query.limitType==="F"?s.last():s.first();s=s.delete(d.key),o=o.delete(d.key),r.track({type:1,doc:d})}return{Ra:s,fa:r,ns:l,mutatedKeys:o}}ga(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){const o=this.Ra;this.Ra=e.Ra,this.mutatedKeys=e.mutatedKeys;const s=e.fa.G_();s.sort((d,p)=>function(E,v){const C=R=>{switch(R){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ie()}};return C(E)-C(v)}(d.type,p.type)||this.Aa(d.doc,p.doc)),this.pa(r),i=i!=null&&i;const l=n&&!i?this.ya():[],u=this.da.size===0&&this.current&&!i?1:0,h=u!==this.Ea;return this.Ea=u,s.length!==0||h?{snapshot:new Vi(this.query,e.Ra,o,s,e.mutatedKeys,u===0,h,!1,!!r&&r.resumeToken.approximateByteSize()>0),wa:l}:{wa:l}}Z_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new Em,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(e){return!this.Ta.has(e)&&!!this.Ra.has(e)&&!this.Ra.get(e).hasLocalMutations}pa(e){e&&(e.addedDocuments.forEach(n=>this.Ta=this.Ta.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ta=this.Ta.delete(n)),this.current=e.current)}ya(){if(!this.current)return[];const e=this.da;this.da=ue(),this.Ra.forEach(r=>{this.Sa(r.key)&&(this.da=this.da.add(r.key))});const n=[];return e.forEach(r=>{this.da.has(r)||n.push(new w0(r))}),this.da.forEach(r=>{e.has(r)||n.push(new _0(r))}),n}ba(e){this.Ta=e.Ts,this.da=ue();const n=this.ma(e.documents);return this.applyChanges(n,!0)}Da(){return Vi.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,this.Ea===0,this.hasCachedResults)}}class nP{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class rP{constructor(e){this.key=e,this.va=!1}}class iP{constructor(e,n,r,i,o,s){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=o,this.maxConcurrentLimboResolutions=s,this.Ca={},this.Fa=new Ur(l=>Fv(l),xl),this.Ma=new Map,this.xa=new Set,this.Oa=new De(te.comparator),this.Na=new Map,this.La=new sf,this.Ba={},this.ka=new Map,this.qa=Di.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return this.Qa===!0}}async function oP(t,e,n=!0){const r=P0(t);let i;const o=r.Fa.get(e);return o?(r.sharedClientState.addLocalQueryTarget(o.targetId),i=o.view.Da()):i=await E0(r,e,n,!0),i}async function sP(t,e){const n=P0(t);await E0(n,e,!0,!1)}async function E0(t,e,n,r){const i=await CC(t.localStore,ln(e)),o=i.targetId,s=t.sharedClientState.addLocalQueryTarget(o,n);let l;return r&&(l=await aP(t,e,o,s==="current",i.resumeToken)),t.isPrimaryClient&&n&&d0(t.remoteStore,i),l}async function aP(t,e,n,r,i){t.Ka=(p,m,E)=>async function(C,R,_,w){let I=R.view.ma(_);I.ns&&(I=await ym(C.localStore,R.query,!1).then(({documents:S})=>R.view.ma(S,I)));const O=w&&w.targetChanges.get(R.targetId),B=w&&w.targetMismatches.get(R.targetId)!=null,$=R.view.applyChanges(I,C.isPrimaryClient,O,B);return Cm(C,R.targetId,$.wa),$.snapshot}(t,p,m,E);const o=await ym(t.localStore,e,!0),s=new tP(e,o.Ts),l=s.ma(o.documents),u=ms.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),h=s.applyChanges(l,t.isPrimaryClient,u);Cm(t,n,h.wa);const d=new nP(e,n,s);return t.Fa.set(e,d),t.Ma.has(n)?t.Ma.get(n).push(e):t.Ma.set(n,[e]),h.snapshot}async function lP(t,e,n){const r=ae(t),i=r.Fa.get(e),o=r.Ma.get(i.targetId);if(o.length>1)return r.Ma.set(i.targetId,o.filter(s=>!xl(s,e))),void r.Fa.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await Kc(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&uf(r.remoteStore,i.targetId),Gc(r,i.targetId)}).catch(Bi)):(Gc(r,i.targetId),await Kc(r.localStore,i.targetId,!0))}async function uP(t,e){const n=ae(t),r=n.Fa.get(e),i=n.Ma.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),uf(n.remoteStore,r.targetId))}async function cP(t,e,n){const r=yP(t);try{const i=await function(s,l){const u=ae(s),h=He.now(),d=l.reduce((E,v)=>E.add(v.key),ue());let p,m;return u.persistence.runTransaction("Locally write mutations","readwrite",E=>{let v=Pn(),C=ue();return u.cs.getEntries(E,d).next(R=>{v=R,v.forEach((_,w)=>{w.isValidDocument()||(C=C.add(_))})}).next(()=>u.localDocuments.getOverlayedDocuments(E,v)).next(R=>{p=R;const _=[];for(const w of l){const I=PI(w,p.get(w.key).overlayedDocument);I!=null&&_.push(new Br(w.key,I,Nv(I.value.mapValue),_n.exists(!0)))}return u.mutationQueue.addMutationBatch(E,h,_,l)}).next(R=>{m=R;const _=R.applyToLocalDocumentSet(p,C);return u.documentOverlayCache.saveOverlays(E,R.batchId,_)})}).then(()=>({batchId:m.batchId,changes:zv(p)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(s,l,u){let h=s.Ba[s.currentUser.toKey()];h||(h=new De(de)),h=h.insert(l,u),s.Ba[s.currentUser.toKey()]=h}(r,i.batchId,n),await ys(r,i.changes),await Ml(r.remoteStore)}catch(i){const o=pf(i,"Failed to persist write");n.reject(o)}}async function T0(t,e){const n=ae(t);try{const r=await TC(n.localStore,e);e.targetChanges.forEach((i,o)=>{const s=n.Na.get(o);s&&(ve(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?s.va=!0:i.modifiedDocuments.size>0?ve(s.va):i.removedDocuments.size>0&&(ve(s.va),s.va=!1))}),await ys(n,r,e)}catch(r){await Bi(r)}}function Im(t,e,n){const r=ae(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.Fa.forEach((o,s)=>{const l=s.view.Z_(e);l.snapshot&&i.push(l.snapshot)}),function(s,l){const u=ae(s);u.onlineState=l;let h=!1;u.queries.forEach((d,p)=>{for(const m of p.j_)m.Z_(l)&&(h=!0)}),h&&mf(u)}(r.eventManager,e),i.length&&r.Ca.d_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function hP(t,e,n){const r=ae(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.Na.get(e),o=i&&i.key;if(o){let s=new De(te.comparator);s=s.insert(o,ft.newNoDocument(o,oe.min()));const l=ue().add(o),u=new Vl(oe.min(),new Map,new De(de),s,l);await T0(r,u),r.Oa=r.Oa.remove(o),r.Na.delete(e),gf(r)}else await Kc(r.localStore,e,!1).then(()=>Gc(r,e,n)).catch(Bi)}async function fP(t,e){const n=ae(t),r=e.batch.batchId;try{const i=await EC(n.localStore,e);I0(n,r,null),S0(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await ys(n,i)}catch(i){await Bi(i)}}async function dP(t,e,n){const r=ae(t);try{const i=await function(s,l){const u=ae(s);return u.persistence.runTransaction("Reject batch","readwrite-primary",h=>{let d;return u.mutationQueue.lookupMutationBatch(h,l).next(p=>(ve(p!==null),d=p.keys(),u.mutationQueue.removeMutationBatch(h,p))).next(()=>u.mutationQueue.performConsistencyCheck(h)).next(()=>u.documentOverlayCache.removeOverlaysForBatchId(h,d,l)).next(()=>u.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(h,d)).next(()=>u.localDocuments.getDocuments(h,d))})}(r.localStore,e);I0(r,e,n),S0(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await ys(r,i)}catch(i){await Bi(i)}}function S0(t,e){(t.ka.get(e)||[]).forEach(n=>{n.resolve()}),t.ka.delete(e)}function I0(t,e,n){const r=ae(t);let i=r.Ba[r.currentUser.toKey()];if(i){const o=i.get(e);o&&(n?o.reject(n):o.resolve(),i=i.remove(e)),r.Ba[r.currentUser.toKey()]=i}}function Gc(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Ma.get(e))t.Fa.delete(r),n&&t.Ca.$a(r,n);t.Ma.delete(e),t.isPrimaryClient&&t.La.gr(e).forEach(r=>{t.La.containsKey(r)||C0(t,r)})}function C0(t,e){t.xa.delete(e.path.canonicalString());const n=t.Oa.get(e);n!==null&&(uf(t.remoteStore,n),t.Oa=t.Oa.remove(e),t.Na.delete(n),gf(t))}function Cm(t,e,n){for(const r of n)r instanceof _0?(t.La.addReference(r.key,e),pP(t,r)):r instanceof w0?(G("SyncEngine","Document no longer in limbo: "+r.key),t.La.removeReference(r.key,e),t.La.containsKey(r.key)||C0(t,r.key)):ie()}function pP(t,e){const n=e.key,r=n.path.canonicalString();t.Oa.get(n)||t.xa.has(r)||(G("SyncEngine","New document in limbo: "+n),t.xa.add(r),gf(t))}function gf(t){for(;t.xa.size>0&&t.Oa.size<t.maxConcurrentLimboResolutions;){const e=t.xa.values().next().value;t.xa.delete(e);const n=new te(Ae.fromString(e)),r=t.qa.next();t.Na.set(r,new rP(n)),t.Oa=t.Oa.insert(n,r),d0(t.remoteStore,new Bn(ln(jv(n.path)),r,"TargetPurposeLimboResolution",Cl.oe))}}async function ys(t,e,n){const r=ae(t),i=[],o=[],s=[];r.Fa.isEmpty()||(r.Fa.forEach((l,u)=>{s.push(r.Ka(u,e,n).then(h=>{var d;if((h||n)&&r.isPrimaryClient){const p=h?!h.fromCache:(d=n==null?void 0:n.targetChanges.get(u.targetId))===null||d===void 0?void 0:d.current;r.sharedClientState.updateQueryState(u.targetId,p?"current":"not-current")}if(h){i.push(h);const p=lf.Wi(u.targetId,h);o.push(p)}}))}),await Promise.all(s),r.Ca.d_(i),await async function(u,h){const d=ae(u);try{await d.persistence.runTransaction("notifyLocalViewChanges","readwrite",p=>U.forEach(h,m=>U.forEach(m.$i,E=>d.persistence.referenceDelegate.addReference(p,m.targetId,E)).next(()=>U.forEach(m.Ui,E=>d.persistence.referenceDelegate.removeReference(p,m.targetId,E)))))}catch(p){if(!zi(p))throw p;G("LocalStore","Failed to update sequence numbers: "+p)}for(const p of h){const m=p.targetId;if(!p.fromCache){const E=d.os.get(m),v=E.snapshotVersion,C=E.withLastLimboFreeSnapshotVersion(v);d.os=d.os.insert(m,C)}}}(r.localStore,o))}async function mP(t,e){const n=ae(t);if(!n.currentUser.isEqual(e)){G("SyncEngine","User change. New user:",e.toKey());const r=await u0(n.localStore,e);n.currentUser=e,function(o,s){o.ka.forEach(l=>{l.forEach(u=>{u.reject(new ee(z.CANCELLED,s))})}),o.ka.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await ys(n,r.hs)}}function gP(t,e){const n=ae(t),r=n.Na.get(e);if(r&&r.va)return ue().add(r.key);{let i=ue();const o=n.Ma.get(e);if(!o)return i;for(const s of o){const l=n.Fa.get(s);i=i.unionWith(l.view.Va)}return i}}function P0(t){const e=ae(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=T0.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=gP.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=hP.bind(null,e),e.Ca.d_=JC.bind(null,e.eventManager),e.Ca.$a=ZC.bind(null,e.eventManager),e}function yP(t){const e=ae(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=fP.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=dP.bind(null,e),e}class nl{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Ol(e.databaseInfo.databaseId),this.sharedClientState=this.Wa(e),this.persistence=this.Ga(e),await this.persistence.start(),this.localStore=this.za(e),this.gcScheduler=this.ja(e,this.localStore),this.indexBackfillerScheduler=this.Ha(e,this.localStore)}ja(e,n){return null}Ha(e,n){return null}za(e){return wC(this.persistence,new vC,e.initialUser,this.serializer)}Ga(e){return new l0(af.Zr,this.serializer)}Wa(e){return new AC}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}nl.provider={build:()=>new nl};class vP extends nl{constructor(e){super(),this.cacheSizeBytes=e}ja(e,n){ve(this.persistence.referenceDelegate instanceof el);const r=this.persistence.referenceDelegate.garbageCollector;return new rC(r,e.asyncQueue,n)}Ga(e){const n=this.cacheSizeBytes!==void 0?Ct.withCacheSize(this.cacheSizeBytes):Ct.DEFAULT;return new l0(r=>el.Zr(r,n),this.serializer)}}class Yc{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>Im(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=mP.bind(null,this.syncEngine),await KC(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new GC}()}createDatastore(e){const n=Ol(e.databaseInfo.databaseId),r=function(o){return new NC(o)}(e.databaseInfo);return function(o,s,l,u){return new OC(o,s,l,u)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,i,o,s,l){return new MC(r,i,o,s,l)}(this.localStore,this.datastore,e.asyncQueue,n=>Im(this.syncEngine,n,0),function(){return _m.D()?new _m:new RC}())}createSyncEngine(e,n){return function(i,o,s,l,u,h,d){const p=new iP(i,o,s,l,u,h);return d&&(p.Qa=!0),p}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(i){const o=ae(i);G("RemoteStore","RemoteStore shutting down."),o.L_.add(5),await gs(o),o.k_.shutdown(),o.q_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}Yc.provider={build:()=>new Yc};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _P{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ya(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ya(this.observer.error,e):Cn("Uncaught Error in snapshot listener:",e.toString()))}Za(){this.muted=!0}Ya(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wP{constructor(e,n,r,i,o){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=ct.UNAUTHENTICATED,this.clientId=Rv.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=o,this.authCredentials.start(r,async s=>{G("FirestoreClient","Received user=",s.uid),await this.authCredentialListener(s),this.user=s}),this.appCheckCredentials.start(r,s=>(G("FirestoreClient","Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new er;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=pf(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function bu(t,e){t.asyncQueue.verifyOperationInProgress(),G("FirestoreClient","Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async i=>{r.isEqual(i)||(await u0(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function Pm(t,e){t.asyncQueue.verifyOperationInProgress();const n=await EP(t);G("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>wm(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>wm(e.remoteStore,i)),t._onlineComponents=e}async function EP(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){G("FirestoreClient","Using user provided OfflineComponentProvider");try{await bu(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(i){return i.name==="FirebaseError"?i.code===z.FAILED_PRECONDITION||i.code===z.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(n))throw n;Ri("Error using user provided cache. Falling back to memory cache: "+n),await bu(t,new nl)}}else G("FirestoreClient","Using default OfflineComponentProvider"),await bu(t,new vP(void 0));return t._offlineComponents}async function A0(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(G("FirestoreClient","Using user provided OnlineComponentProvider"),await Pm(t,t._uninitializedComponentsProvider._online)):(G("FirestoreClient","Using default OnlineComponentProvider"),await Pm(t,new Yc))),t._onlineComponents}function TP(t){return A0(t).then(e=>e.syncEngine)}async function SP(t){const e=await A0(t),n=e.eventManager;return n.onListen=oP.bind(null,e.syncEngine),n.onUnlisten=lP.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=sP.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=uP.bind(null,e.syncEngine),n}function IP(t,e,n={}){const r=new er;return t.asyncQueue.enqueueAndForget(async()=>function(o,s,l,u,h){const d=new _P({next:m=>{d.Za(),s.enqueueAndForget(()=>XC(o,p)),m.fromCache&&u.source==="server"?h.reject(new ee(z.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):h.resolve(m)},error:m=>h.reject(m)}),p=new eP(l,d,{includeMetadataChanges:!0,_a:!0});return YC(o,p)}(await SP(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function R0(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Am=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function x0(t,e,n){if(!n)throw new ee(z.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function CP(t,e,n,r){if(e===!0&&r===!0)throw new ee(z.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function Rm(t){if(!te.isDocumentKey(t))throw new ee(z.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function xm(t){if(te.isDocumentKey(t))throw new ee(z.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function yf(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":ie()}function rl(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new ee(z.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=yf(t);throw new ee(z.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class km{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new ee(z.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new ee(z.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}CP("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=R0((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(o){if(o.timeoutSeconds!==void 0){if(isNaN(o.timeoutSeconds))throw new ee(z.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (must not be NaN)`);if(o.timeoutSeconds<5)throw new ee(z.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (minimum allowed value is 5)`);if(o.timeoutSeconds>30)throw new ee(z.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Ll{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new km({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ee(z.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ee(z.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new km(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new DS;switch(r.type){case"firstParty":return new MS(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new ee(z.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=Am.get(n);r&&(G("ComponentProvider","Removing Datastore"),Am.delete(n),r.terminate())}(this),Promise.resolve()}}function PP(t,e,n,r={}){var i;const o=(t=rl(t,Ll))._getSettings(),s=`${e}:${n}`;if(o.host!=="firestore.googleapis.com"&&o.host!==s&&Ri("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},o),{host:s,ssl:!1})),r.mockUserToken){let l,u;if(typeof r.mockUserToken=="string")l=r.mockUserToken,u=ct.MOCK_USER;else{l=hT(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);const h=r.mockUserToken.sub||r.mockUserToken.user_id;if(!h)throw new ee(z.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");u=new ct(h)}t._authCredentials=new VS(new Av(l,u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jl{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new jl(this.firestore,e,this._query)}}class en{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new tr(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new en(this.firestore,e,this._key)}}class tr extends jl{constructor(e,n,r){super(e,n,jv(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new en(this.firestore,null,new te(e))}withConverter(e){return new tr(this.firestore,e,this._path)}}function Nm(t,e,...n){if(t=Zo(t),x0("collection","path",e),t instanceof Ll){const r=Ae.fromString(e,...n);return xm(r),new tr(t,null,r)}{if(!(t instanceof en||t instanceof tr))throw new ee(z.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Ae.fromString(e,...n));return xm(r),new tr(t.firestore,null,r)}}function AP(t,e,...n){if(t=Zo(t),arguments.length===1&&(e=Rv.newId()),x0("doc","path",e),t instanceof Ll){const r=Ae.fromString(e,...n);return Rm(r),new en(t,null,new te(r))}{if(!(t instanceof en||t instanceof tr))throw new ee(z.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Ae.fromString(e,...n));return Rm(r),new en(t.firestore,t instanceof tr?t.converter:null,new te(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dm{constructor(e=Promise.resolve()){this.Pu=[],this.Iu=!1,this.Tu=[],this.Eu=null,this.du=!1,this.Au=!1,this.Ru=[],this.t_=new h0(this,"async_queue_retry"),this.Vu=()=>{const r=Ou();r&&G("AsyncQueue","Visibility state changed to "+r.visibilityState),this.t_.jo()},this.mu=e;const n=Ou();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.Vu)}get isShuttingDown(){return this.Iu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.fu(),this.gu(e)}enterRestrictedMode(e){if(!this.Iu){this.Iu=!0,this.Au=e||!1;const n=Ou();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Vu)}}enqueue(e){if(this.fu(),this.Iu)return new Promise(()=>{});const n=new er;return this.gu(()=>this.Iu&&this.Au?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Pu.push(e),this.pu()))}async pu(){if(this.Pu.length!==0){try{await this.Pu[0](),this.Pu.shift(),this.t_.reset()}catch(e){if(!zi(e))throw e;G("AsyncQueue","Operation failed with retryable error: "+e)}this.Pu.length>0&&this.t_.Go(()=>this.pu())}}gu(e){const n=this.mu.then(()=>(this.du=!0,e().catch(r=>{this.Eu=r,this.du=!1;const i=function(s){let l=s.message||"";return s.stack&&(l=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),l}(r);throw Cn("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.du=!1,r))));return this.mu=n,n}enqueueAfterDelay(e,n,r){this.fu(),this.Ru.indexOf(e)>-1&&(n=0);const i=df.createAndSchedule(this,e,n,r,o=>this.yu(o));return this.Tu.push(i),i}fu(){this.Eu&&ie()}verifyOperationInProgress(){}async wu(){let e;do e=this.mu,await e;while(e!==this.mu)}Su(e){for(const n of this.Tu)if(n.timerId===e)return!0;return!1}bu(e){return this.wu().then(()=>{this.Tu.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.Tu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.wu()})}Du(e){this.Ru.push(e)}yu(e){const n=this.Tu.indexOf(e);this.Tu.splice(n,1)}}class vf extends Ll{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new Dm,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new Dm(e),this._firestoreClient=void 0,await e}}}function RP(t,e){const n=typeof t=="object"?t:wS(),r=typeof t=="string"?t:"(default)",i=gS(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const o=uT("firestore");o&&PP(i,...o)}return i}function k0(t){if(t._terminated)throw new ee(z.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||xP(t),t._firestoreClient}function xP(t){var e,n,r;const i=t._freezeSettings(),o=function(l,u,h,d){return new XS(l,u,h,d.host,d.ssl,d.experimentalForceLongPolling,d.experimentalAutoDetectLongPolling,R0(d.experimentalLongPollingOptions),d.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._componentsProvider||!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),t._firestoreClient=new wP(t._authCredentials,t._appCheckCredentials,t._queue,o,t._componentsProvider&&function(l){const u=l==null?void 0:l._online.build();return{_offline:l==null?void 0:l._offline.build(u),_online:u}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oi{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Oi(it.fromBase64String(e))}catch(n){throw new ee(z.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Oi(it.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _f{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new ee(z.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new tt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N0{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wf{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new ee(z.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new ee(z.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return de(this._lat,e._lat)||de(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ef{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let o=0;o<r.length;++o)if(r[o]!==i[o])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kP=/^__.*__$/;class NP{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new Br(e,this.data,this.fieldMask,n,this.fieldTransforms):new ps(e,this.data,n,this.fieldTransforms)}}function D0(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ie()}}class Tf{constructor(e,n,r,i,o,s){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,o===void 0&&this.vu(),this.fieldTransforms=o||[],this.fieldMask=s||[]}get path(){return this.settings.path}get Cu(){return this.settings.Cu}Fu(e){return new Tf(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Mu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Fu({path:r,xu:!1});return i.Ou(e),i}Nu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Fu({path:r,xu:!1});return i.vu(),i}Lu(e){return this.Fu({path:void 0,xu:!0})}Bu(e){return il(e,this.settings.methodName,this.settings.ku||!1,this.path,this.settings.qu)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}vu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Ou(this.path.get(e))}Ou(e){if(e.length===0)throw this.Bu("Document fields must not be empty");if(D0(this.Cu)&&kP.test(e))throw this.Bu('Document fields cannot begin and end with "__"')}}class DP{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||Ol(e)}Qu(e,n,r,i=!1){return new Tf({Cu:e,methodName:n,qu:r,path:tt.emptyPath(),xu:!1,ku:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function VP(t){const e=t._freezeSettings(),n=Ol(t._databaseId);return new DP(t._databaseId,!!e.ignoreUndefinedProperties,n)}function OP(t,e,n,r,i,o={}){const s=t.Qu(o.merge||o.mergeFields?2:0,e,n,i);M0("Data must be an object, but it was:",s,r);const l=O0(r,s);let u,h;if(o.merge)u=new Xt(s.fieldMask),h=s.fieldTransforms;else if(o.mergeFields){const d=[];for(const p of o.mergeFields){const m=bP(e,p,n);if(!s.contains(m))throw new ee(z.INVALID_ARGUMENT,`Field '${m}' is specified in your field mask but missing from your input data.`);LP(d,m)||d.push(m)}u=new Xt(d),h=s.fieldTransforms.filter(p=>u.covers(p.field))}else u=null,h=s.fieldTransforms;return new NP(new Bt(l),u,h)}function V0(t,e){if(b0(t=Zo(t)))return M0("Unsupported field value:",e,t),O0(t,e);if(t instanceof N0)return function(r,i){if(!D0(i.Cu))throw i.Bu(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Bu(`${r._methodName}() is not currently supported inside arrays`);const o=r._toFieldTransform(i);o&&i.fieldTransforms.push(o)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.xu&&e.Cu!==4)throw e.Bu("Nested arrays are not supported");return function(r,i){const o=[];let s=0;for(const l of r){let u=V0(l,i.Lu(s));u==null&&(u={nullValue:"NULL_VALUE"}),o.push(u),s++}return{arrayValue:{values:o}}}(t,e)}return function(r,i){if((r=Zo(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return wI(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const o=He.fromDate(r);return{timestampValue:Za(i.serializer,o)}}if(r instanceof He){const o=new He(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Za(i.serializer,o)}}if(r instanceof wf)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Oi)return{bytesValue:t0(i.serializer,r._byteString)};if(r instanceof en){const o=i.databaseId,s=r.firestore._databaseId;if(!s.isEqual(o))throw i.Bu(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:of(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof Ef)return function(s,l){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:s.toArray().map(u=>{if(typeof u!="number")throw l.Bu("VectorValues must only contain numeric values.");return tf(l.serializer,u)})}}}}}}(r,i);throw i.Bu(`Unsupported field value: ${yf(r)}`)}(t,e)}function O0(t,e){const n={};return xv(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Fr(t,(r,i)=>{const o=V0(i,e.Mu(r));o!=null&&(n[r]=o)}),{mapValue:{fields:n}}}function b0(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof He||t instanceof wf||t instanceof Oi||t instanceof en||t instanceof N0||t instanceof Ef)}function M0(t,e,n){if(!b0(n)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(n)){const r=yf(n);throw r==="an object"?e.Bu(t+" a custom object"):e.Bu(t+" "+r)}}function bP(t,e,n){if((e=Zo(e))instanceof _f)return e._internalPath;if(typeof e=="string")return L0(t,e);throw il("Field path arguments must be of type string or ",t,!1,void 0,n)}const MP=new RegExp("[~\\*/\\[\\]]");function L0(t,e,n){if(e.search(MP)>=0)throw il(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new _f(...e.split("."))._internalPath}catch{throw il(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function il(t,e,n,r,i){const o=r&&!r.isEmpty(),s=i!==void 0;let l=`Function ${e}() called with invalid data`;n&&(l+=" (via `toFirestore()`)"),l+=". ";let u="";return(o||s)&&(u+=" (found",o&&(u+=` in field ${r}`),s&&(u+=` in document ${i}`),u+=")"),new ee(z.INVALID_ARGUMENT,l+t+u)}function LP(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j0{constructor(e,n,r,i,o){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new en(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new jP(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(F0("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class jP extends j0{data(){return super.data()}}function F0(t,e){return typeof e=="string"?L0(t,e):e instanceof _f?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FP(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new ee(z.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class UP{convertValue(e,n="none"){switch(ar(e)){case 0:return null;case 1:return e.booleanValue;case 2:return be(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(sr(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw ie()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return Fr(e,(i,o)=>{r[i]=this.convertValue(o,n)}),r}convertVectorValue(e){var n,r,i;const o=(i=(r=(n=e.fields)===null||n===void 0?void 0:n.value.arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.map(s=>be(s.doubleValue));return new Ef(o)}convertGeoPoint(e){return new wf(be(e.latitude),be(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=Al(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(rs(e));default:return null}}convertTimestamp(e){const n=or(e);return new He(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=Ae.fromString(e);ve(a0(r));const i=new is(r.get(1),r.get(3)),o=new te(r.popFirst(5));return i.isEqual(n)||Cn(`Document ${o} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BP(t,e,n){let r;return r=t?t.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ea{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class zP extends j0{constructor(e,n,r,i,o,s){super(e,n,r,i,s),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new va(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(F0("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class va extends zP{data(e={}){return super.data(e)}}class $P{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new ea(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new va(this._firestore,this._userDataWriter,r.key,r,new ea(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new ee(z.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,o){if(i._snapshot.oldDocs.isEmpty()){let s=0;return i._snapshot.docChanges.map(l=>{const u=new va(i._firestore,i._userDataWriter,l.doc.key,l.doc,new ea(i._snapshot.mutatedKeys.has(l.doc.key),i._snapshot.fromCache),i.query.converter);return l.doc,{type:"added",doc:u,oldIndex:-1,newIndex:s++}})}{let s=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(l=>o||l.type!==3).map(l=>{const u=new va(i._firestore,i._userDataWriter,l.doc.key,l.doc,new ea(i._snapshot.mutatedKeys.has(l.doc.key),i._snapshot.fromCache),i.query.converter);let h=-1,d=-1;return l.type!==0&&(h=s.indexOf(l.doc.key),s=s.delete(l.doc.key)),l.type!==1&&(s=s.add(l.doc),d=s.indexOf(l.doc.key)),{type:WP(l.type),doc:u,oldIndex:h,newIndex:d}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function WP(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ie()}}class qP extends UP{constructor(e){super(),this.firestore=e}convertBytes(e){return new Oi(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new en(this.firestore,null,n)}}function HP(t){t=rl(t,jl);const e=rl(t.firestore,vf),n=k0(e),r=new qP(e);return FP(t._query),IP(n,t._query).then(i=>new $P(e,r,t,i))}function KP(t,e){const n=rl(t.firestore,vf),r=AP(t),i=BP(t.converter,e);return QP(n,[OP(VP(t.firestore),"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,_n.exists(!1))]).then(()=>r)}function QP(t,e){return function(r,i){const o=new er;return r.asyncQueue.enqueueAndForget(async()=>cP(await TP(r),i,o)),o.promise}(k0(t),e)}(function(e,n=!0){(function(i){Ui=i})(_S),Ka(new es("firestore",(r,{instanceIdentifier:i,options:o})=>{const s=r.getProvider("app").getImmediate(),l=new vf(new OS(r.getProvider("auth-internal")),new jS(r.getProvider("app-check-internal")),function(h,d){if(!Object.prototype.hasOwnProperty.apply(h.options,["projectId"]))throw new ee(z.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new is(h.options.projectId,d)}(s,i),s);return o=Object.assign({useFetchStreams:n},o),l._setSettings(o),l},"PUBLIC").setMultipleInstances(!0)),_i(Kp,"4.7.4",e),_i(Kp,"4.7.4","esm2017")})();const GP={apiKey:"AIzaSyBwM6bYlWhTaMEGGC61rhAKDLTaUkiPdzk",authDomain:"birthday-f70ab.firebaseapp.com",projectId:"birthday-f70ab",storageBucket:"birthday-f70ab.appspot.com",messagingSenderId:"540378444726",appId:"1:540378444726:web:20bbf0ce1f97cdf70a0717",measurementId:"G-32X01CMT27"},YP=vv(GP),Vm=RP(YP);function XP(){const[t,e]=q.useState([]),[n,r]=q.useState(!0),[i,o]=q.useState(null),[s,l]=q.useState(""),[u,h]=q.useState("");q.useEffect(()=>{(async()=>{try{r(!0);const m=await HP(Nm(Vm,"wishes"));e(m.docs.map(E=>E.data()))}catch(m){o("Failed to load wishes. Please try again later."),console.error("Error fetching wishes:",m)}finally{r(!1)}})()},[]);const d=async p=>{if(p.preventDefault(),!s||!u){alert("Please fill out both fields.");return}const m={name:s,message:u};try{await KP(Nm(Vm,"wishes"),m),e(E=>[...E,m]),l(""),h("")}catch(E){console.error("Error adding wish:",E)}};return F.jsxs("div",{className:"wishes-wall max-w-4xl mx-auto p-8 bg-gradient-to-b from-yellow-100 to-yellow-50 rounded-xl shadow-2xl border-4 border-yellow-400 transform transition-all hover:shadow-3xl",children:[F.jsx("h2",{className:"text-4xl font-bold text-center text-yellow-800 mb-8",children:" Birthday Wishes "}),F.jsxs("form",{onSubmit:d,className:"wish-form flex flex-col items-center mb-10 space-y-4",children:[F.jsx("input",{type:"text",placeholder:"Your Name",value:s,onChange:p=>l(p.target.value),className:"w-full max-w-md p-3 text-yellow-900 border-2 border-yellow-400 rounded-lg focus:outline-none focus:ring-2 focus:ring-yellow-500 focus:bg-yellow-50 transform transition-all duration-300 hover:shadow-inner hover:bg-yellow-100",required:!0}),F.jsx("textarea",{placeholder:"Your Birthday Wish",value:u,onChange:p=>h(p.target.value),className:"w-full max-w-md p-3 text-yellow-900 border-2 border-yellow-400 rounded-lg focus:outline-none focus:ring-2 focus:ring-yellow-500 focus:bg-yellow-50 transform transition-all duration-300 hover:shadow-inner hover:bg-yellow-100",required:!0}),F.jsx("button",{type:"submit",className:"px-8 py-2 bg-yellow-600 text-white font-semibold rounded-full shadow-lg transform transition-transform duration-300 hover:scale-105 hover:bg-yellow-700 hover:shadow-2xl focus:outline-none",children:" Send Wish "})]}),n&&F.jsx("p",{className:"text-center text-yellow-700",children:"Loading wishes..."}),i&&F.jsx("p",{className:"text-center text-red-500",children:i}),F.jsx("div",{className:"wishes-container grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:t.map((p,m)=>F.jsxs("div",{className:"wish-card p-5 bg-gradient-to-br from-yellow-50 to-white border border-yellow-300 rounded-lg shadow-xl transform transition-all duration-300 hover:scale-105 hover:shadow-2xl",children:[F.jsx("h3",{className:"text-xl font-semibold text-yellow-900",children:p.name}),F.jsxs("p",{className:"text-yellow-800 mt-3 italic",children:['"',p.message,'"']})]},m))})]})}const JP=[{id:1,name:"Toy Car",price:200,displayPrice:"200 KSh",imageUrl:"/julian/assets/car.png"},{id:2,name:"Story Book",price:500,displayPrice:"500 KSh",imageUrl:"/julian/assets/storybook.png"},{id:3,name:"Birthday Outfit",price:1e3,displayPrice:"1000 KSh",imageUrl:"/julian/assets/outfit.png"},{id:4,name:"Lego Set",price:100,displayPrice:"100 KSh",imageUrl:"/julian/assets/legoset.png"},{id:5,name:"Smart Watch",price:500,displayPrice:"500 KSh",imageUrl:"/julian/assets/smartwatch.png"},{id:6,name:"Bicycle",price:5e3,displayPrice:"5000 KSh",imageUrl:"/julian/assets/bicycle.png"},{id:7,name:"Smart Toy",price:1e4,displayPrice:"10000 KSh",imageUrl:"/julian/assets/jettoy.png"},{id:8,name:"Sweet",price:10,displayPrice:"10 KSh",imageUrl:"/julian/assets/sweets.png"},{id:9,name:"Cake",price:20,displayPrice:"20 KSh",imageUrl:"/julian/assets/cake.png"},{id:10,name:"Yoghurt",price:50,displayPrice:"50 KSh",imageUrl:"/julian/assets/yoghurt.png"}],Om={10:"https://payment.intasend.com/pay/6c98b103-7982-4157-8893-24a1aee23ef5/",20:"https://payment.intasend.com/pay/0cb96d4e-4cd3-4108-bf3d-993502151e0e/",50:"https://payment.intasend.com/pay/1e18a5c7-21da-4876-ae21-a6293a9f1fd8/",100:"https://payment.intasend.com/pay/9a08aec7-a59b-4b87-972d-5a8911ea8142/",200:"https://payment.intasend.com/pay/7565f265-647b-4e18-8ddf-3147eaf878c8/",500:"https://payment.intasend.com/pay/93b367db-9695-4352-8468-584f10c0aa68/",1e3:"https://payment.intasend.com/pay/20f8d627-d1ec-463d-b509-c10bfe0fa46e/",1e4:"https://payment.intasend.com/pay/2eaaf8fc-eb78-4b24-b2d0-a06d803316c3/"},U0=t=>{const n=Object.keys(Om).map(Number).sort((r,i)=>r-i).find(r=>r>=t);return n?Om[n]:null},ZP=({item:t})=>{const e=U0(t.price);return F.jsxs("div",{className:`gift-item border p-4 rounded-lg shadow-lg transform transition ${e?"hover:scale-105 hover:shadow-xl cursor-pointer":"opacity-50 cursor-not-allowed"}`,onClick:()=>e&&window.open(e,"_blank"),children:[F.jsx("img",{src:t.imageUrl,alt:t.name,onError:n=>n.currentTarget.src="/julianbirthday/assets/placeholder.png",className:"w-full h-48 object-cover rounded-t-lg"}),F.jsxs("div",{className:"mt-4 text-center",children:[F.jsx("h3",{className:"text-xl font-semibold text-gray-800",children:t.name}),F.jsx("p",{className:"text-gray-600",children:t.displayPrice}),F.jsx("span",{className:`text-sm mt-2 inline-block ${e?"text-green-600":"text-red-500"}`,children:e?"Click to purchase gift":"No payment link available"})]})]})},eA=()=>{const t=JP.filter(e=>U0(e.price));return F.jsxs("div",{className:"gift-registry max-w-6xl mx-auto p-8",children:[F.jsx("h2",{className:"text-2xl font-bold text-center text-gray-800 mb-4",children:"Gift Registry for Julian"}),F.jsx("p",{className:"text-center text-gray-600 mb-6",children:"Choose from the wishlist to contribute a gift,  click on photo you will be directed and choose mpesa option, check your phone and input your pin!"}),F.jsx("div",{className:"gift-list grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6",children:t.map(e=>F.jsx(ZP,{item:e},e.id))})]})};var B0={exports:{}};(function(t,e){(function(n,r){t.exports=r(q)})(typeof self<"u"?self:Lm,function(n){return function(r){var i={};function o(s){if(i[s])return i[s].exports;var l=i[s]={i:s,l:!1,exports:{}};return r[s].call(l.exports,l,l.exports,o),l.l=!0,l.exports}return o.m=r,o.c=i,o.d=function(s,l,u){o.o(s,l)||Object.defineProperty(s,l,{enumerable:!0,get:u})},o.r=function(s){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(s,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(s,"__esModule",{value:!0})},o.t=function(s,l){if(1&l&&(s=o(s)),8&l||4&l&&typeof s=="object"&&s&&s.__esModule)return s;var u=Object.create(null);if(o.r(u),Object.defineProperty(u,"default",{enumerable:!0,value:s}),2&l&&typeof s!="string")for(var h in s)o.d(u,h,(function(d){return s[d]}).bind(null,h));return u},o.n=function(s){var l=s&&s.__esModule?function(){return s.default}:function(){return s};return o.d(l,"a",l),l},o.o=function(s,l){return Object.prototype.hasOwnProperty.call(s,l)},o.p="",o(o.s=2)}([function(r,i){r.exports=n},function(r,i,o){var s={linear:function(l,u,h,d){return(h-u)*l/d+u},easeInQuad:function(l,u,h,d){return(h-u)*(l/=d)*l+u},easeOutQuad:function(l,u,h,d){return-(h-u)*(l/=d)*(l-2)+u},easeInOutQuad:function(l,u,h,d){var p=h-u;return(l/=d/2)<1?p/2*l*l+u:-p/2*(--l*(l-2)-1)+u},easeInCubic:function(l,u,h,d){return(h-u)*(l/=d)*l*l+u},easeOutCubic:function(l,u,h,d){return(h-u)*((l=l/d-1)*l*l+1)+u},easeInOutCubic:function(l,u,h,d){var p=h-u;return(l/=d/2)<1?p/2*l*l*l+u:p/2*((l-=2)*l*l+2)+u},easeInQuart:function(l,u,h,d){return(h-u)*(l/=d)*l*l*l+u},easeOutQuart:function(l,u,h,d){return-(h-u)*((l=l/d-1)*l*l*l-1)+u},easeInOutQuart:function(l,u,h,d){var p=h-u;return(l/=d/2)<1?p/2*l*l*l*l+u:-p/2*((l-=2)*l*l*l-2)+u},easeInQuint:function(l,u,h,d){return(h-u)*(l/=d)*l*l*l*l+u},easeOutQuint:function(l,u,h,d){return(h-u)*((l=l/d-1)*l*l*l*l+1)+u},easeInOutQuint:function(l,u,h,d){var p=h-u;return(l/=d/2)<1?p/2*l*l*l*l*l+u:p/2*((l-=2)*l*l*l*l+2)+u},easeInSine:function(l,u,h,d){var p=h-u;return-p*Math.cos(l/d*(Math.PI/2))+p+u},easeOutSine:function(l,u,h,d){return(h-u)*Math.sin(l/d*(Math.PI/2))+u},easeInOutSine:function(l,u,h,d){return-(h-u)/2*(Math.cos(Math.PI*l/d)-1)+u},easeInExpo:function(l,u,h,d){return l==0?u:(h-u)*Math.pow(2,10*(l/d-1))+u},easeOutExpo:function(l,u,h,d){var p=h-u;return l==d?u+p:p*(1-Math.pow(2,-10*l/d))+u},easeInOutExpo:function(l,u,h,d){var p=h-u;return l===0?u:l===d?u+p:(l/=d/2)<1?p/2*Math.pow(2,10*(l-1))+u:p/2*(2-Math.pow(2,-10*--l))+u},easeInCirc:function(l,u,h,d){return-(h-u)*(Math.sqrt(1-(l/=d)*l)-1)+u},easeOutCirc:function(l,u,h,d){return(h-u)*Math.sqrt(1-(l=l/d-1)*l)+u},easeInOutCirc:function(l,u,h,d){var p=h-u;return(l/=d/2)<1?-p/2*(Math.sqrt(1-l*l)-1)+u:p/2*(Math.sqrt(1-(l-=2)*l)+1)+u},easeInElastic:function(l,u,h,d){var p,m,E,v=h-u;return E=1.70158,l===0?u:(l/=d)==1?u+v:((m=0)||(m=.3*d),(p=v)<Math.abs(v)?(p=v,E=m/4):E=m/(2*Math.PI)*Math.asin(v/p),-p*Math.pow(2,10*(l-=1))*Math.sin((l*d-E)*(2*Math.PI)/m)+u)},easeOutElastic:function(l,u,h,d){var p,m,E,v=h-u;return E=1.70158,l===0?u:(l/=d)==1?u+v:((m=0)||(m=.3*d),(p=v)<Math.abs(v)?(p=v,E=m/4):E=m/(2*Math.PI)*Math.asin(v/p),p*Math.pow(2,-10*l)*Math.sin((l*d-E)*(2*Math.PI)/m)+v+u)},easeInOutElastic:function(l,u,h,d){var p,m,E,v=h-u;return E=1.70158,l===0?u:(l/=d/2)==2?u+v:((m=0)||(m=d*.44999999999999996),(p=v)<Math.abs(v)?(p=v,E=m/4):E=m/(2*Math.PI)*Math.asin(v/p),l<1?p*Math.pow(2,10*(l-=1))*Math.sin((l*d-E)*(2*Math.PI)/m)*-.5+u:p*Math.pow(2,-10*(l-=1))*Math.sin((l*d-E)*(2*Math.PI)/m)*.5+v+u)},easeInBack:function(l,u,h,d,p){return p===void 0&&(p=1.70158),(h-u)*(l/=d)*l*((p+1)*l-p)+u},easeOutBack:function(l,u,h,d,p){return p===void 0&&(p=1.70158),(h-u)*((l=l/d-1)*l*((p+1)*l+p)+1)+u},easeInOutBack:function(l,u,h,d,p){var m=h-u;return p===void 0&&(p=1.70158),(l/=d/2)<1?m/2*(l*l*((1+(p*=1.525))*l-p))+u:m/2*((l-=2)*l*((1+(p*=1.525))*l+p)+2)+u},easeInBounce:function(l,u,h,d){var p=h-u;return p-s.easeOutBounce(d-l,0,p,d)+u},easeOutBounce:function(l,u,h,d){var p=h-u;return(l/=d)<.36363636363636365?p*(7.5625*l*l)+u:l<.7272727272727273?p*(7.5625*(l-=.5454545454545454)*l+.75)+u:l<.9090909090909091?p*(7.5625*(l-=.8181818181818182)*l+.9375)+u:p*(7.5625*(l-=.9545454545454546)*l+.984375)+u},easeInOutBounce:function(l,u,h,d){var p=h-u;return l<d/2?.5*s.easeInBounce(2*l,0,p,d)+u:.5*s.easeOutBounce(2*l-d,0,p,d)+.5*p+u}};r.exports=s},function(r,i,o){r.exports=o(3)},function(r,i,o){o.r(i),o.d(i,"ReactConfetti",function(){return b});var s,l,u=o(0),h=o.n(u),d=o(1),p=o.n(d);function m(k,M){return k+Math.random()*(M-k)}function E(k,M){for(var j=0;j<M.length;j++){var V=M[j];V.enumerable=V.enumerable||!1,V.configurable=!0,"value"in V&&(V.writable=!0),Object.defineProperty(k,V.key,V)}}function v(k,M,j){return M in k?Object.defineProperty(k,M,{value:j,enumerable:!0,configurable:!0,writable:!0}):k[M]=j,k}(function(k){k[k.Circle=0]="Circle",k[k.Square=1]="Square",k[k.Strip=2]="Strip"})(s||(s={})),function(k){k[k.Positive=1]="Positive",k[k.Negative=-1]="Negative"}(l||(l={}));var C=function(){function k(V,J,H,X){(function($r,Wi){if(!($r instanceof Wi))throw new TypeError("Cannot call a class as a function")})(this,k),v(this,"context",void 0),v(this,"radius",void 0),v(this,"x",void 0),v(this,"y",void 0),v(this,"w",void 0),v(this,"h",void 0),v(this,"vx",void 0),v(this,"vy",void 0),v(this,"shape",void 0),v(this,"angle",void 0),v(this,"angularSpin",void 0),v(this,"color",void 0),v(this,"rotateY",void 0),v(this,"rotationDirection",void 0),v(this,"getOptions",void 0),this.getOptions=J;var Z,se,ce=this.getOptions(),ze=ce.colors,It=ce.initialVelocityX,mt=ce.initialVelocityY;this.context=V,this.x=H,this.y=X,this.w=m(5,20),this.h=m(5,20),this.radius=m(5,10),this.vx=typeof It=="number"?m(-It,It):m(It.min,It.max),this.vy=typeof mt=="number"?m(-mt,0):m(mt.min,mt.max),this.shape=(Z=0,se=2,Math.floor(Z+Math.random()*(se-Z+1))),this.angle=m(0,360)*Math.PI/180,this.angularSpin=m(-.2,.2),this.color=ze[Math.floor(Math.random()*ze.length)],this.rotateY=m(0,1),this.rotationDirection=m(0,1)?l.Positive:l.Negative}var M,j;return M=k,(j=[{key:"update",value:function(){var V=this.getOptions(),J=V.gravity,H=V.wind,X=V.friction,Z=V.opacity,se=V.drawShape;this.x+=this.vx,this.y+=this.vy,this.vy+=J,this.vx+=H,this.vx*=X,this.vy*=X,this.rotateY>=1&&this.rotationDirection===l.Positive?this.rotationDirection=l.Negative:this.rotateY<=-1&&this.rotationDirection===l.Negative&&(this.rotationDirection=l.Positive);var ce=.1*this.rotationDirection;if(this.rotateY+=ce,this.angle+=this.angularSpin,this.context.save(),this.context.translate(this.x,this.y),this.context.rotate(this.angle),this.context.scale(1,this.rotateY),this.context.rotate(this.angle),this.context.beginPath(),this.context.fillStyle=this.color,this.context.strokeStyle=this.color,this.context.globalAlpha=Z,this.context.lineCap="round",this.context.lineWidth=2,se&&typeof se=="function")se.call(this,this.context);else switch(this.shape){case s.Circle:this.context.beginPath(),this.context.arc(0,0,this.radius,0,2*Math.PI),this.context.fill();break;case s.Square:this.context.fillRect(-this.w/2,-this.h/2,this.w,this.h);break;case s.Strip:this.context.fillRect(-this.w/6,-this.h/2,this.w/3,this.h)}this.context.closePath(),this.context.restore()}}])&&E(M.prototype,j),k}();function R(k,M,j){return M in k?Object.defineProperty(k,M,{value:j,enumerable:!0,configurable:!0,writable:!0}):k[M]=j,k}var _=function k(M,j){var V=this;(function(H,X){if(!(H instanceof X))throw new TypeError("Cannot call a class as a function")})(this,k),R(this,"canvas",void 0),R(this,"context",void 0),R(this,"getOptions",void 0),R(this,"x",0),R(this,"y",0),R(this,"w",0),R(this,"h",0),R(this,"lastNumberOfPieces",0),R(this,"tweenInitTime",Date.now()),R(this,"particles",[]),R(this,"particlesGenerated",0),R(this,"removeParticleAt",function(H){V.particles.splice(H,1)}),R(this,"getParticle",function(){var H=m(V.x,V.w+V.x),X=m(V.y,V.h+V.y);return new C(V.context,V.getOptions,H,X)}),R(this,"animate",function(){var H=V.canvas,X=V.context,Z=V.particlesGenerated,se=V.lastNumberOfPieces,ce=V.getOptions(),ze=ce.run,It=ce.recycle,mt=ce.numberOfPieces,$r=ce.debug,Wi=ce.tweenFunction,fr=ce.tweenDuration;if(!ze)return!1;var dr=V.particles.length,Rn=It?dr:Z,Le=Date.now();if(Rn<mt){se!==mt&&(V.tweenInitTime=Le,V.lastNumberOfPieces=mt);for(var Ke=V.tweenInitTime,Wr=Wi(Le-Ke>fr?fr:Math.max(0,Le-Ke),Rn,mt,fr),qi=Math.round(Wr-Rn),Hi=0;Hi<qi;Hi++)V.particles.push(V.getParticle());V.particlesGenerated+=qi}return $r&&(X.font="12px sans-serif",X.fillStyle="#333",X.textAlign="right",X.fillText("Particles: ".concat(dr),H.width-10,H.height-20)),V.particles.forEach(function(pr,xn){pr.update(),(pr.y>H.height||pr.y<-100||pr.x>H.width+100||pr.x<-100)&&(It&&Rn<=mt?V.particles[xn]=V.getParticle():V.removeParticleAt(xn))}),dr>0||Rn<mt}),this.canvas=M;var J=this.canvas.getContext("2d");if(!J)throw new Error("Could not get canvas context");this.context=J,this.getOptions=j};function w(k,M){var j=Object.keys(k);if(Object.getOwnPropertySymbols){var V=Object.getOwnPropertySymbols(k);M&&(V=V.filter(function(J){return Object.getOwnPropertyDescriptor(k,J).enumerable})),j.push.apply(j,V)}return j}function I(k){for(var M=1;M<arguments.length;M++){var j=arguments[M]!=null?arguments[M]:{};M%2?w(Object(j),!0).forEach(function(V){B(k,V,j[V])}):Object.getOwnPropertyDescriptors?Object.defineProperties(k,Object.getOwnPropertyDescriptors(j)):w(Object(j)).forEach(function(V){Object.defineProperty(k,V,Object.getOwnPropertyDescriptor(j,V))})}return k}function O(k,M){for(var j=0;j<M.length;j++){var V=M[j];V.enumerable=V.enumerable||!1,V.configurable=!0,"value"in V&&(V.writable=!0),Object.defineProperty(k,V.key,V)}}function B(k,M,j){return M in k?Object.defineProperty(k,M,{value:j,enumerable:!0,configurable:!0,writable:!0}):k[M]=j,k}var $={width:typeof window<"u"?window.innerWidth:300,height:typeof window<"u"?window.innerHeight:200,numberOfPieces:200,friction:.99,wind:0,gravity:.1,initialVelocityX:4,initialVelocityY:10,colors:["#f44336","#e91e63","#9c27b0","#673ab7","#3f51b5","#2196f3","#03a9f4","#00bcd4","#009688","#4CAF50","#8BC34A","#CDDC39","#FFEB3B","#FFC107","#FF9800","#FF5722","#795548"],opacity:1,debug:!1,tweenFunction:p.a.easeInOutQuad,tweenDuration:5e3,recycle:!0,run:!0},S=function(){function k(V,J){var H=this;(function(Z,se){if(!(Z instanceof se))throw new TypeError("Cannot call a class as a function")})(this,k),B(this,"canvas",void 0),B(this,"context",void 0),B(this,"_options",void 0),B(this,"generator",void 0),B(this,"rafId",void 0),B(this,"setOptionsWithDefaults",function(Z){var se={confettiSource:{x:0,y:0,w:H.canvas.width,h:0}};H._options=I(I(I({},se),$),Z),Object.assign(H,Z.confettiSource)}),B(this,"update",function(){var Z=H.options,se=Z.run,ce=Z.onConfettiComplete,ze=H.canvas,It=H.context;se&&(It.fillStyle="white",It.clearRect(0,0,ze.width,ze.height)),H.generator.animate()?H.rafId=requestAnimationFrame(H.update):(ce&&typeof ce=="function"&&H.generator.particlesGenerated>0&&ce.call(H,H),H._options.run=!1)}),B(this,"reset",function(){H.generator&&H.generator.particlesGenerated>0&&(H.generator.particlesGenerated=0,H.generator.particles=[],H.generator.lastNumberOfPieces=0)}),B(this,"stop",function(){H.options={run:!1},H.rafId&&(cancelAnimationFrame(H.rafId),H.rafId=void 0)}),this.canvas=V;var X=this.canvas.getContext("2d");if(!X)throw new Error("Could not get canvas context");this.context=X,this.generator=new _(this.canvas,function(){return H.options}),this.options=J,this.update()}var M,j;return M=k,(j=[{key:"options",get:function(){return this._options},set:function(V){var J=this._options&&this._options.run,H=this._options&&this._options.recycle;this.setOptionsWithDefaults(V),this.generator&&(Object.assign(this.generator,this.options.confettiSource),typeof V.recycle=="boolean"&&V.recycle&&H===!1&&(this.generator.lastNumberOfPieces=this.generator.particles.length)),typeof V.run=="boolean"&&V.run&&J===!1&&this.update()}}])&&O(M.prototype,j),k}();function y(k){return function(M){if(Array.isArray(M))return Et(M)}(k)||function(M){if(typeof Symbol<"u"&&Symbol.iterator in Object(M))return Array.from(M)}(k)||Be(k)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function T(k){return(T=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(M){return typeof M}:function(M){return M&&typeof Symbol=="function"&&M.constructor===Symbol&&M!==Symbol.prototype?"symbol":typeof M})(k)}function P(){return(P=Object.assign||function(k){for(var M=1;M<arguments.length;M++){var j=arguments[M];for(var V in j)Object.prototype.hasOwnProperty.call(j,V)&&(k[V]=j[V])}return k}).apply(this,arguments)}function x(k,M){var j=Object.keys(k);if(Object.getOwnPropertySymbols){var V=Object.getOwnPropertySymbols(k);M&&(V=V.filter(function(J){return Object.getOwnPropertyDescriptor(k,J).enumerable})),j.push.apply(j,V)}return j}function N(k){for(var M=1;M<arguments.length;M++){var j=arguments[M]!=null?arguments[M]:{};M%2?x(Object(j),!0).forEach(function(V){ye(k,V,j[V])}):Object.getOwnPropertyDescriptors?Object.defineProperties(k,Object.getOwnPropertyDescriptors(j)):x(Object(j)).forEach(function(V){Object.defineProperty(k,V,Object.getOwnPropertyDescriptor(j,V))})}return k}function A(k,M){return function(j){if(Array.isArray(j))return j}(k)||function(j,V){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(j)))){var J=[],H=!0,X=!1,Z=void 0;try{for(var se,ce=j[Symbol.iterator]();!(H=(se=ce.next()).done)&&(J.push(se.value),!V||J.length!==V);H=!0);}catch(ze){X=!0,Z=ze}finally{try{H||ce.return==null||ce.return()}finally{if(X)throw Z}}return J}}(k,M)||Be(k,M)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function Be(k,M){if(k){if(typeof k=="string")return Et(k,M);var j=Object.prototype.toString.call(k).slice(8,-1);return j==="Object"&&k.constructor&&(j=k.constructor.name),j==="Map"||j==="Set"?Array.from(k):j==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(j)?Et(k,M):void 0}}function Et(k,M){(M==null||M>k.length)&&(M=k.length);for(var j=0,V=new Array(M);j<M;j++)V[j]=k[j];return V}function jt(k,M){if(!(k instanceof M))throw new TypeError("Cannot call a class as a function")}function Tt(k,M){for(var j=0;j<M.length;j++){var V=M[j];V.enumerable=V.enumerable||!1,V.configurable=!0,"value"in V&&(V.writable=!0),Object.defineProperty(k,V.key,V)}}function Q(k,M){return(Q=Object.setPrototypeOf||function(j,V){return j.__proto__=V,j})(k,M)}function ne(k){var M=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}();return function(){var j,V=pe(k);if(M){var J=pe(this).constructor;j=Reflect.construct(V,arguments,J)}else j=V.apply(this,arguments);return re(this,j)}}function re(k,M){return!M||T(M)!=="object"&&typeof M!="function"?_e(k):M}function _e(k){if(k===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return k}function pe(k){return(pe=Object.setPrototypeOf?Object.getPrototypeOf:function(M){return M.__proto__||Object.getPrototypeOf(M)})(k)}function ye(k,M,j){return M in k?Object.defineProperty(k,M,{value:j,enumerable:!0,configurable:!0,writable:!0}):k[M]=j,k}var St=h.a.createRef(),Re=function(k){(function(H,X){if(typeof X!="function"&&X!==null)throw new TypeError("Super expression must either be null or a function");H.prototype=Object.create(X&&X.prototype,{constructor:{value:H,writable:!0,configurable:!0}}),X&&Q(H,X)})(J,k);var M,j,V=ne(J);function J(H){var X;jt(this,J);for(var Z=arguments.length,se=new Array(Z>1?Z-1:0),ce=1;ce<Z;ce++)se[ce-1]=arguments[ce];return ye(_e(X=V.call.apply(V,[this,H].concat(se))),"canvas",h.a.createRef()),ye(_e(X),"confetti",void 0),X.canvas=H.canvasRef||St,X}return M=J,(j=[{key:"componentDidMount",value:function(){if(this.canvas.current){var H=pt(this.props)[0];this.confetti=new S(this.canvas.current,H)}}},{key:"componentDidUpdate",value:function(){var H=pt(this.props)[0];this.confetti&&(this.confetti.options=H)}},{key:"componentWillUnmount",value:function(){this.confetti&&this.confetti.stop(),this.confetti=void 0}},{key:"render",value:function(){var H=A(pt(this.props),2),X=H[0],Z=H[1],se=N({zIndex:2,position:"absolute",pointerEvents:"none",top:0,left:0,bottom:0,right:0},Z.style);return h.a.createElement("canvas",P({width:X.width,height:X.height,ref:this.canvas},Z,{style:se}))}}])&&Tt(M.prototype,j),J}(u.Component);function pt(k){var M={},j={},V=[].concat(y(Object.keys($)),["confettiSource","drawShape","onConfettiComplete"]),J=["canvasRef"];for(var H in k){var X=k[H];V.includes(H)?M[H]=X:J.includes(H)?J[H]=X:j[H]=X}return[M,j,{}]}ye(Re,"defaultProps",N({},$)),ye(Re,"displayName","ReactConfetti");var b=h.a.forwardRef(function(k,M){return h.a.createElement(Re,P({canvasRef:M},k))});i.default=b}]).default})})(B0);var tA=B0.exports;const nA=Xc(tA);function rA(){const t=["First pop!","Happy Birthday!","Here's a surprise wish!","Congrats on popping the balloon!","Keep going!","Amazing pop!","Special gift coming your way!","Another one popped!","You're unstoppable!","You're on fire!","Boom! A new wish!","Great job!"],[e,n]=q.useState(null),[r,i]=q.useState(new Set),[o,s]=q.useState(!1),[l,u]=q.useState(!1),[h,d]=q.useState(30),[p,m]=q.useState(1),[E,v]=q.useState([]),C=["red","yellow","blue","green","pink"],R=()=>{const I=[];for(let O=0;O<10;O++){const B=Math.random()<.2?"bonus":"normal";I.push(B)}v(I)};q.useEffect(()=>{R()},[]);const _=I=>{if(r.has(I))return;const O=t[Math.floor(Math.random()*t.length)];n(O),i(B=>new Set(B).add(I)),E[I]==="bonus"?(d($=>$+5),n("Bonus time! +5 seconds"),new Audio("./src/assets/.mp3").play()):E[I]==="penalty"?(d($=>$-3),n("Oh no! Time penalty! -3 seconds"),new Audio("./src/assets/penalty-sound.mp3").play()):new Audio("./src/assets/pop-94319.mp3").play(),r.size===9&&(s(!0),u(!0),new Audio("./src/assets/hooray-36461.mp3").play())},w=()=>{n(null),i(new Set),s(!1),u(!1),d(30),m(1),R()};return q.useEffect(()=>{if(h>0&&!o){const I=setInterval(()=>{d(O=>O-p)},1e3);return()=>clearInterval(I)}else h===0&&s(!0)},[h,o,p]),q.useEffect(()=>{h<=10&&m(2),h<=5&&m(3)},[h]),q.useEffect(()=>{if(l){const I=setTimeout(()=>u(!1),3e3);return()=>clearTimeout(I)}},[l]),F.jsxs("div",{className:"games-page min-h-screen flex flex-col items-center justify-center bg-gradient-to-b from-pink-100 to-yellow-200 py-16 px-4",children:[F.jsx("h2",{className:"text-4xl font-extrabold text-purple-700 mb-6 drop-shadow-lg text-center",children:" Balloon Pop Game "}),F.jsxs("p",{className:"text-lg font-bold text-gray-700 mb-4",children:["Time Left: ",h," seconds"]}),F.jsx("div",{className:"progress-bar bg-gray-300 w-full h-4 rounded-full mb-4",children:F.jsx("div",{className:"progress bg-green-500 h-4 rounded-full",style:{width:`${r.size/10*100}%`}})}),F.jsx("div",{className:"balloon-container grid grid-cols-2 sm:grid-cols-3 md:grid-cols-5 gap-4 mb-8",children:[...Array(10)].map((I,O)=>F.jsx("div",{className:`balloon w-20 h-20 sm:w-24 sm:h-24 rounded-full bg-${C[O%5]}-400 flex items-center justify-center text-5xl cursor-pointer transform transition-transform duration-300 
              ${r.has(O)?"scale-50 opacity-50 bg-gray-400":"hover:scale-110 hover:rotate-6"}`,onClick:()=>_(O),children:""},O))}),e&&F.jsx("div",{className:"pop-message text-lg font-semibold text-center bg-purple-300 p-4 rounded-md shadow-xl animate-fade-in mb-4",children:F.jsx("p",{children:e})}),o&&F.jsx("div",{className:"game-over-message text-2xl font-bold text-red-600 mb-8",children:F.jsx("p",{children:" All balloons popped! Game over! "})}),l&&F.jsx(nA,{}),F.jsx("button",{className:"mt-8 py-3 px-8 bg-blue-500 text-white rounded-lg hover:bg-blue-600 transition duration-300",onClick:w,children:o?"Play Again":"Reset Game"})]})}var z0={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},bm=zn.createContext&&zn.createContext(z0),iA=["attr","size","title"];function oA(t,e){if(t==null)return{};var n=sA(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function sA(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function ol(){return ol=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ol.apply(this,arguments)}function Mm(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function sl(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Mm(Object(n),!0).forEach(function(r){aA(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Mm(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function aA(t,e,n){return e=lA(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function lA(t){var e=uA(t,"string");return typeof e=="symbol"?e:e+""}function uA(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function $0(t){return t&&t.map((e,n)=>zn.createElement(e.tag,sl({key:n},e.attr),$0(e.child)))}function cA(t){return e=>zn.createElement(hA,ol({attr:sl({},t.attr)},e),$0(t.child))}function hA(t){var e=n=>{var{attr:r,size:i,title:o}=t,s=oA(t,iA),l=i||n.size||"1em",u;return n.className&&(u=n.className),t.className&&(u=(u?u+" ":"")+t.className),zn.createElement("svg",ol({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},n.attr,r,s,{className:u,style:sl(sl({color:t.color||n.color},n.style),t.style),height:l,width:l,xmlns:"http://www.w3.org/2000/svg"}),o&&zn.createElement("title",null,o),t.children)};return bm!==void 0?zn.createElement(bm.Consumer,null,n=>e(n)):e(z0)}function fA(t){return cA({tag:"svg",attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M128 160h320v192H128V160zm400 96c0 26.51 21.49 48 48 48v96c0 26.51-21.49 48-48 48H48c-26.51 0-48-21.49-48-48v-96c26.51 0 48-21.49 48-48s-21.49-48-48-48v-96c0-26.51 21.49-48 48-48h480c26.51 0 48 21.49 48 48v96c-26.51 0-48 21.49-48 48zm-48-104c0-13.255-10.745-24-24-24H120c-13.255 0-24 10.745-24 24v208c0 13.255 10.745 24 24 24h336c13.255 0 24-10.745 24-24V152z"},child:[]}]})(t)}function dA(){const[t,e]=q.useState("200"),n={100:"https://payment.intasend.com/pay/9a08aec7-a59b-4b87-972d-5a8911ea8142/",200:"https://payment.intasend.com/pay/7565f265-647b-4e18-8ddf-3147eaf878c8/",500:"https://payment.intasend.com/pay/93b367db-9695-4352-8468-584f10c0aa68/",1e3:"https://payment.intasend.com/pay/20f8d627-d1ec-463d-b509-c10bfe0fa46e/",1e4:"https://payment.intasend.com/pay/2eaaf8fc-eb78-4b24-b2d0-a06d803316c3/"},r=()=>{const i=n[t];i?window.location.href=i:alert("Payment link not available")};return F.jsxs("div",{className:"ticket-purchase max-w-md mx-auto p-6 bg-gradient-to-br from-yellow-100 to-orange-200 rounded-lg shadow-2xl text-center",children:[F.jsx("h2",{className:"text-3xl font-extrabold mb-4 text-orange-800",children:" Buy a Ticket "}),F.jsx("p",{className:"mb-6 text-lg text-gray-700",children:"Celebrate with us! Select your ticket type below and join the fun!"}),F.jsxs("div",{className:"text-yellow-600 flex justify-center items-center space-x-2 mb-4",children:[F.jsx(fA,{size:24}),F.jsxs("select",{value:t,onChange:i=>e(i.target.value),className:"ticket-select w-full p-2 bg-white border border-orange-400 rounded-lg focus:outline-none focus:ring-2 focus:ring-orange-500",children:[F.jsx("option",{value:"200",children:" General Ticket - 200 Ksh"}),F.jsx("option",{value:"500",children:" VIP Ticket - 500 Ksh"}),F.jsx("option",{value:"1000",children:" VVIP Ticket - 1000 Ksh"})]})]}),F.jsxs("button",{onClick:r,className:"purchase-button w-full bg-orange-500 text-white p-3 rounded-lg font-bold text-lg hover:bg-orange-600 transition relative overflow-hidden",children:[F.jsx("span",{className:"relative z-10",children:" Purchase Ticket "}),F.jsx("div",{className:"absolute inset-0 bg-yellow-400 opacity-0 hover:opacity-20 transition-transform transform scale-105 rounded-lg mix-blend-screen animate-pulse"})]})]})}function pA(){return F.jsxs(UE,{basename:"/julian",children:["  ",F.jsx("div",{className:"app bg-blue-50 min-h-screen",children:F.jsxs(VE,{children:[F.jsx(Yr,{path:"/",element:F.jsx(ZE,{})}),F.jsx(Yr,{path:"/WishesPage",element:F.jsx(XP,{})}),F.jsx(Yr,{path:"/GiftRegistryPage",element:F.jsx(eA,{})}),F.jsx(Yr,{path:"/BirthdayGames",element:F.jsx(rA,{})}),F.jsx(Yr,{path:"/TicketPurchasePage",element:F.jsx(dA,{})})]})})]})}Yy(document.getElementById("root")).render(F.jsx(q.StrictMode,{children:F.jsx(pA,{})}));
